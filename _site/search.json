[
  {
    "objectID": "slides/f24/02-viz.html#web-dubois",
    "href": "slides/f24/02-viz.html#web-dubois",
    "title": "Data visualization I",
    "section": "WEB Dubois",
    "text": "WEB Dubois\n\n\n(1868 - 1963)\n\nAmerican sociologist\nhistorian\ncivil rights advocate\nData visualization specialist?"
  },
  {
    "objectID": "slides/f24/02-viz.html#why-visualize-data-1",
    "href": "slides/f24/02-viz.html#why-visualize-data-1",
    "title": "Data visualization I",
    "section": "Why visualize data?",
    "text": "Why visualize data?\n\nData carries weight in our society\nVisualizing data is an effective way to convey information, convince, argue\nVisualization can be used to tell The Truthâ„¢ï¸ (or not)"
  },
  {
    "objectID": "slides/f24/02-viz.html#not-telling-the-truth",
    "href": "slides/f24/02-viz.html#not-telling-the-truth",
    "title": "Data visualization I",
    "section": "Not telling The Truthâ„¢ï¸",
    "text": "Not telling The Truthâ„¢ï¸\n\nWhatâ€™s not true here?"
  },
  {
    "objectID": "slides/f24/02-viz.html#selectively-presenting-data",
    "href": "slides/f24/02-viz.html#selectively-presenting-data",
    "title": "Data visualization I",
    "section": "Selectively presenting data",
    "text": "Selectively presenting data"
  },
  {
    "objectID": "slides/f24/02-viz.html#selectively-presenting-data-1",
    "href": "slides/f24/02-viz.html#selectively-presenting-data-1",
    "title": "Data visualization I",
    "section": "Selectively presenting data",
    "text": "Selectively presenting data\n\nSelectively presenting data is one way of not telling The Truthâ„¢ï¸"
  },
  {
    "objectID": "slides/f24/02-viz.html#summarized-data-can-hide-important-details",
    "href": "slides/f24/02-viz.html#summarized-data-can-hide-important-details",
    "title": "Data visualization I",
    "section": "Summarized data can hide important details",
    "text": "Summarized data can hide important details\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAverages (left) are useful, but can be misleading\nRaw data (right) can be more informative"
  },
  {
    "objectID": "slides/f24/02-viz.html#lying-with-the-y-axis",
    "href": "slides/f24/02-viz.html#lying-with-the-y-axis",
    "title": "Data visualization I",
    "section": "Lying with the Y-axis",
    "text": "Lying with the Y-axis\n\n\nLots of shenanigans with the Y-axis, especially when it doesnâ€™t start at zero \\(\\rightarrow\\) exaggerates differences"
  },
  {
    "objectID": "slides/f24/02-viz.html#is-a-y-axis-that-excludes-zero-misleading",
    "href": "slides/f24/02-viz.html#is-a-y-axis-that-excludes-zero-misleading",
    "title": "Data visualization I",
    "section": "Is a y-axis that excludes zero misleading?",
    "text": "Is a y-axis that excludes zero misleading?\n\n\nWhen I was in your shoes, there was a panic about oversupply of lawyers"
  },
  {
    "objectID": "slides/f24/02-viz.html#is-a-y-axis-that-excludes-zero-misleading-1",
    "href": "slides/f24/02-viz.html#is-a-y-axis-that-excludes-zero-misleading-1",
    "title": "Data visualization I",
    "section": "Is a y-axis that excludes zero misleading?",
    "text": "Is a y-axis that excludes zero misleading?\n\n\nA Y-axis that starts at zero can give us context (and relief) about the magnitude of the change"
  },
  {
    "objectID": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero",
    "href": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero",
    "title": "Data visualization I",
    "section": "Should the y-axis always start at zero?",
    "text": "Should the y-axis always start at zero?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nâ€œgraphs that donâ€™t go to zero are a thought crimeâ€ (Fox, 2014)\nis this necessarily true though?\n\n\nCounterpoint: both of these graphs contain useful information\n\nThere was a big drop in 2010s (left), but perhaps a return to a normal level (right)"
  },
  {
    "objectID": "slides/f24/02-viz.html#which-graph-is-more-informative",
    "href": "slides/f24/02-viz.html#which-graph-is-more-informative",
    "title": "Data visualization I",
    "section": "Which graph is more informative?",
    "text": "Which graph is more informative?\n\n\nCase for right: an average life expectancy of zero is not plausible"
  },
  {
    "objectID": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero-1",
    "href": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero-1",
    "title": "Data visualization I",
    "section": "Should the y-axis always start at zero?",
    "text": "Should the y-axis always start at zero?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCritics argue that in context, recent warming is not so dramatic"
  },
  {
    "objectID": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero-2",
    "href": "slides/f24/02-viz.html#should-the-y-axis-always-start-at-zero-2",
    "title": "Data visualization I",
    "section": "Should the y-axis always start at zero?",
    "text": "Should the y-axis always start at zero?\n\nBut is zooming out useful here? Is â€œtemperature at which dinosaurs went extinctâ€ valid context for us now?"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-gapminder-dataset",
    "href": "slides/f24/02-viz.html#the-gapminder-dataset",
    "title": "Data visualization I",
    "section": "The Gapminder dataset",
    "text": "The Gapminder dataset\n\n\n\n\n{gapminder} dataset\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAlbania\nEurope\n1952\n55\n1282697\n1601\n\n\nAlgeria\nAfrica\n1952\n43\n9279525\n2449\n\n\nAngola\nAfrica\n1952\n30\n4232095\n3521\n\n\nArgentina\nAmericas\n1952\n62\n17876956\n5911\n\n\n\n\n\n\n\n\nData on life expectancy, GDP per capita, and population for countries around the world"
  },
  {
    "objectID": "slides/f24/02-viz.html#rows-are-observations",
    "href": "slides/f24/02-viz.html#rows-are-observations",
    "title": "Data visualization I",
    "section": "Rows are observations",
    "text": "Rows are observations\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAlbania\nEurope\n1952\n55\n1282697\n1601\n\n\nAlgeria\nAfrica\n1952\n43\n9279525\n2449\n\n\nAngola\nAfrica\n1952\n30\n4232095\n3521\n\n\nArgentina\nAmericas\n1952\n62\n17876956\n5911\n\n\n\n\n\n\n\n\nIn a dataset, rows are observations\n\nThe data we observe for Afghanistan in the year 1952"
  },
  {
    "objectID": "slides/f24/02-viz.html#rows-are-observations-1",
    "href": "slides/f24/02-viz.html#rows-are-observations-1",
    "title": "Data visualization I",
    "section": "Rows are observations",
    "text": "Rows are observations\n\n\n\n\n\n\nid\nage\ndegree\nrace\nsex\n\n\n\n\n1\n47\nBachelor\nWhite\nMale\n\n\n2\n61\nHigh School\nWhite\nMale\n\n\n3\n72\nBachelor\nWhite\nMale\n\n\n4\n43\nHigh School\nWhite\nFemale\n\n\n5\n55\nGraduate\nWhite\nFemale\n\n\n\n\n\n\n\n\nIn survey data, an observation is typically a person who took the survey (a respondent)"
  },
  {
    "objectID": "slides/f24/02-viz.html#columns-are-variables",
    "href": "slides/f24/02-viz.html#columns-are-variables",
    "title": "Data visualization I",
    "section": "Columns are variables",
    "text": "Columns are variables\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAlbania\nEurope\n1952\n55\n1282697\n1601\n\n\nAlgeria\nAfrica\n1952\n43\n9279525\n2449\n\n\nAngola\nAfrica\n1952\n30\n4232095\n3521\n\n\nArgentina\nAmericas\n1952\n62\n17876956\n5911\n\n\n\n\n\n\n\n\nIn a dataset, columns are variables\n\nLife expectancy and GDP per capita are some of the variables in our data"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-final-graph",
    "href": "slides/f24/02-viz.html#the-final-graph",
    "title": "Data visualization I",
    "section": "The final graph",
    "text": "The final graph\n\n\nThere are four variables on this graph. What are they?"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-grammar-of-graphics-1",
    "href": "slides/f24/02-viz.html#the-grammar-of-graphics-1",
    "title": "Data visualization I",
    "section": "The grammar of graphics",
    "text": "The grammar of graphics\n\nGraphs have an internal logic, or grammar that connects data to visuals\n\n\nData = variables in a dataset\n\n\nAesthetic = visual property of a graph (position, shape, color, etc.)\n\n\nGeometry = representation of an aesthetic (point, line, text, etc.)"
  },
  {
    "objectID": "slides/f24/02-viz.html#mapping-data-to-aesthetics",
    "href": "slides/f24/02-viz.html#mapping-data-to-aesthetics",
    "title": "Data visualization I",
    "section": "Mapping data to aesthetics",
    "text": "Mapping data to aesthetics\n\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nGDP per capita\nPosition(x-axis)\nPoint\n\n\nLife expectancy\nPosition (y-axis)\nPoint\n\n\nContinent\nColor\nPoint\n\n\nPopulation\nSize\nPoint\n\n\n\n\n\n\n\n\n\nTake the data,\nmap it onto an aesthetic,\nand visualize it with a geometry"
  },
  {
    "objectID": "slides/f24/02-viz.html#in-r",
    "href": "slides/f24/02-viz.html#in-r",
    "title": "Data visualization I",
    "section": "In R",
    "text": "In R\n\n\n\n\n\n\nData\naes()\ngeom_\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\ncontinent\ncolor\ngeom_point()\n\n\npop\nsize\ngeom_point()\n\n\n\n\n\n\n\n\nUse the variable names exactly as they appear in the data, map them onto the exact function names in R"
  },
  {
    "objectID": "slides/f24/02-viz.html#ggplot-our-first-function",
    "href": "slides/f24/02-viz.html#ggplot-our-first-function",
    "title": "Data visualization I",
    "section": "ggplot(): our first function ğŸ˜¢",
    "text": "ggplot(): our first function ğŸ˜¢\n\nggplot()\n\n\n\ndonâ€™t fret; You will not memorize these as they appear on screen"
  },
  {
    "objectID": "slides/f24/02-viz.html#ggplot-specify-the-data",
    "href": "slides/f24/02-viz.html#ggplot-specify-the-data",
    "title": "Data visualization I",
    "section": "ggplot: specify the data",
    "text": "ggplot: specify the data\n\nggplot(data = gap_07)\n\n\nOur data is named gap_07 (The Gapminder dataset for the year 2007)"
  },
  {
    "objectID": "slides/f24/02-viz.html#use-aes-to-map-variables-to-aesthetics",
    "href": "slides/f24/02-viz.html#use-aes-to-map-variables-to-aesthetics",
    "title": "Data visualization I",
    "section": "Use aes() to map variables to aesthetics",
    "text": "Use aes() to map variables to aesthetics\n\nggplot(data = gap_07, aes())\n\n\n\n\n\n\n\n\nNote\n\n\naes() goes within ggplot()"
  },
  {
    "objectID": "slides/f24/02-viz.html#map-gdp-to-the-x-axis",
    "href": "slides/f24/02-viz.html#map-gdp-to-the-x-axis",
    "title": "Data visualization I",
    "section": "Map GDP to the x-axis",
    "text": "Map GDP to the x-axis\n\nggplot(data = gap_07, aes(x = gdpPercap))"
  },
  {
    "objectID": "slides/f24/02-viz.html#map-life-expectancy-to-the-y-axis",
    "href": "slides/f24/02-viz.html#map-life-expectancy-to-the-y-axis",
    "title": "Data visualization I",
    "section": "Map Life expectancy to the y-axis",
    "text": "Map Life expectancy to the y-axis\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp))"
  },
  {
    "objectID": "slides/f24/02-viz.html#add-point-geometries-using",
    "href": "slides/f24/02-viz.html#add-point-geometries-using",
    "title": "Data visualization I",
    "section": "add (point) geometries using +",
    "text": "add (point) geometries using +\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp)) + geom_point()"
  },
  {
    "objectID": "slides/f24/02-viz.html#mapping-population-to-size-in-aes",
    "href": "slides/f24/02-viz.html#mapping-population-to-size-in-aes",
    "title": "Data visualization I",
    "section": "mapping population to size in aes()",
    "text": "mapping population to size in aes()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop)) + \n  geom_point()"
  },
  {
    "objectID": "slides/f24/02-viz.html#mapping-continent-to-color-in-aes",
    "href": "slides/f24/02-viz.html#mapping-continent-to-color-in-aes",
    "title": "Data visualization I",
    "section": "mapping continent to color in aes()",
    "text": "mapping continent to color in aes()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + geom_point()"
  },
  {
    "objectID": "slides/f24/02-viz.html#other-layers-replace-the-default-titles-with-labs",
    "href": "slides/f24/02-viz.html#other-layers-replace-the-default-titles-with-labs",
    "title": "Data visualization I",
    "section": "Other layers: replace the default titles with labs()",
    "text": "Other layers: replace the default titles with labs()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + \n  geom_point() + labs(x = \"GDP per capita\")\n\n\nNotice that text is placed within quotation marks!"
  },
  {
    "objectID": "slides/f24/02-viz.html#other-layers-replace-the-default-titles-with-labs-1",
    "href": "slides/f24/02-viz.html#other-layers-replace-the-default-titles-with-labs-1",
    "title": "Data visualization I",
    "section": "Other layers: replace the default titles with labs()",
    "text": "Other layers: replace the default titles with labs()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + \n  geom_point() + labs(x = \"GDP per capita\", y = \"Life expectancy\", \n       title = \"Global wealth and health in 2007\")\n\n\nNotice that text is placed within quotation marks!"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-final-formula",
    "href": "slides/f24/02-viz.html#the-final-formula",
    "title": "Data visualization I",
    "section": "The final formula",
    "text": "The final formula\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, \n                          size = pop, color = continent)) +\n  geom_point() + labs(x = \"GDP per capita\", y = \"Life expectancy\", \n       title = \"Global wealth and health in 2007\")\n\n\nTell ggplot() the data we want to plot\nMap all variables onto aesthetics within aes()\nAdd layers like geom_point() and labs() using +"
  },
  {
    "objectID": "slides/f24/02-viz.html#whats-that-country-way-out-on-the-bottom-right",
    "href": "slides/f24/02-viz.html#whats-that-country-way-out-on-the-bottom-right",
    "title": "Data visualization I",
    "section": "Whatâ€™s that country way out on the bottom right?",
    "text": "Whatâ€™s that country way out on the bottom right?"
  },
  {
    "objectID": "slides/f24/02-viz.html#your-turn-try-labelling-the-points",
    "href": "slides/f24/02-viz.html#your-turn-try-labelling-the-points",
    "title": "Data visualization I",
    "section": "ğŸš¨ Your turn: try labelling the points ğŸš¨",
    "text": "ğŸš¨ Your turn: try labelling the points ğŸš¨\n\nAdd labels to each point by mapping country onto the label aesthetic within aes()\nAdd a text geometry layer to your plot to plot the names\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-basic-plot",
    "href": "slides/f24/02-viz.html#the-basic-plot",
    "title": "Data visualization I",
    "section": "The basic plot",
    "text": "The basic plot\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent)) + \n  geom_point()"
  },
  {
    "objectID": "slides/f24/02-viz.html#map-country-names-to-label-aesthetic",
    "href": "slides/f24/02-viz.html#map-country-names-to-label-aesthetic",
    "title": "Data visualization I",
    "section": "Map country names to label aesthetic",
    "text": "Map country names to label aesthetic\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent, label = country)) + \n  geom_point()"
  },
  {
    "objectID": "slides/f24/02-viz.html#plot-the-labels",
    "href": "slides/f24/02-viz.html#plot-the-labels",
    "title": "Data visualization I",
    "section": "Plot the labels",
    "text": "Plot the labels\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent, label = country)) + \n  geom_point() + \n  geom_text()"
  },
  {
    "objectID": "slides/f24/02-viz.html#what-did-we-do",
    "href": "slides/f24/02-viz.html#what-did-we-do",
    "title": "Data visualization I",
    "section": "What did we do?",
    "text": "What did we do?\n\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\ncontinent\ncolor\ngeom_point()\n\n\npop\nsize\ngeom_point()\n\n\ncountry\nlabel\ngeom_text()\n\n\n\n\n\n\n\n\nTake your data, map it onto an aesthetic, represent with a geometry"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-presidents",
    "href": "slides/f24/02-viz.html#the-presidents",
    "title": "Data visualization I",
    "section": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸",
    "text": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸\n\n\n\nSample of presidential elections\n\n\nyear\nwinner\nwin_party\nec_pct\npopular_pct\ntwo_term\n\n\n\n\n1824\nJohn Quincy Adams\nD.-R.\n0.32\n0.31\nFALSE\n\n\n1828\nAndrew Jackson\nDem.\n0.68\n0.56\nTRUE\n\n\n1832\nAndrew Jackson\nDem.\n0.77\n0.55\nTRUE\n\n\n1836\nMartin Van Buren\nDem.\n0.58\n0.51\nFALSE"
  },
  {
    "objectID": "slides/f24/02-viz.html#your-turn",
    "href": "slides/f24/02-viz.html#your-turn",
    "title": "Data visualization I",
    "section": "ğŸš¨ Your turn ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸš¨\n\nMake a plot of presidential election results using the elections_historic dataset\n% of popular vote (x-axis, popular_pct) and % of electoral college vote (y-axis, ec_pct)\nmap the winnerâ€™s party to the color aesthetic, whether or not president served two terms to shape, and add labels to each point (use winner_label)\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/02-viz.html#us-presidents",
    "href": "slides/f24/02-viz.html#us-presidents",
    "title": "Data visualization I",
    "section": "US Presidents",
    "text": "US Presidents\n\n\nCode\n# libraries\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(ggrepel)\n\n# plot\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct, label = winner_label,\n    color = win_party, shape = two_term, label = winner_label)) + geom_hline(yintercept = 0.5,\n    size = 1.4, color = \"gray80\") + geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +\n    geom_point() + geom_text_repel() + labs(x = \"Percent of popular vote\", y = \"Percent of Electoral College vote\",\n    title = \"Presidential Elections: Popular & Electoral College Margins\", subtitle = \"1824-2016\",\n    color = NULL, size = NULL) + scale_y_continuous(labels = scales::percent) + scale_x_continuous(labels = scales::percent) +\n    scale_color_manual(values = c(yellow, red, blue, \"gray\")) + theme(legend.position = \"none\")\n\n\n\nYou are not responsible for this fancy graph"
  },
  {
    "objectID": "slides/f24/02-viz.html#what-did-we-do-1",
    "href": "slides/f24/02-viz.html#what-did-we-do-1",
    "title": "Data visualization I",
    "section": "What did we do?",
    "text": "What did we do?\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\npopular_pct\nx\ngeom_point()\n\n\nec_pct\ny\ngeom_point()\n\n\nwin_party\ncolor\ngeom_point()\n\n\ntwo_term\nshape\ngeom_point()\n\n\nwinner_label\nlabel\ngeom_text()\n\n\n\n\n\nTake your data, map it onto an aesthetic, represent with a geometry"
  },
  {
    "objectID": "slides/18-testing.html#bootstrap-works-for-regression-too",
    "href": "slides/18-testing.html#bootstrap-works-for-regression-too",
    "title": "Hypothesis testing",
    "section": "Bootstrap works for regression, too",
    "text": "Bootstrap works for regression, too\nSay we wanted to know the relationship between number of kids and age:\n\n\n\n\n\n\n\nNumber of kids\n\n\n(Intercept)\n0.153Â Â Â Â \n\n\n\n(0.086)Â Â Â \n\n\nage\n0.035 ***\n\n\n\n(0.002)Â Â Â \n\n\nnobs\n2849Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#bootstrap-regression",
    "href": "slides/18-testing.html#bootstrap-regression",
    "title": "Hypothesis testing",
    "section": "Bootstrap regression",
    "text": "Bootstrap regression\nWe can simulate uncertainty in our estimate by bootstrapping\n\n\n\n\n\n\n\nBootstrap\nCoefficient\nEstimate\n\n\n\n\n1\nage\n0.0370\n\n\n2\nage\n0.0318\n\n\n3\nage\n0.0354\n\n\n4\nage\n0.0355\n\n\n5\nage\n0.0304\n\n\n6\nage\n0.0347\n\n\n7\nage\n0.0352\n\n\n8\nage\n0.0362\n\n\n9\nage\n0.0312\n\n\n10\nage\n0.0326"
  },
  {
    "objectID": "slides/18-testing.html#regression-uncertainty",
    "href": "slides/18-testing.html#regression-uncertainty",
    "title": "Hypothesis testing",
    "section": "Regression uncertainty",
    "text": "Regression uncertainty\nHow much might our estimate of lm(childs ~ age) vary? Look at the standard error\n\n\n\n\n\n\nmean\nstandard_error\n\n\n0.0346\n0.00166\n\n\n\n\n\n\n\n\nYou might report it is .0345, +/- 2 standard errors"
  },
  {
    "objectID": "slides/18-testing.html#connecting-the-dots",
    "href": "slides/18-testing.html#connecting-the-dots",
    "title": "Hypothesis testing",
    "section": "Connecting the dots",
    "text": "Connecting the dots\nNotice! This is what the (NUMBERS) mean in the regression table; they are the standard error of the coefficient estimate\n\n\n\n\nboot_lm_kids %&gt;% \n  summarise(mean = mean(estimate), \n            standard_error = sd(estimate))\n\n\n\n\n\nmean\nstandard_error\n\n\n0.0346\n0.00166\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNumber of kids\n\n\n(Intercept)\n0.153Â Â Â Â \n\n\n\n(0.086)Â Â Â \n\n\nage\n0.035 ***\n\n\n\n(0.002)Â Â Â \n\n\nnobs\n2849Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#regression-uncertainty-1",
    "href": "slides/18-testing.html#regression-uncertainty-1",
    "title": "Hypothesis testing",
    "section": "Regression uncertainty",
    "text": "Regression uncertainty\nWe can also look at the 95% confidence interval â€“ we are 95% â€œconfidentâ€ the effect of age on the number of children a person has is between .032 and .038"
  },
  {
    "objectID": "slides/18-testing.html#uncertainty-in-r",
    "href": "slides/18-testing.html#uncertainty-in-r",
    "title": "Hypothesis testing",
    "section": "Uncertainty in R",
    "text": "Uncertainty in R\nlm() will estimate the standard error of regression estimates for us using the statistical theory approach, but the results are similar to boostrapping\n\n\nmod = lm(obama ~ sex, data = gss_sm)\ntidy(mod)\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n(Intercept)\n0.576Â \n0.0177\n32.6Â \n5.84e-182\n\n\nsexFemale\n0.0871\n0.0234\n3.72\n0.000206"
  },
  {
    "objectID": "slides/18-testing.html#uncertainty-in-r-1",
    "href": "slides/18-testing.html#uncertainty-in-r-1",
    "title": "Hypothesis testing",
    "section": "Uncertainty in R",
    "text": "Uncertainty in R\nWe can also ask tidy for the 95% CI:\n\ntidy(mod, conf.int = TRUE)\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\nconf.low\nconf.high\n\n\n(Intercept)\n0.576Â \n0.0177\n32.6Â \n5.84e-182\n0.541Â \n0.611\n\n\nsexFemale\n0.0871\n0.0234\n3.72\n0.000206Â \n0.0412\n0.133\n\n\n\n\n\n\n\n\nconf.low and conf.high are the lower and upper bound of the 95% CI"
  },
  {
    "objectID": "slides/18-testing.html#three-scenarios",
    "href": "slides/18-testing.html#three-scenarios",
    "title": "Hypothesis testing",
    "section": "Three scenarios",
    "text": "Three scenarios\nThree scenarios for the results: same effect size, different 95% CIs"
  },
  {
    "objectID": "slides/18-testing.html#how-much-should-we-worry",
    "href": "slides/18-testing.html#how-much-should-we-worry",
    "title": "Hypothesis testing",
    "section": "How much should we worry?",
    "text": "How much should we worry?\n\n\n\nSmall range: great! Effect is precise; ads are worth it!\nBig range: OK-ish! Effect could be tiny, or huge; are the ads worth it? At least we know they help (positive)\nCrosses zero: awful! Ads could work (+), they could do nothing (0), or they could be counterproductive (-)"
  },
  {
    "objectID": "slides/18-testing.html#crossing-zero-the-worst-scenario",
    "href": "slides/18-testing.html#crossing-zero-the-worst-scenario",
    "title": "Hypothesis testing",
    "section": "Crossing zero: the worst scenario",
    "text": "Crossing zero: the worst scenario\nWhen the 95% CI crosses zero we are so uncertain we are unsure whether effect is positive, zero, or negative\n\nResearchers worry so much about this that it is conventional to report whether the 95% CI of an effect estimate crosses zero\n\n\nWhen a 95% CI for an estimate doesnâ€™t cross zero, we say that the estimate is statistically significant\n\n\nIf the 95% CI crosses zero, the estimate is not statistically significant"
  },
  {
    "objectID": "slides/18-testing.html#statistical-significance-1",
    "href": "slides/18-testing.html#statistical-significance-1",
    "title": "Hypothesis testing",
    "section": "Statistical significance",
    "text": "Statistical significance"
  },
  {
    "objectID": "slides/18-testing.html#hypothesis-testing",
    "href": "slides/18-testing.html#hypothesis-testing",
    "title": "Hypothesis testing",
    "section": "Hypothesis testing",
    "text": "Hypothesis testing\n\n\n\nStatistical significance is at the center of hypothesis testing\nResearcher wants to decide between two possibilities:\n\nnull hypothesis (\\(H_0\\)): the ad has no effect on turnout\nalternative hypothesis (\\(H_a\\)): the ad has some effect on turnout\n\nA statistically significant estimate rejects the null\nRemember this is all about sampling uncertainty, not causality!"
  },
  {
    "objectID": "slides/18-testing.html#arbitrary",
    "href": "slides/18-testing.html#arbitrary",
    "title": "Hypothesis testing",
    "section": "Arbitrary?",
    "text": "Arbitrary?\n\nYou could have an estimate with a 95% CI that barely escapes crossing zero, and call that statistically significant\nAnd another estimate with a 95% CI that barely crosses zero, and call that not statistically significant\nThatâ€™s pretty arbitrary!\nAnd it all hinges on the size of the confidence interval\nif we made a 98% CI, or a 95.1% CI, we might conclude different things are and arenâ€™t significant\nThe 95% CI is a convention; where does it come from?"
  },
  {
    "objectID": "slides/18-testing.html#the-arbitrary-nature-of-significance-testing",
    "href": "slides/18-testing.html#the-arbitrary-nature-of-significance-testing",
    "title": "Hypothesis testing",
    "section": "The arbitrary nature of â€œsignificance testingâ€",
    "text": "The arbitrary nature of â€œsignificance testingâ€\nFisher (1925), who came up with it, says:\n\nIt is convenient to take this point [95% CI] as a limit in judging whether [an effect] is to be considered significant or not. (Fisher 1925)\n\n\nBut that other options are plausible:\n\nIf one in twenty [95% CI] does not seem high enough odds, we may, if we prefer it, draw the line at one in fifty [98% CI]â€¦ or one in a hundred [99% CI]â€¦Personally, the writer prefersâ€¦[95% CI] (Fisher 1926)\n\n\n95% = one in twenty"
  },
  {
    "objectID": "slides/18-testing.html#the-significance-testing-controversy",
    "href": "slides/18-testing.html#the-significance-testing-controversy",
    "title": "Hypothesis testing",
    "section": "The significance testing controversy",
    "text": "The significance testing controversy\n\n\n\nSo arbitrary; why make this binary distinction?\nSometimes we have to make the call:\n\nwhen is a babyâ€™s temperature so high that you should give them medicine?\n100.4 is a useful (arbitrary) threshold for action\n\nThis is a huge topic of debate in social science, other proposals we canâ€™t cover:\n\nredefining how we think about probability\nfocusing on estimate sizes\nfocusing on likely range of estimates"
  },
  {
    "objectID": "slides/18-testing.html#statistical-significance-in-r",
    "href": "slides/18-testing.html#statistical-significance-in-r",
    "title": "Hypothesis testing",
    "section": "Statistical significance in R",
    "text": "Statistical significance in R\n\n\n\nThe stars (*) in regression output tell you whether an estimateâ€™s confidence interval crosses zero and at what level of confidence\nThis is done with the p-value (which we donâ€™t cover), the mirror image of the confidence interval\n\n\n\n\n\n\n\n\n\nNumber of kids\n\n\n(Intercept)\n0.153Â Â Â Â \n\n\n\n(0.086)Â Â Â \n\n\nage\n0.035 ***\n\n\n\n(0.002)Â Â Â \n\n\nnobs\n2849Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#reading-the-stars",
    "href": "slides/18-testing.html#reading-the-stars",
    "title": "Hypothesis testing",
    "section": "Reading the stars",
    "text": "Reading the stars\n\n(*) p &lt; .05 = the 95% confidence interval does not cross zero\n(**) p &lt; .01 = the 99% confidence interval does not cross zero\n(***) p &lt; .001 = the 99.9% confidence interval does not cross zero\n\n\n\n\n\n\n\n\nNumber of kids\n\n\n(Intercept)\n0.153Â Â Â Â \n\n\n\n(0.086)Â Â Â \n\n\nage\n0.035 ***\n\n\n\n(0.002)Â Â Â \n\n\nnobs\n2849Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#another-way",
    "href": "slides/18-testing.html#another-way",
    "title": "Hypothesis testing",
    "section": "Another wayâ€¦",
    "text": "Another wayâ€¦\nThe estimate is statistically significant at theâ€¦\n\n(*) p &lt; .05 = the 95% confidence level\n(**) p &lt; .01 = the 99% confidence level\n(***) p &lt; .001 = the 99.9% confidence level\n\n\n\n\n\n\n\n\nNumber of kids\n\n\n(Intercept)\n0.153Â Â Â Â \n\n\n\n(0.086)Â Â Â \n\n\nage\n0.035 ***\n\n\n\n(0.002)Â Â Â \n\n\nnobs\n2849Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#how-much-data-do-i-need-to-estimate-x-1",
    "href": "slides/18-testing.html#how-much-data-do-i-need-to-estimate-x-1",
    "title": "Hypothesis testing",
    "section": "How much data do I need to estimate X?",
    "text": "How much data do I need to estimate X?\nYou need less data to estimate larger effects"
  },
  {
    "objectID": "slides/18-testing.html#how-good-is-my-sample",
    "href": "slides/18-testing.html#how-good-is-my-sample",
    "title": "Hypothesis testing",
    "section": "How good is my sample?",
    "text": "How good is my sample?\nYou can see how big (small) of an effect you can estimate given your data"
  },
  {
    "objectID": "slides/18-testing.html#statistical-significance-and-causalitly",
    "href": "slides/18-testing.html#statistical-significance-and-causalitly",
    "title": "Hypothesis testing",
    "section": "Statistical significance and causalitly",
    "text": "Statistical significance and causalitly\n\nWhen we control for a confounder, our treatment estimate can change a lot\n\n\nIn this case, shrinks closer to zero, but not perfectly; is there still â€œan effectâ€?\n\n\n\n\n\n\n\nNaive model\nModel with controls\n\n\n(Intercept)\n10708.3Â Â Â Â \n-39456.6 ***\n\n\n\n(6210.7)Â Â Â \n(5223.1)Â Â Â \n\n\nbathrooms\n250326.5 ***\n-5164.6Â Â Â Â \n\n\n\n(2759.5)Â Â Â \n(3519.5)Â Â Â \n\n\nsqft_living\nÂ Â Â Â Â Â \n283.9 ***\n\n\n\nÂ Â Â Â Â Â \n(3.0)Â Â Â \n\n\nnobs\n21613Â Â Â Â Â Â \n21613Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#statistical-significance-and-causalitly-1",
    "href": "slides/18-testing.html#statistical-significance-and-causalitly-1",
    "title": "Hypothesis testing",
    "section": "Statistical significance and causalitly",
    "text": "Statistical significance and causalitly\nOne (controversial) approach is to notice that the effect has shrunk closer to zero, so much so that it is no longer statistically significant\n\n\n\n\n\n\n\nNaive model\nModel with controls\n\n\n(Intercept)\n10708.3Â Â Â Â \n-39456.6 ***\n\n\n\n(6210.7)Â Â Â \n(5223.1)Â Â Â \n\n\nbathrooms\n250326.5 ***\n-5164.6Â Â Â Â \n\n\n\n(2759.5)Â Â Â \n(3519.5)Â Â Â \n\n\nsqft_living\nÂ Â Â Â Â Â \n283.9 ***\n\n\n\nÂ Â Â Â Â Â \n(3.0)Â Â Â \n\n\nnobs\n21613Â Â Â Â Â Â \n21613Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.\n\n\n\n\n\n\n\n\n\ncontrolling for the size of the house, there is no longer a statistically significant effect on price"
  },
  {
    "objectID": "slides/18-testing.html#from-the-homework",
    "href": "slides/18-testing.html#from-the-homework",
    "title": "Hypothesis testing",
    "section": "From the homework",
    "text": "From the homework\n\n\n\nIn the naive model, the effect of children on affairs is positive and statistically significant\nBut once we control for the right confounds, the effect of children on affairs is negative and not statistically significant\nThis is one way (the correct) controls can help us make better inferences\n\n\n\n\n\n\n\n\n\nNaive model\nControls model\n\n\n(Intercept)\n0.912 ***\n0.562 *Â Â \n\n\n\n(0.251)Â Â Â \n(0.264)Â Â Â \n\n\nchildrenyes\n0.760 *Â Â \n-0.033Â Â Â Â \n\n\n\n(0.297)Â Â Â \n(0.358)Â Â Â \n\n\nyearsmarried\nÂ Â Â Â Â Â Â Â \n0.112 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.029)Â Â Â \n\n\nnobs\n601Â Â Â Â Â Â Â Â \n601Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/18-testing.html#pulling-it-all-together",
    "href": "slides/18-testing.html#pulling-it-all-together",
    "title": "Hypothesis testing",
    "section": "Pulling it all together",
    "text": "Pulling it all together"
  },
  {
    "objectID": "slides/18-testing.html#where-to-go-from-here-1",
    "href": "slides/18-testing.html#where-to-go-from-here-1",
    "title": "Hypothesis testing",
    "section": "Where to go from here?",
    "text": "Where to go from here?\n\n\n\nBasics of data wrangling, visualization, and analysis\nModeling relationships between variables\nThinking and modeling causally\nMaking inferences with uncertainty"
  },
  {
    "objectID": "slides/18-testing.html#keep-learning-r",
    "href": "slides/18-testing.html#keep-learning-r",
    "title": "Hypothesis testing",
    "section": "Keep learning R",
    "text": "Keep learning R\nEvery Tuesday: free data + a visualization challenge + free code"
  },
  {
    "objectID": "slides/18-testing.html#keep-thinking-causally",
    "href": "slides/18-testing.html#keep-thinking-causally",
    "title": "Hypothesis testing",
    "section": "Keep thinking causally",
    "text": "Keep thinking causally\n\n\n\n\n\n\n\n\n\n\n\n\nNo randomization; who is being compared here?\n\n\n\n\n\n\n\n\n\n\n\n\nBut also: donâ€™t be a lazy cynic! What is the confound?"
  },
  {
    "objectID": "slides/18-testing.html#keep-thinking-about-uncertainty",
    "href": "slides/18-testing.html#keep-thinking-about-uncertainty",
    "title": "Hypothesis testing",
    "section": "Keep thinking about uncertainty",
    "text": "Keep thinking about uncertainty\n\n\n\n\n\n\n\n\n\n\n\n\nWhere is the uncertainty?\n\n\n\n\n\n\n\n\n\n\n\n\n95% CI between Biden and Trump overlap"
  },
  {
    "objectID": "slides/16-uncertainty.html#where-things-stand",
    "href": "slides/16-uncertainty.html#where-things-stand",
    "title": "Uncertainty I",
    "section": "Where things stand",
    "text": "Where things stand\n\nSo far: worrying about causality\n\n\nhow can we know the effect of X on Y is not being confounded by something else?\n\n\nLast bit: how confident are we in our estimates givenâ€¦\n\n\nthat our estimates are based on samples?"
  },
  {
    "objectID": "slides/16-uncertainty.html#uncertainty-in-the-wild",
    "href": "slides/16-uncertainty.html#uncertainty-in-the-wild",
    "title": "Uncertainty I",
    "section": "Uncertainty in the wild",
    "text": "Uncertainty in the wild"
  },
  {
    "objectID": "slides/16-uncertainty.html#uncertainty-in-the-wild-1",
    "href": "slides/16-uncertainty.html#uncertainty-in-the-wild-1",
    "title": "Uncertainty I",
    "section": "Uncertainty in the wild",
    "text": "Uncertainty in the wild"
  },
  {
    "objectID": "slides/16-uncertainty.html#uncertainty-in-the-wild-2",
    "href": "slides/16-uncertainty.html#uncertainty-in-the-wild-2",
    "title": "Uncertainty I",
    "section": "Uncertainty in the wild",
    "text": "Uncertainty in the wild\nThe â€œboundsâ€ in geom_smooth tells us something about how confident we should be in the line:\n\n\nnotice width"
  },
  {
    "objectID": "slides/16-uncertainty.html#why-are-we-uncertain-2",
    "href": "slides/16-uncertainty.html#why-are-we-uncertain-2",
    "title": "Uncertainty I",
    "section": "Why are we uncertain?",
    "text": "Why are we uncertain?\n\n\n\nWe donâ€™t have all the data we care about\nWe have a sample, such as a survey, or a poll, of a population\nProblem each sample will look different, and give us a different answer to the question we are trying to answer\n\n\n\n\n\n\n\nSample locations in Guatemala"
  },
  {
    "objectID": "slides/16-uncertainty.html#whats-going-on-here-terminology",
    "href": "slides/16-uncertainty.html#whats-going-on-here-terminology",
    "title": "Uncertainty I",
    "section": "Whatâ€™s going on here? terminology",
    "text": "Whatâ€™s going on here? terminology\n\n\n\n\n\n\nTerm\nMeaning\nExample\n\n\n\n\nPopulation\nAll of the instances of the thing we care about\nAmerican adults\n\n\nPopulation parameter\nThe thing about the population we want to know\nAverage number of kids among American adults\n\n\nSample\nA subset of the population\nA survey\n\n\nSample estimate\nOur estimate of the population parameter\nAverage number of kids in survey"
  },
  {
    "objectID": "slides/16-uncertainty.html#boring-example-kids",
    "href": "slides/16-uncertainty.html#boring-example-kids",
    "title": "Uncertainty I",
    "section": "Boring example: kids",
    "text": "Boring example: kids\nHow many children does the average American adult have? (Population parameter)\n\nLetâ€™s pretend there were only 2,867 people living in the USA, and they were all perfectly sampled in gss_sm\n\n\n\n\n\n\nA few rows from gss_sm\n\n\nyear\nage\nchilds\ndegree\nrace\nsex\n\n\n\n\n2016\n71\n4\nJunior College\nWhite\nMale\n\n\n2016\n79\n4\nHigh School\nOther\nFemale\n\n\n2016\n53\n5\nLt High School\nOther\nFemale\n\n\n2016\n42\n4\nHigh School\nWhite\nMale\n\n\n2016\n36\n2\nHigh School\nWhite\nFemale"
  },
  {
    "objectID": "slides/16-uncertainty.html#boring-example-kids-1",
    "href": "slides/16-uncertainty.html#boring-example-kids-1",
    "title": "Uncertainty I",
    "section": "Boring example: kids",
    "text": "Boring example: kids\nHow many children does the average American adult have?\n\nWe can get the exact answer, since there are only 2,867 Americans, and theyâ€™re all in our data:\n\ngss_sm %&gt;% \n  summarise(avg_kids = mean(childs, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  avg_kids\n     &lt;dbl&gt;\n1     1.85\n\n\nThe true average number of children in the US is 1.85 (Population parameter)"
  },
  {
    "objectID": "slides/16-uncertainty.html#sampling",
    "href": "slides/16-uncertainty.html#sampling",
    "title": "Uncertainty I",
    "section": "Sampling",
    "text": "Sampling\nNow imagine that instead of having data on every American, we only have a sample of 10 Americans\n\nWhy do we have a sample? Because interviewing every American is prohibitively costly\n\n\nSame way a poll works: a sample to estimate American public opinion"
  },
  {
    "objectID": "slides/16-uncertainty.html#sampling-1",
    "href": "slides/16-uncertainty.html#sampling-1",
    "title": "Uncertainty I",
    "section": "Sampling",
    "text": "Sampling\nWe can pick one sample of 10 people from gss_sm using the rep_sample_n() function from moderndive:\n\n\ngss_sm %&gt;% rep_sample_n(size = 10, reps = 1)\n\n# A tibble: 10 Ã— 33\n# Groups:   replicate [1]\n   replicate  year    id ballot       age childs sibs  degree race  sex   region\n       &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;labelled&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;lab&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; \n 1         1  2016   789 3             51      5 0     High â€¦ Black Male  Southâ€¦\n 2         1  2016  1530 3             47      0 3     Graduâ€¦ White Male  New Eâ€¦\n 3         1  2016   846 2             23      0 6     Junioâ€¦ Black Femaâ€¦ E. Noâ€¦\n 4         1  2016   104 3             89      2 3     High â€¦ White Femaâ€¦ Middlâ€¦\n 5         1  2016   823 3             63      1 9     Lt Hiâ€¦ Black Femaâ€¦ E. Noâ€¦\n 6         1  2016  2040 2             78      0 1     High â€¦ White Femaâ€¦ E. Noâ€¦\n 7         1  2016  1837 2             61      3 3     High â€¦ White Male  Southâ€¦\n 8         1  2016  2820 3             57      3 2     Junioâ€¦ White Femaâ€¦ Southâ€¦\n 9         1  2016  1864 2             62      2 1     High â€¦ Black Femaâ€¦ E. Soâ€¦\n10         1  2016  2159 2             71      2 2     Junioâ€¦ White Male  W. Noâ€¦\n# â„¹ 22 more variables: income16 &lt;fct&gt;, relig &lt;fct&gt;, marital &lt;fct&gt;, padeg &lt;fct&gt;,\n#   madeg &lt;fct&gt;, partyid &lt;fct&gt;, polviews &lt;fct&gt;, happy &lt;fct&gt;, partners &lt;fct&gt;,\n#   grass &lt;fct&gt;, zodiac &lt;fct&gt;, pres12 &lt;labelled&gt;, wtssall &lt;dbl&gt;,\n#   income_rc &lt;fct&gt;, agegrp &lt;fct&gt;, ageq &lt;fct&gt;, siblings &lt;fct&gt;, kids &lt;fct&gt;,\n#   religion &lt;fct&gt;, bigregion &lt;fct&gt;, partners_rc &lt;fct&gt;, obama &lt;dbl&gt;\n\n\n\n\n\n\n\n\nNote\n\n\nsize = size of the sample; reps = number of samples"
  },
  {
    "objectID": "slides/16-uncertainty.html#sample-estimate",
    "href": "slides/16-uncertainty.html#sample-estimate",
    "title": "Uncertainty I",
    "section": "Sample estimate",
    "text": "Sample estimate\nWe can then calculate the average number of kids among that sample of 10 people\n\ngss_sm %&gt;% rep_sample_n(size = 10, reps = 1) %&gt;% \n  summarise(avg_kids = mean(childs, na.rm = TRUE))\n\n# A tibble: 1 Ã— 2\n  replicate avg_kids\n      &lt;int&gt;    &lt;dbl&gt;\n1         1      2.5\n\n\nthis is our sample estimate of the population parameter\n\nNotice that it does not equal the true population parameter (1.87)"
  },
  {
    "objectID": "slides/16-uncertainty.html#the-trouble-with-samples",
    "href": "slides/16-uncertainty.html#the-trouble-with-samples",
    "title": "Uncertainty I",
    "section": "The trouble with samples",
    "text": "The trouble with samples\nProblem: each sample will give you a different estimate. Instead of taking 1 sample of size 10, letâ€™s take 1,000 samples of size 10:\n\n\nkids_10 = gss_sm %&gt;% rep_sample_n(size = 10, reps = 1000) %&gt;% \n  summarise(avg_kids = mean(childs, na.rm = TRUE))\nkids_10\n\n# A tibble: 1,000 Ã— 2\n   replicate avg_kids\n       &lt;int&gt;    &lt;dbl&gt;\n 1         1      2.1\n 2         2      1.6\n 3         3      1  \n 4         4      2.3\n 5         5      1.1\n 6         6      1.5\n 7         7      1.3\n 8         8      1.7\n 9         9      1.3\n10        10      1.2\n# â„¹ 990 more rows"
  },
  {
    "objectID": "slides/16-uncertainty.html#the-trouble-with-samples-1",
    "href": "slides/16-uncertainty.html#the-trouble-with-samples-1",
    "title": "Uncertainty I",
    "section": "The trouble with samples",
    "text": "The trouble with samples\nAcross 1,000 samples of 10 people each, the estimated average number of kids can vary between 0.4 and 4!! Remember, the true average is 1.85"
  },
  {
    "objectID": "slides/16-uncertainty.html#your-turn-views-on-abortion",
    "href": "slides/16-uncertainty.html#your-turn-views-on-abortion",
    "title": "Uncertainty I",
    "section": "ğŸš¨ Your turn: Views on abortion ğŸš¨",
    "text": "ğŸš¨ Your turn: Views on abortion ğŸš¨\nPretend the gss_abortion dataset from stevedata captures how every American feels about abortion:\n\nFind the average level of support for one of the abortion questions.\nNow, take 1,000 samples each of size 10 and calculate the average for each sample. How much do your estimates vary from sample to sample? Whatâ€™s the min/max?\nPlot your sample estimates as a geom_histogram or geom_density.\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/16-uncertainty.html#a-problem-for-regression",
    "href": "slides/16-uncertainty.html#a-problem-for-regression",
    "title": "Uncertainty I",
    "section": "A problem for regression",
    "text": "A problem for regression\n\nThis is also a problem for regression, since every regression estimate is based on a sample\n\n\nWhatâ€™s the relationship between sex and vote choice among American voters?\n\nmod1 = lm(obama ~ sex, data = gss_sm)\ntidy(mod1)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic   p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)   0.576     0.0177     32.6  5.84e-182\n2 sexFemale     0.0871    0.0234      3.72 2.06e-  4\n\n\n\n\nSo females were 8.7 percent more likely to vote for Obama than males\n\n\nThis is the population parameter, since weâ€™re pretending all Americans are in gss_sm"
  },
  {
    "objectID": "slides/16-uncertainty.html#regression-estimates-vary-too",
    "href": "slides/16-uncertainty.html#regression-estimates-vary-too",
    "title": "Uncertainty I",
    "section": "Regression estimates vary too",
    "text": "Regression estimates vary too\nEach sample will produce different regression estimates\n\n\n\n\n\n\nreplicate\nterm\nestimate\n\n\n\n\n1\nsexFemale\n-0.44\n\n\n2\nsexFemale\n-0.23\n\n\n3\nsexFemale\n0.02\n\n\n4\nsexFemale\n0.05\n\n\n5\nsexFemale\n0.65\n\n\n6\nsexFemale\n0.20\n\n\n7\nsexFemale\n0.47\n\n\n8\nsexFemale\n0.25"
  },
  {
    "objectID": "slides/16-uncertainty.html#wrong-effect-estimates",
    "href": "slides/16-uncertainty.html#wrong-effect-estimates",
    "title": "Uncertainty I",
    "section": "Wrong effect estimates",
    "text": "Wrong effect estimates\nMany of the effects we estimate below are even negative! This is the opposite of the population parameter (0.087)"
  },
  {
    "objectID": "slides/16-uncertainty.html#the-solution",
    "href": "slides/16-uncertainty.html#the-solution",
    "title": "Uncertainty I",
    "section": "The solution",
    "text": "The solution\n\n\n\nSo how do we know if our sample estimate is close to the population parameter?\nTurns out that if a sample is random, representative, and largeâ€¦\nâ€¦then the LAW OF LARGE NUMBERS tells us thatâ€¦\nthe sample estimate will be pretty close to the population parameter"
  },
  {
    "objectID": "slides/16-uncertainty.html#law-of-large-numbers",
    "href": "slides/16-uncertainty.html#law-of-large-numbers",
    "title": "Uncertainty I",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nWith a small sample, estimates can vary a lot:"
  },
  {
    "objectID": "slides/16-uncertainty.html#law-of-large-numbers-1",
    "href": "slides/16-uncertainty.html#law-of-large-numbers-1",
    "title": "Uncertainty I",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nAs the sample size (N) increases, estimates begin to converge:"
  },
  {
    "objectID": "slides/16-uncertainty.html#law-of-large-numbers-2",
    "href": "slides/16-uncertainty.html#law-of-large-numbers-2",
    "title": "Uncertainty I",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nThey become more concentrated around the population averageâ€¦"
  },
  {
    "objectID": "slides/16-uncertainty.html#law-of-large-numbers-3",
    "href": "slides/16-uncertainty.html#law-of-large-numbers-3",
    "title": "Uncertainty I",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nAnd eventually it becomes very unlikely the sample estimate is way off"
  },
  {
    "objectID": "slides/16-uncertainty.html#this-works-for-regression-estimates-too",
    "href": "slides/16-uncertainty.html#this-works-for-regression-estimates-too",
    "title": "Uncertainty I",
    "section": "This works for regression estimates, too",
    "text": "This works for regression estimates, too\nRegression estimates also become more precise as sample size increases:"
  },
  {
    "objectID": "slides/16-uncertainty.html#whats-going-on",
    "href": "slides/16-uncertainty.html#whats-going-on",
    "title": "Uncertainty I",
    "section": "Whatâ€™s going on?",
    "text": "Whatâ€™s going on?\nThe larger our sample, the less likely it is that our estimate (average number of kids, the effect of sex on vote choice, etc.) is way off\n\nThis is because as sample size increases, sample estimates tend to converge on the population parameter\n\n\nNext time = weâ€™ll see how to quantify uncertainty based on this tendency\n\n\nIntuitive = the more data we have, the less uncertain we should feel\n\n\nBut this only works if we have a good sample"
  },
  {
    "objectID": "slides/16-uncertainty.html#good-and-bad-samples",
    "href": "slides/16-uncertainty.html#good-and-bad-samples",
    "title": "Uncertainty I",
    "section": "Good and bad samples",
    "text": "Good and bad samples\n\n\nThere are good and bad samples in the world\nGood sample representative of the population and unbiased\nBad sample the opposite of a good sample\nWhat does this mean?\n\n\n\n\n\n\nGood samples"
  },
  {
    "objectID": "slides/16-uncertainty.html#when-sampling-goes-wrong",
    "href": "slides/16-uncertainty.html#when-sampling-goes-wrong",
    "title": "Uncertainty I",
    "section": "When sampling goes wrong",
    "text": "When sampling goes wrong\nImagine that in our quest to find out how many kids the average American has, we do telephone surveys\n\nYounger people are less likely to have a landline than older people, so few young people make it onto our survey\n\n\nwhat happens to our estimate?"
  },
  {
    "objectID": "slides/16-uncertainty.html#when-sampling-goes-wrong-1",
    "href": "slides/16-uncertainty.html#when-sampling-goes-wrong-1",
    "title": "Uncertainty I",
    "section": "When sampling goes wrong",
    "text": "When sampling goes wrong\nWe can simulate this by again pretending gss_sm is the whole of the US\n\nLetâ€™s imagine the extreme scenario where no one under 25 makes it into the survey:\n\ngss_sm %&gt;% \n  filter(age &gt;= 25) %&gt;%\n  rep_sample_n(size = 10, reps = 1000) %&gt;% \n  summarise(avg_kids = mean(childs, na.rm = TRUE))\n\nIâ€™ve filtered out all people in gss_sm under 25 so they cannot be sampled"
  },
  {
    "objectID": "slides/16-uncertainty.html#when-sampling-goes-wrong-2",
    "href": "slides/16-uncertainty.html#when-sampling-goes-wrong-2",
    "title": "Uncertainty I",
    "section": "When sampling goes wrong",
    "text": "When sampling goes wrong"
  },
  {
    "objectID": "slides/16-uncertainty.html#when-sampling-goes-wrong-3",
    "href": "slides/16-uncertainty.html#when-sampling-goes-wrong-3",
    "title": "Uncertainty I",
    "section": "When sampling goes wrong",
    "text": "When sampling goes wrong\nAs sample size increases, variability of estimates will still decrease"
  },
  {
    "objectID": "slides/16-uncertainty.html#when-sampling-goes-wrong-4",
    "href": "slides/16-uncertainty.html#when-sampling-goes-wrong-4",
    "title": "Uncertainty I",
    "section": "When sampling goes wrong",
    "text": "When sampling goes wrong\nBut estimates will be biased, regardless of sample size"
  },
  {
    "objectID": "slides/16-uncertainty.html#whats-going-on-1",
    "href": "slides/16-uncertainty.html#whats-going-on-1",
    "title": "Uncertainty I",
    "section": "Whatâ€™s going on?",
    "text": "Whatâ€™s going on?\nThe sample is not representative of the population (the young people are missing)\n\nThis biases our estimate of the population parameter\n\n\nRandomness is key = everyone needs a similar chance of ending up in the sample\n\n\nWhen young people donâ€™t have land-lines, not everyone has a similar chance of ending up in the sample"
  },
  {
    "objectID": "slides/16-uncertainty.html#a-big-problem",
    "href": "slides/16-uncertainty.html#a-big-problem",
    "title": "Uncertainty I",
    "section": "A big problem!",
    "text": "A big problem!"
  },
  {
    "objectID": "slides/16-uncertainty.html#your-turn-bias-the-polls",
    "href": "slides/16-uncertainty.html#your-turn-bias-the-polls",
    "title": "Uncertainty I",
    "section": "ğŸš¨ Your turn: bias the polls ğŸš¨",
    "text": "ğŸš¨ Your turn: bias the polls ğŸš¨\nUsing the gss_abortion data again, imagine you are an evil pollster:\n\nThink about who you would have to exclude from the data to create estimates that benefit the pro-choice and pro-life side of the abortion debate.\nShow that even as the sample size increases and estimate variability decreases, we still get biased results.\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/16-uncertainty.html#key-takeaways",
    "href": "slides/16-uncertainty.html#key-takeaways",
    "title": "Uncertainty I",
    "section": "Key takeaways",
    "text": "Key takeaways\n\n\n\nWe worry that each sample will give us a different answer, and some answers will be very wrong\nThe tendency for sample estimates to approach the population parameter as sample size increases (the law of large numbers) saves us\nBut it all depends on whether we have a random, representative (good) sample; no amount of data in the world will correct for sampling bias"
  },
  {
    "objectID": "slides/14-dags.html#do-waffles-cause-divorce",
    "href": "slides/14-dags.html#do-waffles-cause-divorce",
    "title": "DAGs II",
    "section": "Do waffles cause divorce?",
    "text": "Do waffles cause divorce?\nRemember, we have strong reason to believe the South is confounding the relationship between Waffle Houses and divorce rates:\n\n\nSpeak about true effects and null effects"
  },
  {
    "objectID": "slides/14-dags.html#weve-already-done-it",
    "href": "slides/14-dags.html#weve-already-done-it",
    "title": "DAGs II",
    "section": "Weâ€™ve already done it",
    "text": "Weâ€™ve already done it\nOne way to adjust/control for backdoor paths is with multiple regression:\n\nIn general: \\(Y = \\alpha + \\beta_1X_1 + \\beta_2X_2 + \\dots\\)\n\n\nIn this case: \\(Y = \\alpha + \\beta_1Waffles + \\beta_2South\\)\n\n\nIn multiple regression, coefficients (\\(\\beta_i\\)) are different: they describe the relationship between X1 and Y, after adjusting for the X2, X3, X4, etc."
  },
  {
    "objectID": "slides/14-dags.html#what-does-it-mean-to-control",
    "href": "slides/14-dags.html#what-does-it-mean-to-control",
    "title": "DAGs II",
    "section": "What does it mean to control?",
    "text": "What does it mean to control?\n\n\n\\(Y = \\alpha + \\beta_1Waffles + \\beta_2South\\)\nThree ways of thinking about \\(\\color{red}{\\beta_1}\\) here:\n\nThe relationship between Waffles and Divorce, controlling for the South\nThe relationship between Waffles and Divorce that cannot be explained by the South\nThe relationship between Waffles and Divorce, comparing among similar states (South vs.Â South, North vs.Â North)"
  },
  {
    "objectID": "slides/14-dags.html#comparing-models",
    "href": "slides/14-dags.html#comparing-models",
    "title": "DAGs II",
    "section": "Comparing models",
    "text": "Comparing models\nLetâ€™s fit two models of the effect of GDP on life expectancy, one with controls and one without:\n\nno_controls = lm(lifeExp ~ gdpPercap, data = gap)\ncontrols = lm(lifeExp ~ gdpPercap + pop + year, data = gap)\n\n\nPopulation and year might be forks here: they affect both economic activity and life expectancy\n\n\n\n\n\n\n\n\nNote\n\n\nIâ€™ve re-scaled gdp (10,000s) and population (millions)"
  },
  {
    "objectID": "slides/14-dags.html#the-regression-table",
    "href": "slides/14-dags.html#the-regression-table",
    "title": "DAGs II",
    "section": "The regression table",
    "text": "The regression table\nWe can compare models using a regression table;\nmany different functions, weâ€™ll use huxreg() from the huxtable package\n\n\nhuxreg(\"No controls\" = no_controls, \"With controls\" = controls)\n\n\n\n\n\n\n\nNote\n\n\nFormat: huxreg(\"label for model 1\" = model_1, \"label for model 2\" = model_2, ...)"
  },
  {
    "objectID": "slides/14-dags.html#the-regression-table-1",
    "href": "slides/14-dags.html#the-regression-table-1",
    "title": "DAGs II",
    "section": "The regression table",
    "text": "The regression table\n\nhuxreg(\"No controls\" = no_controls, \"With controls\" = controls)\n\n\n\n\n\n\nNo controls\nWith controls\n\n\n(Intercept)\n53.956 ***\n-411.450 ***\n\n\n\n(0.315)Â Â Â \n(27.666)Â Â Â \n\n\ngdpPercap\n7.649 ***\n6.729 ***\n\n\n\n(0.258)Â Â Â \n(0.244)Â Â Â \n\n\npop\nÂ Â Â Â Â Â Â Â \n0.006 **Â \n\n\n\nÂ Â Â Â Â Â Â Â \n(0.002)Â Â Â \n\n\nyear\nÂ Â Â Â Â Â Â Â \n0.235 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.014)Â Â Â \n\n\nN\n1704Â Â Â Â Â Â Â Â \n1704Â Â Â Â Â Â Â Â \n\n\nR2\n0.341Â Â Â Â \n0.440Â Â Â Â \n\n\nlogLik\n-6422.205Â Â Â Â \n-6282.869Â Â Â Â \n\n\nAIC\n12850.409Â Â Â Â \n12575.737Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#comparison",
    "href": "slides/14-dags.html#comparison",
    "title": "DAGs II",
    "section": "Comparison",
    "text": "Comparison\n\n\n\nModel 1 has no controls: just the relationship between GDP and life expectancy\nModel 2 controls/adjusts for: population and year\nthe effect of GDP per capita on life expectancy changes with controls\nThe estimate is smaller\n\n\n\n\n\n\n\n\n\nNo controls\nWith controls\n\n\n(Intercept)\n53.956 ***\n-411.450 ***\n\n\n\n(0.315)Â Â Â \n(27.666)Â Â Â \n\n\ngdpPercap\n7.649 ***\n6.729 ***\n\n\n\n(0.258)Â Â Â \n(0.244)Â Â Â \n\n\npop\nÂ Â Â Â Â Â Â Â \n0.006 **Â \n\n\n\nÂ Â Â Â Â Â Â Â \n(0.002)Â Â Â \n\n\nyear\nÂ Â Â Â Â Â Â Â \n0.235 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.014)Â Â Â \n\n\nN\n1704Â Â Â Â Â Â Â Â \n1704Â Â Â Â Â Â Â Â \n\n\nR2\n0.341Â Â Â Â \n0.440Â Â Â Â \n\n\nlogLik\n-6422.205Â Â Â Â \n-6282.869Â Â Â Â \n\n\nAIC\n12850.409Â Â Â Â \n12575.737Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#interpretation",
    "href": "slides/14-dags.html#interpretation",
    "title": "DAGs II",
    "section": "Interpretation",
    "text": "Interpretation\n\n\nNo controls: every additional 10k of GDP = 7.6 years more life expectancy\nWith controls: after adjusting for population and year, every additional 10k of GDP = 6.7 years more of life expectancy\n\n\n\n\n\n\n\n\nNo controls\nWith controls\n\n\n(Intercept)\n53.956 ***\n-411.450 ***\n\n\n\n(0.315)Â Â Â \n(27.666)Â Â Â \n\n\ngdpPercap\n7.649 ***\n6.729 ***\n\n\n\n(0.258)Â Â Â \n(0.244)Â Â Â \n\n\npop\nÂ Â Â Â Â Â Â Â \n0.006 **Â \n\n\n\nÂ Â Â Â Â Â Â Â \n(0.002)Â Â Â \n\n\nyear\nÂ Â Â Â Â Â Â Â \n0.235 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.014)Â Â Â \n\n\nnobs\n1704Â Â Â Â Â Â Â Â \n1704Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.\n\n\n\n\n\n\n\n\n\n\nIn other words: .shout[comparing countries with similar population levels and in the same year], every additional 10k of GDP = 6.7 years more of life expectancy"
  },
  {
    "objectID": "slides/14-dags.html#another-example-and",
    "href": "slides/14-dags.html#another-example-and",
    "title": "DAGs II",
    "section": "Another example: ğŸš½ and ğŸ’°",
    "text": "Another example: ğŸš½ and ğŸ’°\nHow much does having an additional bathroom boost a houseâ€™s value?\n\n\n\n\n\n\nprice\nbedrooms\nbathrooms\nsqft_living\nwaterfront\n\n\n\n\n379900\n3\n2\n3110\nFALSE\n\n\n998000\n4\n2\n2910\nFALSE\n\n\n530000\n2\n2\n1785\nFALSE\n\n\n530000\n3\n2\n2030\nFALSE\n\n\n396000\n3\n2\n2340\nFALSE\n\n\n348000\n2\n2\n1270\nFALSE\n\n\n452000\n2\n2\n1740\nFALSE\n\n\n201000\n3\n1\n900\nFALSE"
  },
  {
    "objectID": "slides/14-dags.html#another-example-and-1",
    "href": "slides/14-dags.html#another-example-and-1",
    "title": "DAGs II",
    "section": "Another example: ğŸš½ and ğŸ’°",
    "text": "Another example: ğŸš½ and ğŸ’°\nA huge effect:\n\nno_controls = lm(price ~ bathrooms, data = house_prices)\nhuxreg(\"No controls\" = no_controls)\n\n\n\n\n\n\nNo controls\n\n\n(Intercept)\n10708.309Â Â Â Â \n\n\n\n(6210.669)Â Â Â \n\n\nbathrooms\n250326.516 ***\n\n\n\n(2759.528)Â Â Â \n\n\nN\n21613Â Â Â Â Â Â Â Â \n\n\nR2\n0.276Â Â Â Â \n\n\nlogLik\n-304117.741Â Â Â Â \n\n\nAIC\n608241.481Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#the-problem",
    "href": "slides/14-dags.html#the-problem",
    "title": "DAGs II",
    "section": "The problem",
    "text": "The problem\nWe are comparing houses with more and fewer bathrooms. But houses with more bathrooms tend to be larger! So house size is confounding the relationship between ğŸš½ and ğŸ’°"
  },
  {
    "objectID": "slides/14-dags.html#controlling-for-size",
    "href": "slides/14-dags.html#controlling-for-size",
    "title": "DAGs II",
    "section": "Controlling for size",
    "text": "Controlling for size\nWhat happens if we control for how large a house is?\n\n\n\nThe effect goes very close to zero (by house price standards), and is even negative\n\n\n\ncontrols = lm(price ~ bathrooms + sqft_living, data = house_prices)\nhuxreg(\"No controls\" = no_controls, \"Controls\" = controls)\n\n\n\n\n\n\nNo controls\nControls\n\n\n(Intercept)\n10708.309Â Â Â Â \n-39456.614 ***\n\n\n\n(6210.669)Â Â Â \n(5223.129)Â Â Â \n\n\nbathrooms\n250326.516 ***\n-5164.600Â Â Â Â \n\n\n\n(2759.528)Â Â Â \n(3519.452)Â Â Â \n\n\nsqft_living\nÂ Â Â Â Â Â Â Â \n283.892 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(2.951)Â Â Â \n\n\nN\n21613Â Â Â Â Â Â Â Â \n21613Â Â Â Â Â Â Â Â \n\n\nR2\n0.276Â Â Â Â \n0.493Â Â Â Â \n\n\nlogLik\n-304117.741Â Â Â Â \n-300266.206Â Â Â Â \n\n\nAIC\n608241.481Â Â Â Â \n600540.413Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#does-this-actually-work-back-to-the-waffles",
    "href": "slides/14-dags.html#does-this-actually-work-back-to-the-waffles",
    "title": "DAGs II",
    "section": "Does this actually work? Back to the waffles",
    "text": "Does this actually work? Back to the waffles\nThese are examples with real data, where we canâ€™t know for sure if our controls are doing what we think\n\nOnly way to know for sure is with made-up data, where we know the effects ex ante:\n\n\n\nfake = tibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n              waffle = rnorm(n = 50, mean = 20, sd = 4) + 10 * south,\n              divorce = rnorm(n = 50, mean = 20, sd = 2) + 8 * south)"
  },
  {
    "objectID": "slides/14-dags.html#controlling-for-the-south",
    "href": "slides/14-dags.html#controlling-for-the-south",
    "title": "DAGs II",
    "section": "Controlling for the South",
    "text": "Controlling for the South\nFit a naive model without controls, and the correct one controlling for the South:\n\nnaive_waffles = lm(divorce ~ waffle, data = fake)\ncontrol_waffles = lm(divorce ~ waffle + south, data = fake)"
  },
  {
    "objectID": "slides/14-dags.html#the-results",
    "href": "slides/14-dags.html#the-results",
    "title": "DAGs II",
    "section": "The results",
    "text": "The results\nPerfect! Naive model is confounded; but controlling for the South, we get pretty close to the truth (0 effect)\n\n\n\n\n\n\n\nNaive model\nControl South\n\n\n(Intercept)\n7.479 ***\n15.774 ***\n\n\n\n(1.671)Â Â Â \n(1.787)Â Â Â \n\n\nwaffle\n0.648 ***\n0.191 *Â Â \n\n\n\n(0.064)Â Â Â \n(0.086)Â Â Â \n\n\nsouth\nÂ Â Â Â Â Â Â Â \n6.285 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.980)Â Â Â \n\n\nnobs\n50Â Â Â Â Â Â Â Â \n50Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#whats-going-on",
    "href": "slides/14-dags.html#whats-going-on",
    "title": "DAGs II",
    "section": "Whatâ€™s going on?",
    "text": "Whatâ€™s going on?\n\nIn our made-up world, if we control for the South we can get back the uncounfounded estimate of Divorce ~ Waffles\n\n\nBut whatâ€™s lm() doing under-the-hood that makes this possible?"
  },
  {
    "objectID": "slides/14-dags.html#whats-going-on-1",
    "href": "slides/14-dags.html#whats-going-on-1",
    "title": "DAGs II",
    "section": "Whatâ€™s going on?",
    "text": "Whatâ€™s going on?\n\n\n\nlm() is estimating \\(South \\rightarrow Divorce\\) and \\(South \\rightarrow Waffles\\)\nit is then subtracting out or removing the effect of South on Divorce and Waffles\nwhatâ€™s left is the relationship between Waffles and Divorce, adjusting for the influence of the South on each"
  },
  {
    "objectID": "slides/14-dags.html#visualizing-controlling-for-the-south",
    "href": "slides/14-dags.html#visualizing-controlling-for-the-south",
    "title": "DAGs II",
    "section": "Visualizing controlling for the South",
    "text": "Visualizing controlling for the South\nThis is the confounded relationship between waffles and divorce (zoomed out)"
  },
  {
    "objectID": "slides/14-dags.html#add-the-south",
    "href": "slides/14-dags.html#add-the-south",
    "title": "DAGs II",
    "section": "Add the south",
    "text": "Add the south\nWe can see what we already know: states in the South tend to have more divorce, and more waffles"
  },
  {
    "objectID": "slides/14-dags.html#effect-of-south-on-divorce",
    "href": "slides/14-dags.html#effect-of-south-on-divorce",
    "title": "DAGs II",
    "section": "Effect of south on divorce",
    "text": "Effect of south on divorce\n\\(South \\rightarrow Divorce = 10\\) How much higher, on average, divorce is in the South than the North"
  },
  {
    "objectID": "slides/14-dags.html#remove-effect-of-south-on-divorce",
    "href": "slides/14-dags.html#remove-effect-of-south-on-divorce",
    "title": "DAGs II",
    "section": "Remove effect of South on divorce",
    "text": "Remove effect of South on divorce\nRegression subtracts out the effect of the South on divorce"
  },
  {
    "objectID": "slides/14-dags.html#next-effect-of-south-on-waffles",
    "href": "slides/14-dags.html#next-effect-of-south-on-waffles",
    "title": "DAGs II",
    "section": "Next: effect of South on waffles",
    "text": "Next: effect of South on waffles\n\\(South \\rightarrow Waffles = 8\\) How many more, on average, Waffle Houses there are in the South than the North"
  },
  {
    "objectID": "slides/14-dags.html#subtract-out-the-effect-of-south-on-waffles",
    "href": "slides/14-dags.html#subtract-out-the-effect-of-south-on-waffles",
    "title": "DAGs II",
    "section": "Subtract out the effect of south on waffles",
    "text": "Subtract out the effect of south on waffles\nRegression subtracts out the effect of the South on waffles"
  },
  {
    "objectID": "slides/14-dags.html#whats-left-over",
    "href": "slides/14-dags.html#whats-left-over",
    "title": "DAGs II",
    "section": "Whatâ€™s left over?",
    "text": "Whatâ€™s left over?\nThe true effect of waffles on divorce \\(\\approx\\) 0"
  },
  {
    "objectID": "slides/14-dags.html#the-perplexing-pipe",
    "href": "slides/14-dags.html#the-perplexing-pipe",
    "title": "DAGs II",
    "section": "The perplexing pipe",
    "text": "The perplexing pipe\nRemember, with a perplexing pipe, controlling for Z blocks the effect of X on Y:"
  },
  {
    "objectID": "slides/14-dags.html#simulation",
    "href": "slides/14-dags.html#simulation",
    "title": "DAGs II",
    "section": "Simulation",
    "text": "Simulation\nLetâ€™s make up some data to show this: every unit of foreign aid increases corruption by 8; every unit of corruption increases the number of protest by 4\n\n\nfake_pipe = tibble(aid = rnorm(n = 200, mean = 10), \n                   corruption = rnorm(n = 200, mean = 10) + 8 * aid, \n                   protest = rnorm(n = 200, mean = 10) + 4 * corruption)\n\n\n\nWhat is the true effect of aid on protest? Tricky since the effect runs through corruption\n\n\nFor every unit of aid, corruption increases by 8; and for every unit of corruption, protest increases by 4â€¦\n\n\nThe effect of aid on protest is \\(4 \\times 8 = 32\\)"
  },
  {
    "objectID": "slides/14-dags.html#the-data",
    "href": "slides/14-dags.html#the-data",
    "title": "DAGs II",
    "section": "The data",
    "text": "The data\n\n\n\n\n\n\naid\ncorruption\nprotest\n\n\n\n\n9.23\n82.95\n342.13\n\n\n7.18\n65.69\n275.31\n\n\n9.59\n84.85\n349.96\n\n\n9.37\n84.27\n346.49\n\n\n9.81\n89.66\n368.28\n\n\n8.97\n80.65\n332.55"
  },
  {
    "objectID": "slides/14-dags.html#bad-controls",
    "href": "slides/14-dags.html#bad-controls",
    "title": "DAGs II",
    "section": "Bad controls",
    "text": "Bad controls\nRemember, with a pipe controlling for Z (corruption) is a bad idea\n\nLetâ€™s fit two models, where one makes the mistake of controlling for corruption\n\n\n\nright_model = lm(protest ~ aid, data = fake_pipe)\nbad_control = lm(protest ~ aid + corruption, data = fake_pipe)"
  },
  {
    "objectID": "slides/14-dags.html#bad-controls-1",
    "href": "slides/14-dags.html#bad-controls-1",
    "title": "DAGs II",
    "section": "Bad controls",
    "text": "Bad controls\nNotice how the model that mistakenly controls for Z tells you that X basically has no effect on Y (wrong)\n\n\n\n\n\n\n\nCorrect model\nBad control\n\n\n(Intercept)\n49.803 ***\n9.783 ***\n\n\n\n(3.122)Â Â Â \n(0.901)Â Â Â \n\n\naid\n31.970 ***\n-0.817Â Â Â Â \n\n\n\n(0.312)Â Â Â \n(0.507)Â Â Â \n\n\ncorruption\nÂ Â Â Â Â Â Â Â \n4.094 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.063)Â Â Â \n\n\nnobs\n200Â Â Â Â Â Â Â Â \n200Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#the-exploding-collider",
    "href": "slides/14-dags.html#the-exploding-collider",
    "title": "DAGs II",
    "section": "The exploding collider",
    "text": "The exploding collider\nRemember, with an exploding collider, controlling for M creates strange correlations between X and Y:"
  },
  {
    "objectID": "slides/14-dags.html#simulation-1",
    "href": "slides/14-dags.html#simulation-1",
    "title": "DAGs II",
    "section": "Simulation",
    "text": "Simulation\nLetâ€™s make up some data to show this:\n\nfake_collider = tibble(x = rnorm(n = 100, mean = 10), \n                   y = rnorm(n = 100, mean = 10),\n                   m = rnorm(n = 100, mean = 10) + 8 * x + 4 * y)\n\n\nX has an effect of 8 on M\nY has an effect of 4 on M\nX has no effect on Y"
  },
  {
    "objectID": "slides/14-dags.html#the-data-1",
    "href": "slides/14-dags.html#the-data-1",
    "title": "DAGs II",
    "section": "The data",
    "text": "The data\n\n\n\n\n\n\nx\ny\nm\n\n\n\n\n9.094432\n8.115710\n114.9313\n\n\n10.043012\n10.645053\n133.7738\n\n\n10.225254\n10.171595\n131.9025\n\n\n9.454381\n10.527610\n128.8469\n\n\n10.024405\n11.665213\n135.4701\n\n\n9.594685\n9.837076\n126.1522"
  },
  {
    "objectID": "slides/14-dags.html#bad-controls-2",
    "href": "slides/14-dags.html#bad-controls-2",
    "title": "DAGs II",
    "section": "Bad controls",
    "text": "Bad controls\nWhatâ€™s the true effect of X on Y? itâ€™s zero\nRemember, with a collider controlling for M is a bad idea\nLetâ€™s fit two models, where one makes the mistake of controlling for M\n\nright_model = lm(y ~ x, data = fake_collider)\ncollided_model = lm(y ~ x + m, data = fake_collider)"
  },
  {
    "objectID": "slides/14-dags.html#bad-controls-3",
    "href": "slides/14-dags.html#bad-controls-3",
    "title": "DAGs II",
    "section": "Bad controls",
    "text": "Bad controls\nNotice how the model that mistakenly controls for M tells you that X has a strong, negative effect on Y (wrong)\n\n\n\n\n\n\n\nCorrect model\nCollided!\n\n\n(Intercept)\n8.697 ***\n-1.331 ***\n\n\n\n(0.989)Â Â Â \n(0.356)Â Â Â \n\n\nx\n0.138Â Â Â Â \n-1.957 ***\n\n\n\n(0.099)Â Â Â \n(0.059)Â Â Â \n\n\nm\nÂ Â Â Â Â Â Â Â \n0.238 ***\n\n\n\nÂ Â Â Â Â Â Â Â \n(0.006)Â Â Â \n\n\nnobs\n100Â Â Â Â Â Â Â Â \n100Â Â Â Â Â Â Â Â \n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/14-dags.html#colliding-as-sample-selection",
    "href": "slides/14-dags.html#colliding-as-sample-selection",
    "title": "DAGs II",
    "section": "Colliding as sample selection",
    "text": "Colliding as sample selection\nMost of the time when we see a collider, itâ€™s because weâ€™re looking at a weird sample of the population weâ€™re interested in\n\nExamples: the non-relationship between height and scoring, among NBA players; the (alleged) negative correlation between how surprising and reliable findings are, among published research"
  },
  {
    "objectID": "slides/14-dags.html#hiring-at-google",
    "href": "slides/14-dags.html#hiring-at-google",
    "title": "DAGs II",
    "section": "Hiring at Google",
    "text": "Hiring at Google\nImagine Google wants to hire the best of the best, and they have two criteria: interpersonal skills, and technical skills\n\nSay Google can measure how socially and technically skilled someone is (0-100)\n\nfake_google = tibble(social_skills = rnorm(n = 200, mean = 50, sd = 10), \n                     tech_skills = rnorm(n = 200, mean = 50, sd = 10))\n\n\n\nThe two are causally unrelated: one does not affect the other; improving someoneâ€™s social skills would not hurt their technical skills"
  },
  {
    "objectID": "slides/14-dags.html#the-data-2",
    "href": "slides/14-dags.html#the-data-2",
    "title": "DAGs II",
    "section": "The data",
    "text": "The data\n\n\n\n\n\n\nsocial_skills\ntech_skills\n\n\n\n\n37.87\n38.46\n\n\n27.31\n54.83\n\n\n56.66\n52.63\n\n\n43.63\n32.23\n\n\n48.43\n42.49\n\n\n44.41\n47.49\n\n\n44.91\n25.93\n\n\n42.47\n22.64"
  },
  {
    "objectID": "slides/14-dags.html#simulate-the-hiring-process",
    "href": "slides/14-dags.html#simulate-the-hiring-process",
    "title": "DAGs II",
    "section": "Simulate the hiring process",
    "text": "Simulate the hiring process\nNow imagine that they add up the two skills to see a personâ€™s overall quality:\n\nfake_google %&gt;% \n  mutate(total_score = social_skills + tech_skills)\n\n\n\n\n\nsocial_skills\ntech_skills\ntotal_score\n\n\n54.2\n53.6\n108Â Â \n\n\n61.5\n39.6\n101Â Â \n\n\n55.1\n59.8\n115Â Â \n\n\n67.3\n49.3\n117Â Â \n\n\n57.9\n58.6\n116Â Â \n\n\n45.7\n36.2\n81.9\n\n\n36.8\n69.5\n106Â Â \n\n\n40.1\n33.1\n73.2\n\n\n52.6\n47.4\n100Â Â \n\n\n59Â Â \n46.4\n105Â Â \n\n\n46Â Â \n47Â Â \n93.1\n\n\n47.5\n39.3\n86.8\n\n\n26.8\n55.3\n82Â Â \n\n\n53.2\n60Â Â \n113Â Â \n\n\n56.7\n52.6\n109Â Â \n\n\n41.8\n59.5\n101Â Â \n\n\n44.7\n38.5\n83.1\n\n\n58Â Â \n50Â Â \n108Â Â \n\n\n46.5\n50.8\n97.3\n\n\n41.4\n42.8\n84.2\n\n\n46.2\n44.2\n90.4\n\n\n55.8\n53.4\n109Â Â \n\n\n39.6\n38.6\n78.2\n\n\n48.1\n45.6\n93.7\n\n\n52.4\n48.2\n101Â Â \n\n\n54.5\n50.9\n105Â Â \n\n\n53.2\n46.4\n99.6\n\n\n56.1\n43Â Â \n99.1\n\n\n53.1\n59.2\n112Â Â \n\n\n63.9\n50.4\n114Â Â \n\n\n34.6\n47.8\n82.3\n\n\n40.6\n44.4\n85Â Â \n\n\n52.6\n37.2\n89.7\n\n\n63.4\n49.2\n113Â Â \n\n\n35.4\n47.7\n83.2\n\n\n55.7\n26.6\n82.3\n\n\n47.7\n42.5\n90.2\n\n\n29.6\n52.8\n82.4\n\n\n56.2\n57.3\n114Â Â \n\n\n58.9\n57.1\n116Â Â \n\n\n51.4\n40Â Â \n91.4\n\n\n40.5\n48.6\n89.1\n\n\n40.5\n64.9\n105Â Â \n\n\n34.3\n52.5\n86.8\n\n\n50.1\n36.3\n86.4\n\n\n35.2\n78Â Â \n113Â Â \n\n\n42.7\n68.4\n111Â Â \n\n\n53.7\n59.8\n113Â Â \n\n\n64.4\n48.1\n113Â Â \n\n\n63.9\n39.8\n104Â Â \n\n\n43.1\n43.7\n86.8\n\n\n37.9\n38.5\n76.3\n\n\n45.8\n58Â Â \n104Â Â \n\n\n58.9\n43.2\n102Â Â \n\n\n50.2\n59.4\n110Â Â \n\n\n55.6\n51.9\n108Â Â \n\n\n43.5\n54.5\n98Â Â \n\n\n52.6\n41.1\n93.7\n\n\n31.1\n38.4\n69.5\n\n\n48.8\n58.3\n107Â Â \n\n\n41.6\n45.2\n86.8\n\n\n51.5\n34.1\n85.5\n\n\n69.6\n62.2\n132Â Â \n\n\n38.4\n66.4\n105Â Â \n\n\n43.9\n51.3\n95.2\n\n\n64.3\n56.8\n121Â Â \n\n\n53Â Â \n58.6\n112Â Â \n\n\n51.7\n38.4\n90.1\n\n\n49.7\n54.8\n104Â Â \n\n\n52.2\n54.9\n107Â Â \n\n\n47.2\n43.5\n90.7\n\n\n57Â Â \n55.4\n112Â Â \n\n\n50.9\n38.7\n89.6\n\n\n49.9\n34.9\n84.8\n\n\n49Â Â \n55.6\n105Â Â \n\n\n30.8\n53.1\n83.9\n\n\n63.4\n62Â Â \n125Â Â \n\n\n48.5\n52.6\n101Â Â \n\n\n42.5\n47.8\n90.4\n\n\n57.5\n64.3\n122Â Â \n\n\n51.7\n45.8\n97.6\n\n\n62.9\n64.2\n127Â Â \n\n\n54.8\n52.1\n107Â Â \n\n\n53.5\n68.6\n122Â Â \n\n\n63.4\n48.8\n112Â Â \n\n\n66.4\n57.2\n124Â Â \n\n\n49.7\n52.6\n102Â Â \n\n\n35.2\n53.4\n88.6\n\n\n49.3\n56.6\n106Â Â \n\n\n40.4\n34.2\n74.6\n\n\n48.8\n41.8\n90.6\n\n\n46Â Â \n53.1\n99.1\n\n\n43.4\n62Â Â \n105Â Â \n\n\n59.7\n56.2\n116Â Â \n\n\n52.6\n56Â Â \n109Â Â \n\n\n37Â Â \n70.6\n108Â Â \n\n\n29.9\n46.9\n76.8\n\n\n45.3\n47Â Â \n92.3\n\n\n46.9\n44.2\n91.1\n\n\n46.1\n45.9\n92Â Â \n\n\n56.1\n42.6\n98.7\n\n\n62.3\n43.8\n106Â Â \n\n\n44.6\n35.6\n80.2\n\n\n44.9\n25.9\n70.8\n\n\n56.2\n43.9\n100Â Â \n\n\n43.6\n32.2\n75.9\n\n\n49.7\n56.1\n106Â Â \n\n\n60.8\n53.7\n115Â Â \n\n\n54.1\n46.8\n101Â Â \n\n\n59.2\n57.2\n116Â Â \n\n\n52Â Â \n54Â Â \n106Â Â \n\n\n61.2\n51.7\n113Â Â \n\n\n35.5\n48.1\n83.6\n\n\n61.7\n57.7\n119Â Â \n\n\n51.8\n40.3\n92.1\n\n\n42Â Â \n26.6\n68.6\n\n\n44.4\n47.5\n91.9\n\n\n43.1\n49.7\n92.7\n\n\n43.4\n56.8\n100Â Â \n\n\n48.3\n59.5\n108Â Â \n\n\n42.6\n42.8\n85.4\n\n\n49.8\n51.9\n102Â Â \n\n\n56Â Â \n39.6\n95.5\n\n\n48.6\n53.1\n102Â Â \n\n\n63.5\n36.8\n100Â Â \n\n\n62.9\n26.1\n89Â Â \n\n\n52.6\n41.5\n94.1\n\n\n27.3\n54.8\n82.1\n\n\n37.8\n48.5\n86.3\n\n\n43.8\n48Â Â \n91.8\n\n\n58.8\n47.1\n106Â Â \n\n\n36.1\n46.3\n82.4\n\n\n59.6\n58.9\n118Â Â \n\n\n63.1\n37.9\n101Â Â \n\n\n54.4\n65.4\n120Â Â \n\n\n62Â Â \n46Â Â \n108Â Â \n\n\n43.5\n39.6\n83.1\n\n\n42.3\n58.6\n101Â Â \n\n\n41.2\n46.3\n87.4\n\n\n42.8\n52.5\n95.3\n\n\n58Â Â \n45.4\n103Â Â \n\n\n49.3\n35Â Â \n84.3\n\n\n60.9\n49Â Â \n110Â Â \n\n\n56Â Â \n50.4\n106Â Â \n\n\n58.1\n38.4\n96.5\n\n\n57.8\n48Â Â \n106Â Â \n\n\n52.2\n62.8\n115Â Â \n\n\n48.7\n53.6\n102Â Â \n\n\n37.9\n57.4\n95.2\n\n\n55.8\n42Â Â \n97.8\n\n\n51Â Â \n61.5\n112Â Â \n\n\n62.8\n48.5\n111Â Â \n\n\n43.6\n38Â Â \n81.6\n\n\n35.3\n53.9\n89.2\n\n\n40.3\n46.4\n86.7\n\n\n26.3\n45.6\n71.9\n\n\n52.1\n35.6\n87.7\n\n\n44.8\n50.8\n95.6\n\n\n53.6\n41.6\n95.2\n\n\n57.4\n39.8\n97.2\n\n\n52Â Â \n60.4\n112Â Â \n\n\n48.4\n42.5\n90.9\n\n\n41.9\n43.1\n85.1\n\n\n49.6\n23Â Â \n72.7\n\n\n58.2\n41.8\n100Â Â \n\n\n58.4\n53.8\n112Â Â \n\n\n53.5\n47.5\n101Â Â \n\n\n48.9\n32.6\n81.5\n\n\n59.5\n58Â Â \n117Â Â \n\n\n54.6\n50.6\n105Â Â \n\n\n38.7\n61.9\n101Â Â \n\n\n48.8\n47.2\n96Â Â \n\n\n61.8\n55.8\n118Â Â \n\n\n47.2\n69.2\n116Â Â \n\n\n48.1\n72.7\n121Â Â \n\n\n39.1\n43.4\n82.5\n\n\n66.2\n52.5\n119Â Â \n\n\n45Â Â \n33.7\n78.7\n\n\n36.2\n59.1\n95.3\n\n\n49.3\n44.7\n94Â Â \n\n\n58.7\n62.6\n121Â Â \n\n\n53.5\n37.8\n91.3\n\n\n44Â Â \n58.1\n102Â Â \n\n\n36.8\n49.2\n86Â Â \n\n\n44.6\n57.6\n102Â Â \n\n\n42.6\n29Â Â \n71.6\n\n\n68.9\n38.9\n108Â Â \n\n\n42.5\n22.6\n65.1\n\n\n56Â Â \n51.9\n108Â Â \n\n\n26.5\n59.3\n85.8\n\n\n43.3\n56.6\n100Â Â \n\n\n44.4\n57.4\n102Â Â \n\n\n35.9\n46.3\n82.2\n\n\n51.7\n46.3\n98.1\n\n\n57.3\n54.2\n111Â Â \n\n\n50.8\n52.4\n103Â Â \n\n\n45.9\n51.8\n97.7\n\n\n44.6\n49.1\n93.7\n\n\n53.6\n51Â Â \n105Â Â \n\n\n53.2\n55.8\n109"
  },
  {
    "objectID": "slides/14-dags.html#simulating-the-hiring-process",
    "href": "slides/14-dags.html#simulating-the-hiring-process",
    "title": "DAGs II",
    "section": "Simulating the hiring process",
    "text": "Simulating the hiring process\nNow imagine that Google only hires people who are in the top 15% of quality (in this case thatâ€™s 112.8 or higher)\n\nfake_google %&gt;% \n  mutate(total_score = social_skills + tech_skills) %&gt;% \n  mutate(hired = case_when(total_score &gt;= quantile(total_score, .85) ~ \"yes\", \n                           total_score &lt; quantile(total_score, .85) ~ \"no\"))\n\n\n\n\n\n\n\nsocial_skills\ntech_skills\ntotal_score\nhired\n\n\n54.2\n53.6\n108Â Â \nno\n\n\n61.5\n39.6\n101Â Â \nno\n\n\n55.1\n59.8\n115Â Â \nyes\n\n\n67.3\n49.3\n117Â Â \nyes\n\n\n57.9\n58.6\n116Â Â \nyes\n\n\n45.7\n36.2\n81.9\nno\n\n\n36.8\n69.5\n106Â Â \nno\n\n\n40.1\n33.1\n73.2\nno\n\n\n52.6\n47.4\n100Â Â \nno\n\n\n59Â Â \n46.4\n105Â Â \nno\n\n\n46Â Â \n47Â Â \n93.1\nno\n\n\n47.5\n39.3\n86.8\nno\n\n\n26.8\n55.3\n82Â Â \nno\n\n\n53.2\n60Â Â \n113Â Â \nyes\n\n\n56.7\n52.6\n109Â Â \nno\n\n\n41.8\n59.5\n101Â Â \nno\n\n\n44.7\n38.5\n83.1\nno\n\n\n58Â Â \n50Â Â \n108Â Â \nno\n\n\n46.5\n50.8\n97.3\nno\n\n\n41.4\n42.8\n84.2\nno\n\n\n46.2\n44.2\n90.4\nno\n\n\n55.8\n53.4\n109Â Â \nno\n\n\n39.6\n38.6\n78.2\nno\n\n\n48.1\n45.6\n93.7\nno\n\n\n52.4\n48.2\n101Â Â \nno\n\n\n54.5\n50.9\n105Â Â \nno\n\n\n53.2\n46.4\n99.6\nno\n\n\n56.1\n43Â Â \n99.1\nno\n\n\n53.1\n59.2\n112Â Â \nno\n\n\n63.9\n50.4\n114Â Â \nyes\n\n\n34.6\n47.8\n82.3\nno\n\n\n40.6\n44.4\n85Â Â \nno\n\n\n52.6\n37.2\n89.7\nno\n\n\n63.4\n49.2\n113Â Â \nno\n\n\n35.4\n47.7\n83.2\nno\n\n\n55.7\n26.6\n82.3\nno\n\n\n47.7\n42.5\n90.2\nno\n\n\n29.6\n52.8\n82.4\nno\n\n\n56.2\n57.3\n114Â Â \nyes\n\n\n58.9\n57.1\n116Â Â \nyes\n\n\n51.4\n40Â Â \n91.4\nno\n\n\n40.5\n48.6\n89.1\nno\n\n\n40.5\n64.9\n105Â Â \nno\n\n\n34.3\n52.5\n86.8\nno\n\n\n50.1\n36.3\n86.4\nno\n\n\n35.2\n78Â Â \n113Â Â \nyes\n\n\n42.7\n68.4\n111Â Â \nno\n\n\n53.7\n59.8\n113Â Â \nyes\n\n\n64.4\n48.1\n113Â Â \nno\n\n\n63.9\n39.8\n104Â Â \nno\n\n\n43.1\n43.7\n86.8\nno\n\n\n37.9\n38.5\n76.3\nno\n\n\n45.8\n58Â Â \n104Â Â \nno\n\n\n58.9\n43.2\n102Â Â \nno\n\n\n50.2\n59.4\n110Â Â \nno\n\n\n55.6\n51.9\n108Â Â \nno\n\n\n43.5\n54.5\n98Â Â \nno\n\n\n52.6\n41.1\n93.7\nno\n\n\n31.1\n38.4\n69.5\nno\n\n\n48.8\n58.3\n107Â Â \nno\n\n\n41.6\n45.2\n86.8\nno\n\n\n51.5\n34.1\n85.5\nno\n\n\n69.6\n62.2\n132Â Â \nyes\n\n\n38.4\n66.4\n105Â Â \nno\n\n\n43.9\n51.3\n95.2\nno\n\n\n64.3\n56.8\n121Â Â \nyes\n\n\n53Â Â \n58.6\n112Â Â \nno\n\n\n51.7\n38.4\n90.1\nno\n\n\n49.7\n54.8\n104Â Â \nno\n\n\n52.2\n54.9\n107Â Â \nno\n\n\n47.2\n43.5\n90.7\nno\n\n\n57Â Â \n55.4\n112Â Â \nno\n\n\n50.9\n38.7\n89.6\nno\n\n\n49.9\n34.9\n84.8\nno\n\n\n49Â Â \n55.6\n105Â Â \nno\n\n\n30.8\n53.1\n83.9\nno\n\n\n63.4\n62Â Â \n125Â Â \nyes\n\n\n48.5\n52.6\n101Â Â \nno\n\n\n42.5\n47.8\n90.4\nno\n\n\n57.5\n64.3\n122Â Â \nyes\n\n\n51.7\n45.8\n97.6\nno\n\n\n62.9\n64.2\n127Â Â \nyes\n\n\n54.8\n52.1\n107Â Â \nno\n\n\n53.5\n68.6\n122Â Â \nyes\n\n\n63.4\n48.8\n112Â Â \nno\n\n\n66.4\n57.2\n124Â Â \nyes\n\n\n49.7\n52.6\n102Â Â \nno\n\n\n35.2\n53.4\n88.6\nno\n\n\n49.3\n56.6\n106Â Â \nno\n\n\n40.4\n34.2\n74.6\nno\n\n\n48.8\n41.8\n90.6\nno\n\n\n46Â Â \n53.1\n99.1\nno\n\n\n43.4\n62Â Â \n105Â Â \nno\n\n\n59.7\n56.2\n116Â Â \nyes\n\n\n52.6\n56Â Â \n109Â Â \nno\n\n\n37Â Â \n70.6\n108Â Â \nno\n\n\n29.9\n46.9\n76.8\nno\n\n\n45.3\n47Â Â \n92.3\nno\n\n\n46.9\n44.2\n91.1\nno\n\n\n46.1\n45.9\n92Â Â \nno\n\n\n56.1\n42.6\n98.7\nno\n\n\n62.3\n43.8\n106Â Â \nno\n\n\n44.6\n35.6\n80.2\nno\n\n\n44.9\n25.9\n70.8\nno\n\n\n56.2\n43.9\n100Â Â \nno\n\n\n43.6\n32.2\n75.9\nno\n\n\n49.7\n56.1\n106Â Â \nno\n\n\n60.8\n53.7\n115Â Â \nyes\n\n\n54.1\n46.8\n101Â Â \nno\n\n\n59.2\n57.2\n116Â Â \nyes\n\n\n52Â Â \n54Â Â \n106Â Â \nno\n\n\n61.2\n51.7\n113Â Â \nyes\n\n\n35.5\n48.1\n83.6\nno\n\n\n61.7\n57.7\n119Â Â \nyes\n\n\n51.8\n40.3\n92.1\nno\n\n\n42Â Â \n26.6\n68.6\nno\n\n\n44.4\n47.5\n91.9\nno\n\n\n43.1\n49.7\n92.7\nno\n\n\n43.4\n56.8\n100Â Â \nno\n\n\n48.3\n59.5\n108Â Â \nno\n\n\n42.6\n42.8\n85.4\nno\n\n\n49.8\n51.9\n102Â Â \nno\n\n\n56Â Â \n39.6\n95.5\nno\n\n\n48.6\n53.1\n102Â Â \nno\n\n\n63.5\n36.8\n100Â Â \nno\n\n\n62.9\n26.1\n89Â Â \nno\n\n\n52.6\n41.5\n94.1\nno\n\n\n27.3\n54.8\n82.1\nno\n\n\n37.8\n48.5\n86.3\nno\n\n\n43.8\n48Â Â \n91.8\nno\n\n\n58.8\n47.1\n106Â Â \nno\n\n\n36.1\n46.3\n82.4\nno\n\n\n59.6\n58.9\n118Â Â \nyes\n\n\n63.1\n37.9\n101Â Â \nno\n\n\n54.4\n65.4\n120Â Â \nyes\n\n\n62Â Â \n46Â Â \n108Â Â \nno\n\n\n43.5\n39.6\n83.1\nno\n\n\n42.3\n58.6\n101Â Â \nno\n\n\n41.2\n46.3\n87.4\nno\n\n\n42.8\n52.5\n95.3\nno\n\n\n58Â Â \n45.4\n103Â Â \nno\n\n\n49.3\n35Â Â \n84.3\nno\n\n\n60.9\n49Â Â \n110Â Â \nno\n\n\n56Â Â \n50.4\n106Â Â \nno\n\n\n58.1\n38.4\n96.5\nno\n\n\n57.8\n48Â Â \n106Â Â \nno\n\n\n52.2\n62.8\n115Â Â \nyes\n\n\n48.7\n53.6\n102Â Â \nno\n\n\n37.9\n57.4\n95.2\nno\n\n\n55.8\n42Â Â \n97.8\nno\n\n\n51Â Â \n61.5\n112Â Â \nno\n\n\n62.8\n48.5\n111Â Â \nno\n\n\n43.6\n38Â Â \n81.6\nno\n\n\n35.3\n53.9\n89.2\nno\n\n\n40.3\n46.4\n86.7\nno\n\n\n26.3\n45.6\n71.9\nno\n\n\n52.1\n35.6\n87.7\nno\n\n\n44.8\n50.8\n95.6\nno\n\n\n53.6\n41.6\n95.2\nno\n\n\n57.4\n39.8\n97.2\nno\n\n\n52Â Â \n60.4\n112Â Â \nno\n\n\n48.4\n42.5\n90.9\nno\n\n\n41.9\n43.1\n85.1\nno\n\n\n49.6\n23Â Â \n72.7\nno\n\n\n58.2\n41.8\n100Â Â \nno\n\n\n58.4\n53.8\n112Â Â \nno\n\n\n53.5\n47.5\n101Â Â \nno\n\n\n48.9\n32.6\n81.5\nno\n\n\n59.5\n58Â Â \n117Â Â \nyes\n\n\n54.6\n50.6\n105Â Â \nno\n\n\n38.7\n61.9\n101Â Â \nno\n\n\n48.8\n47.2\n96Â Â \nno\n\n\n61.8\n55.8\n118Â Â \nyes\n\n\n47.2\n69.2\n116Â Â \nyes\n\n\n48.1\n72.7\n121Â Â \nyes\n\n\n39.1\n43.4\n82.5\nno\n\n\n66.2\n52.5\n119Â Â \nyes\n\n\n45Â Â \n33.7\n78.7\nno\n\n\n36.2\n59.1\n95.3\nno\n\n\n49.3\n44.7\n94Â Â \nno\n\n\n58.7\n62.6\n121Â Â \nyes\n\n\n53.5\n37.8\n91.3\nno\n\n\n44Â Â \n58.1\n102Â Â \nno\n\n\n36.8\n49.2\n86Â Â \nno\n\n\n44.6\n57.6\n102Â Â \nno\n\n\n42.6\n29Â Â \n71.6\nno\n\n\n68.9\n38.9\n108Â Â \nno\n\n\n42.5\n22.6\n65.1\nno\n\n\n56Â Â \n51.9\n108Â Â \nno\n\n\n26.5\n59.3\n85.8\nno\n\n\n43.3\n56.6\n100Â Â \nno\n\n\n44.4\n57.4\n102Â Â \nno\n\n\n35.9\n46.3\n82.2\nno\n\n\n51.7\n46.3\n98.1\nno\n\n\n57.3\n54.2\n111Â Â \nno\n\n\n50.8\n52.4\n103Â Â \nno\n\n\n45.9\n51.8\n97.7\nno\n\n\n44.6\n49.1\n93.7\nno\n\n\n53.6\n51Â Â \n105Â Â \nno\n\n\n53.2\n55.8\n109Â Â \nno"
  },
  {
    "objectID": "slides/14-dags.html#general-population",
    "href": "slides/14-dags.html#general-population",
    "title": "DAGs II",
    "section": "General population",
    "text": "General population\nNo relationship between social and technical skills among all job candidates"
  },
  {
    "objectID": "slides/14-dags.html#collided",
    "href": "slides/14-dags.html#collided",
    "title": "DAGs II",
    "section": "Collided!",
    "text": "Collided!\nIf we only look at Google workers we see a trade-off between social and technical skills:"
  },
  {
    "objectID": "slides/14-dags.html#limitations",
    "href": "slides/14-dags.html#limitations",
    "title": "DAGs II",
    "section": "Limitations",
    "text": "Limitations\nItâ€™s cool that we can control for a confound, or avoid colliders/pipes and get back the truth\n\nBut there are big limitations we must keep in mind when evaluating research:\n\nWe need to know what to control for (confident in our DAG)\n\n\n\n\nWe need to have data on the controls (e.g., data on Z)\n\n\n\n\nWe need our data to measure the variable well (e.g., # of homicides a good proxy for crime?)"
  },
  {
    "objectID": "slides/14-dags.html#stuff-thats-hard-to-measure",
    "href": "slides/14-dags.html#stuff-thats-hard-to-measure",
    "title": "DAGs II",
    "section": "Stuff thatâ€™s hard to measure",
    "text": "Stuff thatâ€™s hard to measure\nAbility is a likely fork for the effect of Education on Earnings; but how do you measure ability?"
  },
  {
    "objectID": "slides/14-dags.html#your-turn-pipes-colliders",
    "href": "slides/14-dags.html#your-turn-pipes-colliders",
    "title": "DAGs II",
    "section": "ğŸš¨ Your turn: pipes, colliders ğŸš¨",
    "text": "ğŸš¨ Your turn: pipes, colliders ğŸš¨\nUsing the templates in the class script:\n\nMake a realistic pipe scenario\nUse models to show that everything goes wrong when you mistakenly control for the pipe\nMake a realistic fork scenario\nUse models to show that everything goes wrong when you fail to control for the fork\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/12-causality.html#causal-diagram",
    "href": "slides/12-causality.html#causal-diagram",
    "title": "Causality II",
    "section": "Causal diagram",
    "text": "Causal diagram\n\n\nWe need a causal model\nThe model is our idea of how the data came to be (the data-generating process)\nThe model tells us how to identify a causal effect (if itâ€™s possible!)"
  },
  {
    "objectID": "slides/12-causality.html#directed-acyclical-graphs-dags",
    "href": "slides/12-causality.html#directed-acyclical-graphs-dags",
    "title": "Causality II",
    "section": "Directed Acyclical Graphs (DAGs)",
    "text": "Directed Acyclical Graphs (DAGs)\nA popular modeling tool for thinking about causality is the DAG\nNodes (points) = variables; Edges (arrows) = direction of causality"
  },
  {
    "objectID": "slides/12-causality.html#dags",
    "href": "slides/12-causality.html#dags",
    "title": "Causality II",
    "section": "DAGs",
    "text": "DAGs\nNodes = variables; Arrows = direction of causality\n\n\n\n\n\n\n\n\n\n\nRead: X1 has an effect on Y"
  },
  {
    "objectID": "slides/12-causality.html#dags-1",
    "href": "slides/12-causality.html#dags-1",
    "title": "Causality II",
    "section": "DAGs",
    "text": "DAGs\n\n\nX1 has an effect on Y; X2 has an effect on X1; X2 affects Y only through X1\nMissing arrows matter!\n\nExample of x2 - x1 - y?"
  },
  {
    "objectID": "slides/12-causality.html#dags-2",
    "href": "slides/12-causality.html#dags-2",
    "title": "Causality II",
    "section": "DAGs",
    "text": "DAGs\n\n\nX1 has an effect on Y; X2 has an effect on X1 and Y (via X1); X3 has an effect on X1 and Y"
  },
  {
    "objectID": "slides/12-causality.html#example-ideology",
    "href": "slides/12-causality.html#example-ideology",
    "title": "Causality II",
    "section": "Example: ideology",
    "text": "Example: ideology\nWhere does (liberal) ideology come from?\n\nVariables in the literature: Income (I), Liberal (L), Age (A), Media (M), Parents (P)\n\n\n\n\n\n\n\n\n\n\n\n\nWhat are our assumptions? Whatâ€™s this DAG saying?"
  },
  {
    "objectID": "slides/12-causality.html#dags-3",
    "href": "slides/12-causality.html#dags-3",
    "title": "Causality II",
    "section": "DAGs",
    "text": "DAGs\nDAGs encode everything we know about some process\n\nWe can see all of our assumptions and how they fit together\n\n\nFor example: the effect of Parents on how Liberal someone is happens directly and indirectly (through Media)\n\n\nMissing arrows also matter: we are assuming that Age has no effect on Media diet"
  },
  {
    "objectID": "slides/12-causality.html#our-turn-lets-make-our-own-dag",
    "href": "slides/12-causality.html#our-turn-lets-make-our-own-dag",
    "title": "Causality II",
    "section": "ğŸš¨ Our turn: letâ€™s make our own DAG ğŸš¨",
    "text": "ğŸš¨ Our turn: letâ€™s make our own DAG ğŸš¨\nOn daggity.net about why people choose to vote (or not)"
  },
  {
    "objectID": "slides/12-causality.html#identification",
    "href": "slides/12-causality.html#identification",
    "title": "Causality II",
    "section": "Identification",
    "text": "Identification\nWhy do this?\n\nLater: DAGs help us figure out how to estimate the effect of one variable on another\n\n\nWhile at the same time being mindful of all the other variables that we need to adjust, or control for\n\n\nFor instance, we might want to estimate the effect of Media consumption (M) on how Liberal (L) someone is\n\n\nThis process is called â€œidentificationâ€ \\(\\rightarrow\\) to identify the effect of X on Y"
  },
  {
    "objectID": "slides/12-causality.html#waffles-and-divorce",
    "href": "slides/12-causality.html#waffles-and-divorce",
    "title": "Causality II",
    "section": "Waffles and Divorce",
    "text": "Waffles and Divorce"
  },
  {
    "objectID": "slides/12-causality.html#waffle-house-index",
    "href": "slides/12-causality.html#waffle-house-index",
    "title": "Causality II",
    "section": "Waffle House Index",
    "text": "Waffle House Index"
  },
  {
    "objectID": "slides/12-causality.html#does-waffle-house-cause-divorce",
    "href": "slides/12-causality.html#does-waffle-house-cause-divorce",
    "title": "Causality II",
    "section": "Does Waffle House cause divorce?",
    "text": "Does Waffle House cause divorce?\nStates with more waffle houses tend to have more divorce\n\n\n\n\n\n\nLocation\nMarriage\nDivorce\nWaffles per Person\n\n\n\n\nIndiana\n19.8\n11.0\n2.62\n\n\nRhode Island\n15.0\n9.4\n0.00\n\n\nKansas\n22.1\n10.6\n2.11\n\n\nNorth Dakota\n26.7\n8.0\n0.00\n\n\nTexas\n21.5\n10.0\n3.94\n\n\nAlaska\n26.0\n12.5\n0.00\n\n\nMaine\n13.5\n13.0\n0.00"
  },
  {
    "objectID": "slides/12-causality.html#does-waffle-house-cause-divorce-1",
    "href": "slides/12-causality.html#does-waffle-house-cause-divorce-1",
    "title": "Causality II",
    "section": "Does Waffle House cause divorce?",
    "text": "Does Waffle House cause divorce?\nDo cheap, delicious waffles put marriages at risk?\n\n\nSpeculate on underlying mechanism"
  },
  {
    "objectID": "slides/12-causality.html#does-waffle-house-cause-divorce-2",
    "href": "slides/12-causality.html#does-waffle-house-cause-divorce-2",
    "title": "Causality II",
    "section": "Does Waffle House cause divorce?",
    "text": "Does Waffle House cause divorce?\n\nAlmost certainly not\n\n\nNo one thinks there is a plausible way in which Waffle House causes divorce\n\n\nWhen we see a correlation of this kind we wonder about other variables that are actually driving the relationship\n\n\nYouâ€™ve likely thought about this before: a â€œlurkingâ€ variable, â€œother factorsâ€, that â€œmatterâ€\n\n\nBut what might that variable be? And how exactly does it lead us astray?"
  },
  {
    "objectID": "slides/12-causality.html#the-lurking-variable",
    "href": "slides/12-causality.html#the-lurking-variable",
    "title": "Causality II",
    "section": "The lurking variable",
    "text": "The lurking variable\nIt turns out that Waffle Houses originated in the South (Georgia), and most of them are still there\n\nThe South also happens to have some of the highest divorce rates in the country"
  },
  {
    "objectID": "slides/12-causality.html#the-dag",
    "href": "slides/12-causality.html#the-dag",
    "title": "Causality II",
    "section": "The DAG",
    "text": "The DAG\nSo the DAG might look something like this: South has an effect on Waffle Houses and Divorce, but Waffles do not cause Divorce"
  },
  {
    "objectID": "slides/12-causality.html#the-problem",
    "href": "slides/12-causality.html#the-problem",
    "title": "Causality II",
    "section": "The problem",
    "text": "The problem\n\n\nA DAG like this will produce a correlation between Waffles and Divorce, even when there is no causal relationship\n\n\nThis is called confounding: the South is confounding the relationship between Waffles and Divorce"
  },
  {
    "objectID": "slides/12-causality.html#how-does-this-happen",
    "href": "slides/12-causality.html#how-does-this-happen",
    "title": "Causality II",
    "section": "How does this happen?",
    "text": "How does this happen?\nLetâ€™s make up data to convince ourselves this is true\n\nfifty states, about half of them are in the South\n\n\n\ntibble(south = sample(c(0, 1), size = 50, replace = TRUE))\n\n# A tibble: 50 Ã— 1\n   south\n   &lt;dbl&gt;\n 1     0\n 2     1\n 3     0\n 4     0\n 5     1\n 6     0\n 7     0\n 8     1\n 9     1\n10     0\n# â„¹ 40 more rows\n\n\n\n\n\n\n\n\nNote\n\n\nsample() is choosing at random between 0 and 1, 50 times, with replacement"
  },
  {
    "objectID": "slides/12-causality.html#simulate-the-treatment",
    "href": "slides/12-causality.html#simulate-the-treatment",
    "title": "Causality II",
    "section": "Simulate the treatment",
    "text": "Simulate the treatment\nStep 2: make Waffle houses, letâ€™s say about 20 per million residents, +/- 4\n\ntibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n       waffle = rnorm(n = 50, mean = 20, sd = 4))\n\n# A tibble: 50 Ã— 2\n   south waffle\n   &lt;dbl&gt;  &lt;dbl&gt;\n 1     0  21.1 \n 2     0  21.2 \n 3     1  18.4 \n 4     1  24.0 \n 5     0  14.5 \n 6     1   9.86\n 7     1  13.3 \n 8     0  28.3 \n 9     0  17.7 \n10     1  17.2 \n# â„¹ 40 more rows"
  },
  {
    "objectID": "slides/12-causality.html#make-waffles-more-common-in-the-south",
    "href": "slides/12-causality.html#make-waffles-more-common-in-the-south",
    "title": "Causality II",
    "section": "Make Waffles more common in the South",
    "text": "Make Waffles more common in the South\nStep 3: The arrow from South to Waffles, letâ€™s say Southern states have about 10 more Waffles, on average\n\ntibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n       waffle = rnorm(n = 50, mean = 20, sd = 4) + 10 * south)\n\n# A tibble: 50 Ã— 2\n   south waffle\n   &lt;dbl&gt;  &lt;dbl&gt;\n 1     0   14.5\n 2     1   27.9\n 3     1   30.6\n 4     1   34.9\n 5     0   26.8\n 6     1   35.6\n 7     1   28.4\n 8     0   21.0\n 9     0   26.1\n10     1   33.4\n# â„¹ 40 more rows"
  },
  {
    "objectID": "slides/12-causality.html#simulate-the-outcome",
    "href": "slides/12-causality.html#simulate-the-outcome",
    "title": "Causality II",
    "section": "Simulate the outcome",
    "text": "Simulate the outcome\nStep 4: make a divorce rate, letâ€™s say about 20 divorces per 1,000 adults\n\nfake = tibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n              waffle = rnorm(n = 50, mean = 20, sd = 4) + 10 * south,\n              divorce = rnorm(n = 50, mean = 20, sd = 2))"
  },
  {
    "objectID": "slides/12-causality.html#make-the-south-have-more-divorce",
    "href": "slides/12-causality.html#make-the-south-have-more-divorce",
    "title": "Causality II",
    "section": "Make the South have more divorce",
    "text": "Make the South have more divorce\nStep 5: the arrow from South to divorce, letâ€™s say southern states have about 8 more divorces per 1,000 residents\n\nfake = tibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n              waffle = rnorm(n = 50, mean = 20, sd = 4) + 10 * south,\n              divorce = rnorm(n = 50, mean = 20, sd = 2) + 8 * south)\n\nNOTICE! Waffles have no effect on divorce in our fake data"
  },
  {
    "objectID": "slides/12-causality.html#a-totally-confounded-relationship",
    "href": "slides/12-causality.html#a-totally-confounded-relationship",
    "title": "Causality II",
    "section": "A totally confounded relationship",
    "text": "A totally confounded relationship\nThe Southâ€™s effect on Waffle House and on Divorce creates a confounded correlation between the two"
  },
  {
    "objectID": "slides/12-causality.html#a-totally-confounded-relationship-1",
    "href": "slides/12-causality.html#a-totally-confounded-relationship-1",
    "title": "Causality II",
    "section": "A totally confounded relationship",
    "text": "A totally confounded relationship\nThe DAG on the left will produce an association like the one on the right\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEven if Waffles and Divorce are causally unrelated"
  },
  {
    "objectID": "slides/12-causality.html#your-turn-confounded-waffles",
    "href": "slides/12-causality.html#your-turn-confounded-waffles",
    "title": "Causality II",
    "section": "ğŸ§‡ Your turn: confounded waffles ğŸ§‡",
    "text": "ğŸ§‡ Your turn: confounded waffles ğŸ§‡\nMake up data where a lurking variable creates a confounded relationship between two other variables that isnâ€™t truly causal:\n\nChange the confound, treatment and outcome variables in the code to ones of your choosing\nAlter the parameters in rnorm() so the values make sense for your variables\nMake a scatterplot with a trend line â€“ use labs() to help us make sense of the plot axes and tell us what the confound is with the title = argument in labs()\nPost in the Slack, winner (creativity + accuracy) wins small extra credit\n\n\n\n\nâˆ’+\n20:00"
  },
  {
    "objectID": "slides/12-causality.html#whats-going-on-here",
    "href": "slides/12-causality.html#whats-going-on-here",
    "title": "Causality II",
    "section": "Whatâ€™s going on here?",
    "text": "Whatâ€™s going on here?\n\n\nThink of causality as water flowing in the direction of the arrows\nWe want look at water flowing directly from a treatment to an outcome\nBut account for the fact that there is often indirect flow that contaminates our estimates\n\n\nSource: the mighty Andrew Heiss"
  },
  {
    "objectID": "slides/12-causality.html#whats-going-on-here-1",
    "href": "slides/12-causality.html#whats-going-on-here-1",
    "title": "Causality II",
    "section": "Whatâ€™s going on here?",
    "text": "Whatâ€™s going on here?\nTo identify the effect of Waffles on Divorce we need to account, or control for, the influence of the South\nOtherwise we will be confounded"
  },
  {
    "objectID": "slides/12-causality.html#the-formula",
    "href": "slides/12-causality.html#the-formula",
    "title": "Causality II",
    "section": "The formula",
    "text": "The formula\n\nMake a DAG of what we think is going on with our treatment and outcome\nFigure out where the indirect flows are (today)\nAccount for those in our analysis (later in class)"
  },
  {
    "objectID": "slides/12-causality.html#what-do-we-need-to-control",
    "href": "slides/12-causality.html#what-do-we-need-to-control",
    "title": "Causality II",
    "section": "What do we need to control?",
    "text": "What do we need to control?\n\n\nNothing"
  },
  {
    "objectID": "slides/12-causality.html#what-do-we-need-to-control-1",
    "href": "slides/12-causality.html#what-do-we-need-to-control-1",
    "title": "Causality II",
    "section": "What do we need to control?",
    "text": "What do we need to control?\n\n\nNothing! No indirect flow to X"
  },
  {
    "objectID": "slides/12-causality.html#what-do-we-need-to-control-2",
    "href": "slides/12-causality.html#what-do-we-need-to-control-2",
    "title": "Causality II",
    "section": "What do we need to control?",
    "text": "What do we need to control?\n\n\nNothing! No indirect flow to X!"
  },
  {
    "objectID": "slides/12-causality.html#what-do-we-need-to-control-to-identify",
    "href": "slides/12-causality.html#what-do-we-need-to-control-to-identify",
    "title": "Causality II",
    "section": "What do we need to control to identifyâ€¦",
    "text": "What do we need to control to identifyâ€¦\nMedia consumption (M) \\(\\rightarrow\\) Liberal (L)"
  },
  {
    "objectID": "slides/12-causality.html#the-elemental-confounds",
    "href": "slides/12-causality.html#the-elemental-confounds",
    "title": "Causality II",
    "section": "The elemental confounds",
    "text": "The elemental confounds"
  },
  {
    "objectID": "slides/12-causality.html#the-confounding-fork",
    "href": "slides/12-causality.html#the-confounding-fork",
    "title": "Causality II",
    "section": "The confounding fork ğŸ´",
    "text": "The confounding fork ğŸ´\nY \\(\\leftarrow\\) Z \\(\\rightarrow\\) X\nThere is a third variable, Z, that is a common cause of X and Y"
  },
  {
    "objectID": "slides/12-causality.html#the-confounding-fork-1",
    "href": "slides/12-causality.html#the-confounding-fork-1",
    "title": "Causality II",
    "section": "The confounding fork",
    "text": "The confounding fork\nWeâ€™ve already seen this!\n\n\n\n\n\n\n\n\n\n\n\nCreates an association between X and Y that isnâ€™t causal\n\n\n\n\n\n\n\n\n\n\nDistorts the true causal relation between X and Y\n\n\nNote that both of these fork scenarios will confound"
  },
  {
    "objectID": "slides/12-causality.html#the-second-scenario",
    "href": "slides/12-causality.html#the-second-scenario",
    "title": "Causality II",
    "section": "The second scenario",
    "text": "The second scenario\nSay that Waffles do cause Divorce, but the effect is tiny\n\nfake = tibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n              waffle = rnorm(n = 50, mean = 20, sd = 4) + 10*south,\n              divorce = rnorm(n = 50, mean = 20, sd = 2) + 8*south + .0001 * waffle)\n\nSame code as before, Iâ€™ve just added a tiny effect of waffle houses on divorce = .0001 more divorces per waffle house"
  },
  {
    "objectID": "slides/12-causality.html#the-second-scenario-1",
    "href": "slides/12-causality.html#the-second-scenario-1",
    "title": "Causality II",
    "section": "The second scenario",
    "text": "The second scenario\nThe effect of Z (South) on X (Waffles) and Y (Divorce) will distort our estimates:\n\nmod = lm(divorce ~ waffle, data = fake) \ntidy(mod)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic      p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;\n1 (Intercept)   10.1      2.07        4.89 0.0000118   \n2 waffle         0.555    0.0857      6.48 0.0000000464\n\n\n\nEstimate is \\(\\frac{estimated}{true}\\) = 5553.256633 times larger than the true effect!"
  },
  {
    "objectID": "slides/12-causality.html#dealing-with-forks",
    "href": "slides/12-causality.html#dealing-with-forks",
    "title": "Causality II",
    "section": "Dealing with forks",
    "text": "Dealing with forks\nWe need to figure out what Z is, measure it, and adjust for it in our analysis"
  },
  {
    "objectID": "slides/12-causality.html#the-perplexing-pipe",
    "href": "slides/12-causality.html#the-perplexing-pipe",
    "title": "Causality II",
    "section": "The perplexing pipe ğŸš°",
    "text": "The perplexing pipe ğŸš°\nX \\(\\rightarrow\\) Z \\(\\rightarrow\\) Y\nX causes Z, which causes Y (or: Z mediates the effect of X on Y)\n\n\n\n\n\n\n\n\n\n\nWhat happens if we adjust for Z? We block the effect of X on Y"
  },
  {
    "objectID": "slides/12-causality.html#an-example-foreign-intervention",
    "href": "slides/12-causality.html#an-example-foreign-intervention",
    "title": "Causality II",
    "section": "An example: foreign intervention",
    "text": "An example: foreign intervention\nWhat effect does US foreign wars have on US support abroad?\n\nSay the DAG looks like this:\n\n\n\n\n\n\n\n\n\nIf we control for casualties we are blocking the effect of intervention on support"
  },
  {
    "objectID": "slides/12-causality.html#an-example-foreign-intervention-1",
    "href": "slides/12-causality.html#an-example-foreign-intervention-1",
    "title": "Causality II",
    "section": "An example: foreign intervention",
    "text": "An example: foreign intervention\nWhat if the DAG instead looked like this:\n\n\nWhat does it mean"
  },
  {
    "objectID": "slides/12-causality.html#an-example-foreign-intervention-2",
    "href": "slides/12-causality.html#an-example-foreign-intervention-2",
    "title": "Causality II",
    "section": "An example: foreign intervention",
    "text": "An example: foreign intervention\nTwo ways that War affects US sentiment: directly and indirectly\nAdjusting for casualties blocks the indirect effect; if thatâ€™s what we want, fine â€“ But if we want the full effect then weâ€™ll be wrong!\n\n\nWhat does it mean"
  },
  {
    "objectID": "slides/12-causality.html#pipes-why-are-they-even-a-problem",
    "href": "slides/12-causality.html#pipes-why-are-they-even-a-problem",
    "title": "Causality II",
    "section": "Pipes: why are they even a problem?",
    "text": "Pipes: why are they even a problem?\nJust leave pipes alone! Itâ€™s a problem of â€œover-adjustingâ€\n\nBad social science: sometimes we are so afraid of forks that we control for everything we have data on\n\n\nEspecially when a process seems very complicated"
  },
  {
    "objectID": "slides/12-causality.html#example-where-pipes-go-wrong",
    "href": "slides/12-causality.html#example-where-pipes-go-wrong",
    "title": "Causality II",
    "section": "Example: where pipes go wrong",
    "text": "Example: where pipes go wrong\nThe effects of smoking on heart problems might be complex; lots of potential confounds to worry about\n\nResearcher might think they need to control for a study subjectâ€™s cholesterol because cholesterol affects heart health\n\n\nâ€œWe should compare people who smoke but have similar levels of cholesterol, because cholesterol affects heart healthâ€"
  },
  {
    "objectID": "slides/12-causality.html#example-where-pipes-go-wrong-1",
    "href": "slides/12-causality.html#example-where-pipes-go-wrong-1",
    "title": "Causality II",
    "section": "Example: where pipes go wrong",
    "text": "Example: where pipes go wrong\nIf the DAG looks like this, cholesterol is a pipe and controlling is bad!"
  },
  {
    "objectID": "slides/12-causality.html#the-explosive-collider",
    "href": "slides/12-causality.html#the-explosive-collider",
    "title": "Causality II",
    "section": "The explosive collider ğŸ’¥",
    "text": "The explosive collider ğŸ’¥\n\\(X \\rightarrow Z \\leftarrow Y\\)\n\nX and Y have a common effect\n\n\nLeft alone, itâ€™s no problem; but controlling for Z creates strange patterns"
  },
  {
    "objectID": "slides/12-causality.html#example-the-nba",
    "href": "slides/12-causality.html#example-the-nba",
    "title": "Causality II",
    "section": "Example: the NBA",
    "text": "Example: the NBA\n\n\nShould the NBA stop worrying about height when drafting players?"
  },
  {
    "objectID": "slides/12-causality.html#no",
    "href": "slides/12-causality.html#no",
    "title": "Causality II",
    "section": "No!",
    "text": "No!\nObviously, height helps in basketball\n\nBut among NBA players there might be no relationship between height and scoring, becauseâ€¦\n\n\nThe shorter players who are drafted have other advantages\n\n\nAmong NBA players = adjusting, or controlling for, being in the NBA"
  },
  {
    "objectID": "slides/12-causality.html#another-example-bad-findings",
    "href": "slides/12-causality.html#another-example-bad-findings",
    "title": "Causality II",
    "section": "Another example: bad findings",
    "text": "Another example: bad findings\n\n\nRichard McElreath asks: why are surprising findings so often untrustworthy?"
  },
  {
    "objectID": "slides/12-causality.html#another-example-bad-findings-1",
    "href": "slides/12-causality.html#another-example-bad-findings-1",
    "title": "Causality II",
    "section": "Another example: bad findings",
    "text": "Another example: bad findings"
  },
  {
    "objectID": "slides/12-causality.html#its-a-collider",
    "href": "slides/12-causality.html#its-a-collider",
    "title": "Causality II",
    "section": "Itâ€™s a collider",
    "text": "Itâ€™s a collider\nImagine that in reality there is no relationship between how surprising a finding is and how trustworthy it is"
  },
  {
    "objectID": "slides/12-causality.html#its-a-collider-1",
    "href": "slides/12-causality.html#its-a-collider-1",
    "title": "Causality II",
    "section": "Itâ€™s a collider",
    "text": "Itâ€™s a collider\nBut now imagine that studies are only published either if theyâ€™re very trustworthy OR very surprising"
  },
  {
    "objectID": "slides/12-causality.html#its-a-collider-2",
    "href": "slides/12-causality.html#its-a-collider-2",
    "title": "Causality II",
    "section": "Itâ€™s a collider",
    "text": "Itâ€™s a collider\nBy only looking at published papers (e.g., controlling for publication), we create a negative relationship that doesnâ€™t exist"
  },
  {
    "objectID": "slides/12-causality.html#exploding-colliders",
    "href": "slides/12-causality.html#exploding-colliders",
    "title": "Causality II",
    "section": "Exploding colliders",
    "text": "Exploding colliders\nLike pipes, colliders are a problem of controlling for the wrong thing\nThey are often the result of a sample selection problem\nThey can obscure actual relationships or fabricate non-existent ones\nWe need to avoid controlling for colliders; but they are everywhere!"
  },
  {
    "objectID": "slides/12-causality.html#your-turn-colliders",
    "href": "slides/12-causality.html#your-turn-colliders",
    "title": "Causality II",
    "section": "ğŸ’¥ Your turn: colliders ğŸ’¥",
    "text": "ğŸ’¥ Your turn: colliders ğŸ’¥\nHow are the following examples of colliders?\n\nAmong employees at Google, there is a strong negative correlation between technical skills and social skills.\nA study of people who tested for COVID finds that people who smoke regularly are less likely to develop COVID-19. A real study!\n\n\nwe are conditioning on testing, these are the only people we observe anything thatâ€™s correlated with likelihood of testing here becomes a problem who gets tested? imagine that healthcare workers get tested a lot, and that people who actually have COVID 19 are tested a lot so smokers with no symptoms are very unlikely to be in the data so of those tested, non-smokers are more likely to have COVID19 than smokers"
  },
  {
    "objectID": "slides/10-prediction.html#why-predict-1",
    "href": "slides/10-prediction.html#why-predict-1",
    "title": "Prediction",
    "section": "Why predict?",
    "text": "Why predict?\n\n\n\nCompanies, policymakers, and academics want to predict\nwho will win an election\nwhether UN peacekeepers can reduce conflict\nwhether youâ€™ll get the vaccine or not\nAt stake is what decision to take under uncertainty about the future"
  },
  {
    "objectID": "slides/10-prediction.html#making-predictions",
    "href": "slides/10-prediction.html#making-predictions",
    "title": "Prediction",
    "section": "Making predictions",
    "text": "Making predictions\n\n\nThe basics of prediction are pretty straightforward:\n\nTake/collect existing data âœ…\nFit a model to it âœ…\nDesign a scenario you want a prediction for â˜‘ï¸\nUse the model to generate an estimate for that scenario â˜‘ï¸"
  },
  {
    "objectID": "slides/10-prediction.html#whats-the-scenario",
    "href": "slides/10-prediction.html#whats-the-scenario",
    "title": "Prediction",
    "section": "Whatâ€™s the scenario?",
    "text": "Whatâ€™s the scenario?\n\n\n\nA scenario is a hypothetical observation (real, or imagined) that we want a prediction for\nYou define a scenario by picking values for explanatory variables\nExample: what is the predicted fuel efficiency for a car that weighs 3 tons?\nExample: what vote share should we expect for Democrats in a county with a median income of 45k, a large urban center, and where the percent of non-white residents is 50%?"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-by-hand",
    "href": "slides/10-prediction.html#prediction-by-hand",
    "title": "Prediction",
    "section": "Prediction (by hand)",
    "text": "Prediction (by hand)\n\nweight_model = lm(mpg ~ wt, data = mtcars)\n\nRemeber our model is an equation:\n\n\\(\\widehat{mpg} = 37.29 - 5.34(wt)\\)\n\n\nWe only have one explanatory variable to work with (wt), so our scenario can only rely on weight\n\n\nScenario: a car that weights 3.25 tons \\(\\rightarrow\\) what fuel efficiency should we expect?\n\n\nTo get an estimate of mpg, we simply plug in the value of â€œweightâ€ we are interested in:\n\n\nEstimate for weight = 3.25\n\\(\\widehat{mpg} = 37.29 - 5.34 \\times \\color{red}{3.25} = 19.935\\)"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-in-r",
    "href": "slides/10-prediction.html#prediction-in-r",
    "title": "Prediction",
    "section": "Prediction (in R)",
    "text": "Prediction (in R)\nFirst define the scenario we want a prediction for, using crossing()\n\n\nweight_scenario = crossing(wt = 3.25) \nweight_scenario\n\n# A tibble: 1 Ã— 1\n     wt\n  &lt;dbl&gt;\n1  3.25\n\n\n\n\nNote that I store this as a data object\n\n\n\n\n\n\n\n\nNote\n\n\nthe variables in crossing have to have the same name as the variables in the model"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-in-r-1",
    "href": "slides/10-prediction.html#prediction-in-r-1",
    "title": "Prediction",
    "section": "Prediction (in R)",
    "text": "Prediction (in R)\nWe can then combine our scenario with our model using augment()\n\naugment(weight_model, newdata = weight_scenario)\n\n# A tibble: 1 Ã— 2\n     wt .fitted\n  &lt;dbl&gt;   &lt;dbl&gt;\n1  3.25    19.9\n\n\n\naugment takes the values for our scenario and plugs them in to our model equation to get an estimate\n\n\nNote we got the same answer as when we did it by hand\n\n\n\n\n\n\nNote\n\n\nWe tell augment what our new scenario is using the newdata = argument"
  },
  {
    "objectID": "slides/10-prediction.html#multiple-scenarios",
    "href": "slides/10-prediction.html#multiple-scenarios",
    "title": "Prediction",
    "section": "Multiple scenarios",
    "text": "Multiple scenarios\nWe can also look at multiple scenarios, maybe a light, medium, and heavy car:\n\n\nweight_scenario = crossing(wt = c(1.5, 3, 5)) \nweight_scenario\n\n# A tibble: 3 Ã— 1\n     wt\n  &lt;dbl&gt;\n1   1.5\n2   3  \n3   5  \n\n\n\n\nAnd then use augment to get the estimates:\n\naugment(weight_model, newdata = weight_scenario)\n\n# A tibble: 3 Ã— 2\n     wt .fitted\n  &lt;dbl&gt;   &lt;dbl&gt;\n1   1.5    29.3\n2   3      21.3\n3   5      10.6"
  },
  {
    "objectID": "slides/10-prediction.html#sequence-of-scenarios",
    "href": "slides/10-prediction.html#sequence-of-scenarios",
    "title": "Prediction",
    "section": "Sequence of scenarios",
    "text": "Sequence of scenarios\nOr we can look at a sequence of scenarios using the seq() function\n\nExample: estimates for every weight between 2 and 6 tons, in .1 ton increments\n\n\n\nseq_weights = crossing(wt = seq(from = 2, to = 6, by = .1)) \nseq_weights\n\n# A tibble: 41 Ã— 1\n      wt\n   &lt;dbl&gt;\n 1   2  \n 2   2.1\n 3   2.2\n 4   2.3\n 5   2.4\n 6   2.5\n 7   2.6\n 8   2.7\n 9   2.8\n10   2.9\n# â„¹ 31 more rows\n\n\n\n\n\n\n\n\nNote\n\n\nseq needs a starting point (from), an end point (to), and an interval (by)"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-in-r-2",
    "href": "slides/10-prediction.html#prediction-in-r-2",
    "title": "Prediction",
    "section": "Prediction (in R)",
    "text": "Prediction (in R)\nAnd then get predictions for all these scenarios:\n\naugment(weight_model, newdata = seq_weights)\n\n# A tibble: 41 Ã— 2\n      wt .fitted\n   &lt;dbl&gt;   &lt;dbl&gt;\n 1   2      26.6\n 2   2.1    26.1\n 3   2.2    25.5\n 4   2.3    25.0\n 5   2.4    24.5\n 6   2.5    23.9\n 7   2.6    23.4\n 8   2.7    22.9\n 9   2.8    22.3\n10   2.9    21.8\n# â„¹ 31 more rows"
  },
  {
    "objectID": "slides/10-prediction.html#trivial",
    "href": "slides/10-prediction.html#trivial",
    "title": "Prediction",
    "section": "Trivial",
    "text": "Trivial\nDo we really need a model to predict MPG when weight = 3.25? Probably not"
  },
  {
    "objectID": "slides/10-prediction.html#multiple-regression",
    "href": "slides/10-prediction.html#multiple-regression",
    "title": "Prediction",
    "section": "Multiple regression",
    "text": "Multiple regression\nThe real power of modeling and prediction comes with using multiple explanatory variables\n\nMany factors influence a carâ€™s fuel efficiency; we can use that information to make more precise predictions\n\n\n\n\n\n\n\n\n\nmpg\nwt\ncyl\nhp\nam\nvs\n\n\n\n\nMerc 450SE\n16.4\n4.07\n8\n180\n0\n0\n\n\nHornet 4 Drive\n21.4\n3.21\n6\n110\n0\n1\n\n\nMerc 230\n22.8\n3.15\n4\n95\n0\n1\n\n\nMaserati Bora\n15.0\n3.57\n8\n335\n1\n0"
  },
  {
    "objectID": "slides/10-prediction.html#multiple-regression-1",
    "href": "slides/10-prediction.html#multiple-regression-1",
    "title": "Prediction",
    "section": "Multiple regression",
    "text": "Multiple regression\nHere, a carâ€™s fuel efficiency is a function of its weight (wt), number of cylinders (cyl), horse power (hp), and whether its transmission is manual or automatic (am)\n\nbig_model = lm(mpg ~ wt + cyl + hp + am, data = mtcars)\n\n\nThe model equation we want in the end is this one:\n\\[\\operatorname{mpg} = \\beta_0 + \\color{red}{\\beta_{1}}(\\operatorname{wt}) + \\color{red}{\\beta_{2}}(\\operatorname{cyl}) + \\color{red}{\\beta_{3}}(\\operatorname{hp}) + \\color{red}{\\beta_{4}}(\\operatorname{am})\\]"
  },
  {
    "objectID": "slides/10-prediction.html#multiple-regression-3",
    "href": "slides/10-prediction.html#multiple-regression-3",
    "title": "Prediction",
    "section": "Multiple regression",
    "text": "Multiple regression\n\n\n\nJust as when we had one variable, our OLS model is trying to find the values of \\(\\beta\\) that â€œbestâ€ fits the data\nOLS estimator = \\(\\sum{(Y_i - \\hat{Y_i})^2}\\)\nWhere \\(\\widehat{Y} = \\beta_0 + \\beta_1 x_1 + . . . \\beta_4 x_4\\)\nNow searching for \\(\\beta_0 ... \\beta_4\\) to minimize loss function\n\n\n\n\n\n\n\n\n\n\n\nlm() hard at work"
  },
  {
    "objectID": "slides/10-prediction.html#interpretation",
    "href": "slides/10-prediction.html#interpretation",
    "title": "Prediction",
    "section": "Interpretation",
    "text": "Interpretation\n\n\n\n\n\n\n\n\nterm\nestimate\n\n\n\n\n(Intercept)\n36.15\n\n\nwt\n-2.61\n\n\ncyl\n-0.75\n\n\nhp\n-0.02\n\n\nam\n1.48\n\n\n\n\n\n\n\n\n\n\nwt = every ton of weight is associated with a 2.61 decrease in mpg\ncyl = every cylinder is associated with a .7 decrease in mpg\nhp = every unit of horse power is associated with a .02 decrease in mpg\nam = on average, cars with manual transmissions (am = 1) have 1.48 more mpg than cars with automatic transmissions (am = 0)\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nNote how the estimate on weight changed as we added more variables"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-by-hand-1",
    "href": "slides/10-prediction.html#prediction-by-hand-1",
    "title": "Prediction",
    "section": "Prediction (by hand)",
    "text": "Prediction (by hand)\nWe can make predictions just as before, plugging in values for our explanatory variables\n\\[\n\\operatorname{\\widehat{mpg}} = 36.15 - 2.61(\\operatorname{wt}) - 0.75(\\operatorname{cyl}) - 0.02(\\operatorname{hp}) + 1.48(\\operatorname{am})\n\\]\n\nWith more variables, we can create more specific scenarios\n\n\nFor example: a car that weighs 3 tons, has 4 cylinders, 120 horsepower, and has a manual transmission\n\n\n\\[\n\\operatorname{\\widehat{mpg}} = 36.15 - 2.61 \\times \\color{blue}{3} - 0.75 \\times  \\color{blue}{4} - 0.02 \\times  \\color{blue}{120} + 1.48 \\times  \\color{blue}{1}\n\\]\n\n\n\\[\n\\operatorname{\\widehat{mpg}} = 24\n\\]"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-in-r-3",
    "href": "slides/10-prediction.html#prediction-in-r-3",
    "title": "Prediction",
    "section": "Prediction (in R)",
    "text": "Prediction (in R)\nWe can do this in R with crossing() and augment()\n\n\nbig_scenario = crossing(wt = 3, cyl = 4, hp = 120, am = 1)\n\naugment(big_model, newdata = big_scenario)\n\n# A tibble: 1 Ã— 5\n     wt   cyl    hp    am .fitted\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n1     3     4   120     1    23.8"
  },
  {
    "objectID": "slides/10-prediction.html#troubleshooting",
    "href": "slides/10-prediction.html#troubleshooting",
    "title": "Prediction",
    "section": "Troubleshooting",
    "text": "Troubleshooting\nNote that your scenario needs to include every variable in your model, otherwise you will get an error\n\nThe one below is missing cylinders, which is in big_model, and wonâ€™t run:\n\n\n\nbad_scenario = crossing(wt = 3, \n                      hp = 120,\n                      am = 1)\n\naugment(big_model, newdata = bad_scenario)"
  },
  {
    "objectID": "slides/10-prediction.html#pick-scenarios-that-make-sense",
    "href": "slides/10-prediction.html#pick-scenarios-that-make-sense",
    "title": "Prediction",
    "section": "Pick scenarios that make sense",
    "text": "Pick scenarios that make sense\n\nNote that to make predictions that make sense, we have to look through our data and see what values are plausible for the variables\n\n\nFor example, a scenario where we set am = 3 doesnâ€™t make sense, since am is a dummy variable that takes two values (0 = automatic, 1 = manual)\n\n\nBut R doesnâ€™t know that, and will give you (nonsensical) estimates:\n\ncrazy_car = crossing(wt = 3, cyl = 4, hp = 120, am = 3)\naugment(big_model, newdata = crazy_car)\n\n# A tibble: 1 Ã— 5\n     wt   cyl    hp    am .fitted\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n1     3     4   120     3    26.8\n\n\n\n\n\n\n\n\nNote\n\n\nRemember data |&gt; distinct(variable) to see a variableâ€™s values"
  },
  {
    "objectID": "slides/10-prediction.html#holding-all-else-constant",
    "href": "slides/10-prediction.html#holding-all-else-constant",
    "title": "Prediction",
    "section": "Holding all else constant",
    "text": "Holding all else constant\nOne cool part of multiple regression is that we can see what happens to our estimates when one variable changes but the others are held at a fixed value\n\nHolding all else in the model constant, how does increasing a carâ€™s horsepower change its fuel efficiency?\n\n\nWe can use seq() to see what happens when horsepower changes while everything else is left at a fixed value\n\n\n\nvarying_hp = crossing(wt = 3, cyl = 4, am = 1, hp = seq(from = 50, to = 340, by = 5))\n\naugment(big_model, newdata = varying_hp)\n\n# A tibble: 59 Ã— 5\n      wt   cyl    am    hp .fitted\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n 1     3     4     1    50    25.6\n 2     3     4     1    55    25.5\n 3     3     4     1    60    25.3\n 4     3     4     1    65    25.2\n 5     3     4     1    70    25.1\n 6     3     4     1    75    25.0\n 7     3     4     1    80    24.8\n 8     3     4     1    85    24.7\n 9     3     4     1    90    24.6\n10     3     4     1    95    24.5\n# â„¹ 49 more rows"
  },
  {
    "objectID": "slides/10-prediction.html#visualizing-predictions",
    "href": "slides/10-prediction.html#visualizing-predictions",
    "title": "Prediction",
    "section": "Visualizing predictions",
    "text": "Visualizing predictions\nWe could then store our estimate, and use it for plotting\n\nhp_pred = augment(big_model, newdata = varying_hp)\nggplot(hp_pred, aes(x = hp, y = .fitted)) + geom_point()"
  },
  {
    "objectID": "slides/10-prediction.html#one-more-example-gapminder",
    "href": "slides/10-prediction.html#one-more-example-gapminder",
    "title": "Prediction",
    "section": "One more example: Gapminder",
    "text": "One more example: Gapminder\nSay we wanted to predict a countryâ€™s life expectancy, using population, GDP per capita, the year, and what continent it is in:\n\n\nlife_model = lm(lifeExp ~ gdpPercap + pop + year + continent, data = gapminder)\ntidy(life_model)\n\n# A tibble: 8 Ã— 5\n  term              estimate std.error statistic   p.value\n  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)       -5.18e+2   1.99e+1    -26.1  3.25e-126\n2 gdpPercap          2.98e-4   2.00e-5     14.9  2.52e- 47\n3 pop                1.79e-9   1.63e-9      1.10 2.73e-  1\n4 year               2.86e-1   1.01e-2     28.5  4.80e-146\n5 continentAmericas  1.43e+1   4.95e-1     28.9  1.18e-149\n6 continentAsia      9.38e+0   4.72e-1     19.9  3.80e- 79\n7 continentEurope    1.94e+1   5.18e-1     37.4  2.03e-223\n8 continentOceania   2.06e+1   1.47e+0     14.0  3.39e- 42"
  },
  {
    "objectID": "slides/10-prediction.html#predicting-health",
    "href": "slides/10-prediction.html#predicting-health",
    "title": "Prediction",
    "section": "Predicting health",
    "text": "Predicting health\nScenario: what if we wanted to predict the life expectancy of a country with a GDP per capita of $7,000, a population of 20 million, in the year 2005, in Asia?\n\n\nlife_scenario = crossing(gdpPercap = 7000, \n                       pop = 20000000, year = 2005, \n                       continent = \"Asia\")\naugment(life_model, newdata = life_scenario)\n\n# A tibble: 1 Ã— 5\n  gdpPercap      pop  year continent .fitted\n      &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n1      7000 20000000  2005 Asia         67.0"
  },
  {
    "objectID": "slides/10-prediction.html#imaginary-changes",
    "href": "slides/10-prediction.html#imaginary-changes",
    "title": "Prediction",
    "section": "Imaginary changes",
    "text": "Imaginary changes\nWhat if we could â€œdial upâ€ this countryâ€™s GDP slowly? How would its life expectancy change?\n\nScenario: we can vary GDP and keep all else constant\n\n\n\nlife_scenario = crossing(gdpPercap = seq(from = 5000, to = 100000, by = 5000), \n                       pop = 20000000, year = 2005, \n                       continent = \"Asia\")\naugment(life_model, newdata = life_scenario)\n\n# A tibble: 20 Ã— 5\n   gdpPercap      pop  year continent .fitted\n       &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1      5000 20000000  2005 Asia         66.4\n 2     10000 20000000  2005 Asia         67.9\n 3     15000 20000000  2005 Asia         69.4\n 4     20000 20000000  2005 Asia         70.9\n 5     25000 20000000  2005 Asia         72.4\n 6     30000 20000000  2005 Asia         73.9\n 7     35000 20000000  2005 Asia         75.4\n 8     40000 20000000  2005 Asia         76.8\n 9     45000 20000000  2005 Asia         78.3\n10     50000 20000000  2005 Asia         79.8\n11     55000 20000000  2005 Asia         81.3\n12     60000 20000000  2005 Asia         82.8\n13     65000 20000000  2005 Asia         84.3\n14     70000 20000000  2005 Asia         85.8\n15     75000 20000000  2005 Asia         87.3\n16     80000 20000000  2005 Asia         88.8\n17     85000 20000000  2005 Asia         90.3\n18     90000 20000000  2005 Asia         91.8\n19     95000 20000000  2005 Asia         93.3\n20    100000 20000000  2005 Asia         94.8"
  },
  {
    "objectID": "slides/10-prediction.html#imaginary-scenarios",
    "href": "slides/10-prediction.html#imaginary-scenarios",
    "title": "Prediction",
    "section": "Imaginary scenarios",
    "text": "Imaginary scenarios\nHow different would this all look in different continents? We can vary continents too:\n\n\nlife_continent_scenario = crossing(gdpPercap = seq(from = 5000, to = 100000, by = 5000), \n                       pop = 20000000, year = 2005, \n                       continent = c(\"Asia\", \"Africa\", \"Americas\", \"Europe\")) \naugment(life_model, newdata = life_continent_scenario)\n\n# A tibble: 80 Ã— 5\n   gdpPercap      pop  year continent .fitted\n       &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1      5000 20000000  2005 Africa       57.0\n 2      5000 20000000  2005 Americas     71.3\n 3      5000 20000000  2005 Asia         66.4\n 4      5000 20000000  2005 Europe       76.4\n 5     10000 20000000  2005 Africa       58.5\n 6     10000 20000000  2005 Americas     72.8\n 7     10000 20000000  2005 Asia         67.9\n 8     10000 20000000  2005 Europe       77.9\n 9     15000 20000000  2005 Africa       60.0\n10     15000 20000000  2005 Americas     74.3\n# â„¹ 70 more rows"
  },
  {
    "objectID": "slides/10-prediction.html#predicting-health-1",
    "href": "slides/10-prediction.html#predicting-health-1",
    "title": "Prediction",
    "section": "Predicting health",
    "text": "Predicting health\nWe can then save our predictions as an object, and plot them:\n\npred_health = augment(life_model, newdata = life_continent_scenario)\nggplot(pred_health, aes(x = gdpPercap, y = .fitted, color = continent)) + \n  geom_point() + geom_line()"
  },
  {
    "objectID": "slides/10-prediction.html#your-turn-colonial-fire-sale",
    "href": "slides/10-prediction.html#your-turn-colonial-fire-sale",
    "title": "Prediction",
    "section": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´",
    "text": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´\n\n\n\nDuring the 1600s and 1700s the Spanish Crown would sell colonial governorships to raise money\nGovernorships were valuable because you could tax / exploit the local population\n\n\n\n\n\n\n\n\n\n\n\nCharles II. His wife: â€œThe Catholic King is so ugly as to cause fear and he looks ill.â€"
  },
  {
    "objectID": "slides/10-prediction.html#your-turn-colonial-fire-sale-1",
    "href": "slides/10-prediction.html#your-turn-colonial-fire-sale-1",
    "title": "Prediction",
    "section": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´",
    "text": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´\n\n\n\n\n\n\naudiencia\nprovincia\nprovcode\nyear\ntime\nname_approx\nappointed\ntitle_raw\nmilitary\norden\nnobility\nnoble\nrprice1\nsuitindex\ncenterxgd\ncenterygd\nz\ndistlima\nbishop\ncumwar\nwar\ntwowars\nyearfromwar\npop54\nind54\ngov_reb\nmita\nmine\neconactivity2\nwage\nreparto2\nrep50\ntotalc\ntributonew\nmining\nalcabala\n\n\n\n\nLima\nCalca y Lares\n13\n1715\n7\nF. De Lasagartua\n0\nCivil\n0\n0\n0\n0\n3355.759\n0.8926667\n-71.95901\n-13.35248\n2905.222\n570.81799\n0\n0\n0\n0\n-3\n6199\n5519\n0\n0\n0\n0\n1000\n73600\n0\n10.98351\n9.408453\n8.451267\n8.875287\n\n\nLima\nHuarochiri\n37\n1692\n3\nPedro De Legaria\n0\nCivil\n0\n0\n0\n0\n2044.352\n0.0647667\n-76.36739\n-11.89083\n3021.700\n78.53205\n0\n5\n1\n0\n5\n14024\n13084\n0\n0\n1\n0\n800\n140000\n1\nNA\nNA\nNA\nNA\n\n\nLima\nArequipa\n5\n1683\n3\nFrancisco De Munon Y Torresgrosa\n0\nCaballero orden de Santiago\n0\n1\n0\n1\n3130.726\n0.0061818\n-71.60053\n-16.55599\n1889.909\n770.99956\n1\n1\n1\n0\n1\n37261\n5929\n0\n0\n0\n1\n2000\n123000\n1\nNA\nNA\nNA\nNA\n\n\nLima\nHuamanga\n34\n1715\n10\nPedro De Velasco Y Lazarraga\n0\nMilitar - Capitan\n1\n0\n0\n0\n3273.911\n0.8290000\n-74.22577\n-13.16026\n2656.000\n329.94941\n1\n0\n0\n0\n-3\n25821\n20373\n0\n1\n0\n0\n2000\n63800\n0\nNA\nNA\nNA\nNA\n\n\nLima\nJauja\n39\n1688\n3\nDiego De Villatoro\n0\nCivil - Guarda damas de la reina y Caballero de la Orden de Santiago\n0\n1\n0\n1\n3270.963\n0.5898966\n-75.28021\n-11.94896\n3253.586\n193.32407\n0\n1\n1\n0\n1\n52286\n28477\n0\n1\n1\n1\n1400\n150000\n1\nNA\nNA\nNA\nNA"
  },
  {
    "objectID": "slides/10-prediction.html#your-turn-colonial-fire-sale-2",
    "href": "slides/10-prediction.html#your-turn-colonial-fire-sale-2",
    "title": "Prediction",
    "section": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´",
    "text": "Your turn: ğŸ¤´ Colonial fire sale ğŸ¤´\nUsing colony:\n\nHow much would a noble (noble), without military experience (military) expect to pay (rprice1) for a governorship with a suitability index of .8 (suitindex) and a repartimiento (reparto2) of 98,000 pesos?\nAdjust the scenario above so that the repartimiento quota increases from 10,000 to 200,000 in increments of 1,000 pesos, but everything else stays the same. Store as an object and plot to observe the changes.\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/10-prediction.html#prediction-accuracy",
    "href": "slides/10-prediction.html#prediction-accuracy",
    "title": "Prediction",
    "section": "Prediction accuracy",
    "text": "Prediction accuracy\n\n\n\nThe question with prediction is always: how accurate were we?\nIf our model is predicting the outcome accurately that might be:\n\na good sign that we are modeling the process that generates the outcome well\nuseful for forcasting the future, or situations we donâ€™t know about"
  },
  {
    "objectID": "slides/10-prediction.html#comparing-to-reality",
    "href": "slides/10-prediction.html#comparing-to-reality",
    "title": "Prediction",
    "section": "Comparing to reality",
    "text": "Comparing to reality\nHow good are our predictions? We could compare our estimate to a real country, say Jamaica in 2007:\n\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nJamaica\nAmericas\n2007\n72.567\n2780132\n7320.88\n\n\n\n\n\n\n\n\n\n\nWe can use Jamaicaâ€™s values as our scenario, and see what our model predicted:\n\njamaica = crossing(continent = \"Americas\", year = 2007, pop = 2780132, gdpPercap = 7321)"
  },
  {
    "objectID": "slides/10-prediction.html#pretty-close",
    "href": "slides/10-prediction.html#pretty-close",
    "title": "Prediction",
    "section": "Pretty close",
    "text": "Pretty close\nActual:\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nJamaica\nAmericas\n2007\n72.567\n2780132\n7320.88\n\n\n\n\n\n\n\n\nEstimate:\n\naugment(life_model, newdata = jamaica)\n\n# A tibble: 1 Ã— 5\n  continent  year     pop gdpPercap .fitted\n  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 Americas   2007 2780132      7321    72.5"
  },
  {
    "objectID": "slides/10-prediction.html#is-this-really-a-prediction",
    "href": "slides/10-prediction.html#is-this-really-a-prediction",
    "title": "Prediction",
    "section": "Is this really a prediction?",
    "text": "Is this really a prediction?\n\n\n\nOur estimate of Jamaica is not really prediction, since we used that observation to fit our model\nThis is an in-sample prediction \\(\\rightarrow\\) seeing how well our model does at predicting the data that we used to generate it\nâ€œTrueâ€ prediction is out-of-sample \\(\\rightarrow\\) using a model to generate predictions about something that hasnâ€™t happened yet\n\n\n\n\n\n\n\nFigure. Is catch and release really fishing?"
  },
  {
    "objectID": "slides/10-prediction.html#out-of-sample-prediction",
    "href": "slides/10-prediction.html#out-of-sample-prediction",
    "title": "Prediction",
    "section": "Out of sample prediction",
    "text": "Out of sample prediction\nImagine in the year 1957 we fit a model with the info we had available at the time:\n\n\ngap_57 = gapminder %&gt;% filter(year &lt;= 1957)\nmod_57 = lm(lifeExp ~ gdpPercap + pop + continent + year, data = gap_57)\n\n\n\nNow itâ€™s 2007, someone finds the model, and wants to know: how well could this model have predicted the future?\n\n\n\njamaica = crossing(continent = \"Americas\", year = 2007, pop = 2780132, gdpPercap = 7321)\n\n\n\nThis is an out-of-sample prediction: our model has data before 1957, but our prediction is based off of Jamaicaâ€™s characteristics in 2007"
  },
  {
    "objectID": "slides/10-prediction.html#how-did-we-do",
    "href": "slides/10-prediction.html#how-did-we-do",
    "title": "Prediction",
    "section": "How did we do?",
    "text": "How did we do?\nJamaica in 2007:\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nJamaica\nAmericas\n2007\n72.6\n2780132\n7320.9\n\n\n\n\n\n\n\n\n\nWhat our 1957 model predicted for 2007 (out of sample):\n\n\n\n\n\n\ncontinent\nyear\npop\ngdpPercap\n.fitted\n\n\n\n\nAmericas\n2007\n2780132\n7321\n79.8\n\n\n\n\n\n\n\n\n\n\nWhat our model with all the data predicted, 2007 included (in sample):\n\n\n\n\n\n\ncontinent\nyear\npop\ngdpPercap\n.fitted\n\n\n\n\nAmericas\n2007\n2780132\n7321\n72.5"
  },
  {
    "objectID": "slides/10-prediction.html#your-turn-the-movies",
    "href": "slides/10-prediction.html#your-turn-the-movies",
    "title": "Prediction",
    "section": "ğŸš¨ Your turn: ğŸ¥ The movies ğŸ¥ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ¥ The movies ğŸ¥ğŸš¨\nUsing movies:\n\nFit a model that predicts gross (outcome) using genre1, duration, budget, year, imdb_score, and whether or not itâ€™s in color.\nLook up a movie in the dataset. How well does the model predict a movie that shares that movieâ€™s characteristics?\nLook up a movie on IMDB that came out after the data ends (2016). How well does your model predict that movieâ€™s gross?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/08-models.html#patterns-in-the-data",
    "href": "slides/08-models.html#patterns-in-the-data",
    "title": "Modeling I",
    "section": "Patterns in the data",
    "text": "Patterns in the data\n\n\n\nSo far: wrangling and visualizing data\nLooking for patterns (hopefully real)\nExamples?"
  },
  {
    "objectID": "slides/08-models.html#patterns-and-correlations",
    "href": "slides/08-models.html#patterns-and-correlations",
    "title": "Modeling I",
    "section": "Patterns and correlations",
    "text": "Patterns and correlations\n\nA useful way to talk about these patterns is in terms of correlations\n\nWhen we see a pattern between two (or more) variables, we say they are correlated; when we donâ€™t see one, we say they are uncorrelated\n\n\nCorrelations can be strong or weak, positive or negative"
  },
  {
    "objectID": "slides/08-models.html#correlations-strength",
    "href": "slides/08-models.html#correlations-strength",
    "title": "Modeling I",
    "section": "Correlations: strength",
    "text": "Correlations: strength\nWhen two variables â€œmove togetherâ€, the correlation is strong\nWhen they donâ€™t â€œmove togetherâ€, the correlation is weak"
  },
  {
    "objectID": "slides/08-models.html#correlations-strength-1",
    "href": "slides/08-models.html#correlations-strength-1",
    "title": "Modeling I",
    "section": "Correlations: strength",
    "text": "Correlations: strength\nBetter heuristic: knowing about one variable tells you something about the other\n\n\n\nStrong: if you know how a county voted in 2012, you have a good guess for 2016\nWeak: if you know a countyâ€™s average commute time, you know almost nothing about how it votes"
  },
  {
    "objectID": "slides/08-models.html#correlation-strength",
    "href": "slides/08-models.html#correlation-strength",
    "title": "Modeling I",
    "section": "Correlation: strength",
    "text": "Correlation: strength\nWe also talk (informally) about correlations that include categorical variables\nBig gaps between groups \\(\\rightarrow\\) correlated"
  },
  {
    "objectID": "slides/08-models.html#correlation-direction",
    "href": "slides/08-models.html#correlation-direction",
    "title": "Modeling I",
    "section": "Correlation: direction",
    "text": "Correlation: direction\nâ•: When two variables move â€œin the same directionâ€\nâ–: When two variables move â€œin opposite directionsâ€"
  },
  {
    "objectID": "slides/08-models.html#quantifying-correlation",
    "href": "slides/08-models.html#quantifying-correlation",
    "title": "Modeling I",
    "section": "Quantifying correlation",
    "text": "Quantifying correlation\nWhen the two variables are continuous, we can quantify the correlation\n\\[r =\n  \\frac{ \\sum_{i=1}^{n}(x_i-\\bar{x})(y_i-\\bar{y}) }{\\sqrt{\\sum_{i=1}^{n}(x_i-\\bar{x})^2\\sum_{i=1}^{n}(y_i-\\bar{y})^2}}\\]\n\nCorrelation coefficient, r:\nranges from -1 to 1,\nperfectly correlated = 1 or -1,\nperfectly uncorrelated = 0\n\n\nAll of the movement is here: \\(\\sum_{i=1}^{n}(x_i-\\bar{x})(y_i-\\bar{y})\\)"
  },
  {
    "objectID": "slides/08-models.html#quantifying-correlation-1",
    "href": "slides/08-models.html#quantifying-correlation-1",
    "title": "Modeling I",
    "section": "Quantifying correlation",
    "text": "Quantifying correlation\n\n\n\n\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age_{i} - \\overline{age}\\)\nchild\n\\(\\overline{child}\\)\n\\(\\ child_{i} - \\overline{child}\\)\nproduct\n\n\n\n\n68\n49.16\n18.84\n3\n1.85\n1.15\n21.63\n\n\n44\n49.16\n-5.16\n0\n1.85\n-1.85\n9.55\n\n\n32\n49.16\n-17.16\n0\n1.85\n-1.85\n31.77\n\n\n\n\n\n\n\n\n\\[\\sum_{i=1}^{n}(age_i-\\overline{age})(child_i-\\overline{child})\\]\n\nLots of big, positive products \\(\\rightarrow\\) strong positive correlation\n\n\nLots of big, negative products \\(\\rightarrow\\) strong negative correlation\n\n\nA mix of positive and negative products \\(\\rightarrow\\) weak correlation"
  },
  {
    "objectID": "slides/08-models.html#interpreting-the-coefficient",
    "href": "slides/08-models.html#interpreting-the-coefficient",
    "title": "Modeling I",
    "section": "Interpreting the coefficient",
    "text": "Interpreting the coefficient\n\n\n\n\n\n\n\n\nCorrelation coefficient\nRough meaning\n\n\n\n\n+/- 0.1 - 0.3\nModest\n\n\n+/- 0.3 - 0.5\nModerate\n\n\n+/- 0.5 - 0.8\nStrong\n\n\n+/- 0.8 - 0.9\nVery strong"
  },
  {
    "objectID": "slides/08-models.html#correlation-coefficient-just-a-number",
    "href": "slides/08-models.html#correlation-coefficient-just-a-number",
    "title": "Modeling I",
    "section": "Correlation coefficient: just a number",
    "text": "Correlation coefficient: just a number\n\nItâ€™s useful in a narrow range of situations\n\n\nThe underlying concepts are more broadly applicable\n\n\n\n\n\n\n\nStrength\nDirection\nMeaning\n\n\n\n\nStrong\nPositive\nAs X goes up, Y goes up a lot\n\n\nStrong\nNegative\nAs X goes up, Y goes down a lot\n\n\nWeak\nPositve\nAs X goes up, Y goes up a little\n\n\nWeak\nNegative\nAs X goes up, Y goes down a little"
  },
  {
    "objectID": "slides/08-models.html#our-turn-correlations",
    "href": "slides/08-models.html#our-turn-correlations",
    "title": "Modeling I",
    "section": "ğŸš¨ Our turn: correlations ğŸš¨",
    "text": "ğŸš¨ Our turn: correlations ğŸš¨\nWhat do these pair-wise correlations from elections tell us?"
  },
  {
    "objectID": "slides/08-models.html#models-1",
    "href": "slides/08-models.html#models-1",
    "title": "Modeling I",
    "section": "Models",
    "text": "Models\n\n\n\nModels are everywhere in social science (and industry)\nBeneath what ads you see, movie recs, election forecasts, social science research \\(\\rightarrow\\) a model\nIn the social sciences, we use models to describe how an outcome changes in response to a treatment"
  },
  {
    "objectID": "slides/08-models.html#the-moving-parts",
    "href": "slides/08-models.html#the-moving-parts",
    "title": "Modeling I",
    "section": "The moving parts",
    "text": "The moving parts\n\n\n\nThe things we want to study in the social sciences are complex\nWhy do people vote? We can think of lots of factors that go into this decision\nVoted = Age + Interest in politics + Free time + Social networks + . . .\nModels break up (decompose) the variance in an outcome into a set of explanatory variables"
  },
  {
    "objectID": "slides/08-models.html#speaking-the-language",
    "href": "slides/08-models.html#speaking-the-language",
    "title": "Modeling I",
    "section": "Speaking the language",
    "text": "Speaking the language\n\n\n\n\n\n\nY\nX\n\n\n\n\nOutcome variable\nTreatment variable\n\n\nResponse variable\nExplanatory variable\n\n\nDependent variable\nIndependent variable\n\n\nWhat is being changed\nWhat is causing the change in Y\n\n\n\n\n\n\n\n\nMaybe youâ€™ve seen some of these terms before; hereâ€™s what we will use"
  },
  {
    "objectID": "slides/08-models.html#model-cars",
    "href": "slides/08-models.html#model-cars",
    "title": "Modeling I",
    "section": "Model cars",
    "text": "Model cars\nSay we want to model how changing a carâ€™s weight (treatment) affects its fuel efficiency (outcome)\n\n\n\n\nSample from mtcars\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.62\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.88\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.32\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258\n110\n3.08\n3.21\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360\n175\n3.15\n3.44\n17.02\n0\n0\n3\n2"
  },
  {
    "objectID": "slides/08-models.html#modeling-weight-and-fuel-efficiency",
    "href": "slides/08-models.html#modeling-weight-and-fuel-efficiency",
    "title": "Modeling I",
    "section": "Modeling weight and fuel efficiency",
    "text": "Modeling weight and fuel efficiency\nVery strong, negative correlation (r = -.9)"
  },
  {
    "objectID": "slides/08-models.html#why-a-model",
    "href": "slides/08-models.html#why-a-model",
    "title": "Modeling I",
    "section": "Why a model?",
    "text": "Why a model?\n\nGraph + correlation just gives us direction and strength of relationship\n\n\nWhat if we wanted to know what fuel efficiency to expect if a car weighs 3 tons, or 6.2?"
  },
  {
    "objectID": "slides/08-models.html#lines-as-models",
    "href": "slides/08-models.html#lines-as-models",
    "title": "Modeling I",
    "section": "Lines as models",
    "text": "Lines as models\n\nThereâ€™s many ways to model relationships between variables\n\n\nA simple model is a line that â€œfitsâ€ the data â€œwellâ€\n\n\nThe line of best fit describes how fuel efficiency changes as weight changes"
  },
  {
    "objectID": "slides/08-models.html#strength-of-relationship",
    "href": "slides/08-models.html#strength-of-relationship",
    "title": "Modeling I",
    "section": "Strength of relationship",
    "text": "Strength of relationship\nThe slope of the line quantifies the strength of the relationship\n\nSlope: -5.3 \\(\\rightarrow\\) for every ton of weight you add to a car, you lose 5 miles per gallon"
  },
  {
    "objectID": "slides/08-models.html#guessing-where-theres-no-data",
    "href": "slides/08-models.html#guessing-where-theres-no-data",
    "title": "Modeling I",
    "section": "Guessing where thereâ€™s no data",
    "text": "Guessing where thereâ€™s no data\nLine also gives us â€œbest guessâ€ for the fuel efficiency of a car with a given weight\n\neven where we have no data\n\n\nbest guess for 4.5 ton car \\(\\rightarrow\\) 13 mpg"
  },
  {
    "objectID": "slides/08-models.html#drawing-lines-in-r",
    "href": "slides/08-models.html#drawing-lines-in-r",
    "title": "Modeling I",
    "section": "Drawing lines in R",
    "text": "Drawing lines in R\nWe can add a trend-line to a graph using geom_smooth(method = \"lm\")\n\n\nggplot(mtcars, aes(x = wt, y = mpg)) + geom_point() + geom_smooth(method = \"lm\")"
  },
  {
    "objectID": "slides/08-models.html#where-does-this-line-come-from",
    "href": "slides/08-models.html#where-does-this-line-come-from",
    "title": "Modeling I",
    "section": "Where does this line come from?",
    "text": "Where does this line come from?\nRemember that a straight line takes the following form\n\n\n\n6th grade algebra notation:\n\\(Y = b + mx\\)\nY = a number\nx = a number\nm = the slope \\(\\frac{rise}{run}\\)\nb = the intercept\n\n\n\nStatistical notation:\n\\(Y = \\beta_0 + \\beta_{1} x\\)\n\\(Y\\) = a number\n\\(x1\\) = a number\n\\(\\beta_1\\) = the slope \\(\\frac{rise}{run}\\)\n\\(\\beta_0\\) = the intercept\n\n\n\n\nIf you know \\(\\beta_0\\) (intercept) and \\(\\beta_1\\) (slope) you can draw a line"
  },
  {
    "objectID": "slides/08-models.html#some-lines",
    "href": "slides/08-models.html#some-lines",
    "title": "Modeling I",
    "section": "Some lines",
    "text": "Some lines"
  },
  {
    "objectID": "slides/08-models.html#which-line-to-draw",
    "href": "slides/08-models.html#which-line-to-draw",
    "title": "Modeling I",
    "section": "Which line to draw?",
    "text": "Which line to draw?\nWe could draw many lines through this data; which is â€œbestâ€?"
  },
  {
    "objectID": "slides/08-models.html#drawing-the-line",
    "href": "slides/08-models.html#drawing-the-line",
    "title": "Modeling I",
    "section": "Drawing the line",
    "text": "Drawing the line\nWe need to find the intercept (\\(\\beta_0\\)) and slope (\\(\\beta_1\\)) that will â€œfitâ€ the data â€œwellâ€\n\\(mpg_{i} = \\beta_0 + \\beta_1 \\times weight_{i}\\)"
  },
  {
    "objectID": "slides/08-models.html#what-does-it-mean-to-fit-well",
    "href": "slides/08-models.html#what-does-it-mean-to-fit-well",
    "title": "Modeling I",
    "section": "What does it mean to â€œfit wellâ€?",
    "text": "What does it mean to â€œfit wellâ€?\n\n\n\nModels use a rule for defining what it means to fit the data â€œwellâ€\nThis rule is called a loss function\nDifferent models use different loss functions\nWeâ€™ll look at the most popular modeling approach:\nordinary least squares (OLS)"
  },
  {
    "objectID": "slides/08-models.html#the-loss-function-for-ols",
    "href": "slides/08-models.html#the-loss-function-for-ols",
    "title": "Modeling I",
    "section": "The loss function for OLS",
    "text": "The loss function for OLS\n\nThe loss function for OLS (roughly!) says:\n\n\na line fits the data well if the sum of all the squared distances between the line and each data point is as small as possible\n\n\n\\(Y_i\\) is the data point \\(\\rightarrow\\) value of observation \\(i\\) \\(\\rightarrow\\) the mpg of car \\(i\\)\n\n\n\\(\\widehat{Y_i}\\) is the line \\(\\rightarrow\\) the mpg our line predicts for a car with that weight \\(\\rightarrow\\)\n\n\n\\(\\beta_0 + \\beta_1 \\times weight\\)\n\n\nDistance between each point and line = \\((Y_i - \\widehat{Y_i})\\)"
  },
  {
    "objectID": "slides/08-models.html#distance-between-each-point-and-the-line",
    "href": "slides/08-models.html#distance-between-each-point-and-the-line",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(Y_i\\) = actual MPG for the Toyota Corolla"
  },
  {
    "objectID": "slides/08-models.html#distance-between-each-point-and-the-line-1",
    "href": "slides/08-models.html#distance-between-each-point-and-the-line-1",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(\\widehat{Y_i}\\) = our modelâ€™s predicted MPG (\\(\\beta_0\\) + \\(\\beta_1 \\times weight\\)) for the Corolla"
  },
  {
    "objectID": "slides/08-models.html#distance-between-each-point-and-the-line-2",
    "href": "slides/08-models.html#distance-between-each-point-and-the-line-2",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(Y_i - \\widehat{Y_i}\\) = the distance between the data point and the line"
  },
  {
    "objectID": "slides/08-models.html#back-to-the-loss-function",
    "href": "slides/08-models.html#back-to-the-loss-function",
    "title": "Modeling I",
    "section": "Back to the loss function",
    "text": "Back to the loss function\n\\(Y_i - \\widehat{Y_i}\\) is the distance between the point and the line\n\nOLS uses the squared distances: \\((Y_i - \\widehat{Y_i})^2\\)\n\n\nThe sum of the squared distances: \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2}\\)\n\n\nRemember that \\(\\widehat{Y_i} = \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight\\)\n\n\nSo can rewrite: \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} = \\sum_i^n{(Y_i - \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight)^2}\\)\n\n\nSo we need to pick \\(\\beta_0\\) and \\(\\beta_1\\) to make this as small as possible (minimize):\n\\(\\sum_i^n{(Y_i - \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight)^2}\\)"
  },
  {
    "objectID": "slides/08-models.html#estimating-the-parameters",
    "href": "slides/08-models.html#estimating-the-parameters",
    "title": "Modeling I",
    "section": "Estimating the parameters",
    "text": "Estimating the parameters\n\nHow do we find the specific \\(\\beta_0\\) and \\(\\beta_1\\) that minimize the loss function?\n\n\nZooming out (not just OLS): in modeling there are two kinds of approaches\n\n\n\n\n\nStatistical theory: make some assumptions and use math to find \\(\\beta_0\\) and \\(\\beta_1\\)\n\n\n\nComputational: make some assumptions and use brute force smart guessing to find \\(\\beta_0\\) and \\(\\beta_1\\)\n\n\n\n\n\nSometimes (1) and (2) will produce the same answer; other times only (1) or (2) is possible"
  },
  {
    "objectID": "slides/08-models.html#computational-approach",
    "href": "slides/08-models.html#computational-approach",
    "title": "Modeling I",
    "section": "Computational approach",
    "text": "Computational approach\nImagine an algorithm that:\n\nDraws a line through the data by picking values of \\(\\beta_0\\) and \\(\\beta_1\\)\nSees how far each point is from the line\nSum up all the squared distances for that line (remember OLS calls for squaring!)\nRinse, repeat with a new line\n\n\nThe pair of \\(\\beta_0\\) and \\(\\beta_1\\) that produce the line with the smallest sum of squared distances is our OLS estimator"
  },
  {
    "objectID": "slides/08-models.html#strawman-comparison",
    "href": "slides/08-models.html#strawman-comparison",
    "title": "Modeling I",
    "section": "Strawman comparison",
    "text": "Strawman comparison\nWhich line fits the data better? (Duh)"
  },
  {
    "objectID": "slides/08-models.html#first-candidate-fit-the-line",
    "href": "slides/08-models.html#first-candidate-fit-the-line",
    "title": "Modeling I",
    "section": "First candidate: fit the line",
    "text": "First candidate: fit the line\nRough guess: what is \\(\\beta_0\\) and \\(\\beta_1\\) here?"
  },
  {
    "objectID": "slides/08-models.html#first-candidate-the-residuals",
    "href": "slides/08-models.html#first-candidate-the-residuals",
    "title": "Modeling I",
    "section": "First candidate: the residuals",
    "text": "First candidate: the residuals\nHow far is each point from the line? This is \\((Y_i - \\widehat{Y_i})\\)\n\nAlso known as the residual \\(\\approx\\) how wrong the line is about each point"
  },
  {
    "objectID": "slides/08-models.html#how-good-is-line-1",
    "href": "slides/08-models.html#how-good-is-line-1",
    "title": "Modeling I",
    "section": "How good is line 1?",
    "text": "How good is line 1?\nRemember, our loss function says that a good line has small \\((Y_i - \\widehat{Y_i})^2\\)\n\n\n\n\n\n\n\n\nmpg\n\\(\\ \\widehat{mpg}\\)\nresidual\nsquared_residual\n\n\n\n\nMazda RX4\n21.0\n23.28\n-2.28\n5.21\n\n\nMazda RX4 Wag\n21.0\n21.92\n-0.92\n0.85\n\n\nDatsun 710\n22.8\n24.89\n-2.09\n4.35\n\n\nHornet 4 Drive\n21.4\n20.10\n1.30\n1.68\n\n\nHornet Sportabout\n18.7\n18.90\n-0.20\n0.04\n\n\n\n\n\n\n\n\n\n\nWe sum up the squared residuals to measure how good (or bad) the line is overall = \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} \\approx 278.3\\)"
  },
  {
    "objectID": "slides/08-models.html#second-candidate-the-residuals",
    "href": "slides/08-models.html#second-candidate-the-residuals",
    "title": "Modeling I",
    "section": "Second candidate: the residuals",
    "text": "Second candidate: the residuals"
  },
  {
    "objectID": "slides/08-models.html#how-good-is-line-2",
    "href": "slides/08-models.html#how-good-is-line-2",
    "title": "Modeling I",
    "section": "How good is line 2?",
    "text": "How good is line 2?\n\n\n\n\n\n\n\nmpg\n\\(\\ \\widehat{mpg}\\)\nresidual\nsquared_residual\n\n\n\n\nCadillac Fleetwood\n10.4\n9.23\n-9.69\n93.90\n\n\nMerc 450SE\n16.4\n15.53\n-3.69\n13.62\n\n\nHornet Sportabout\n18.7\n18.90\n-1.39\n1.93\n\n\nLotus Europa\n30.4\n29.20\n10.31\n106.30\n\n\nMerc 450SL\n17.3\n17.35\n-2.79\n7.78\n\n\n\n\n\n\n\n\n\n\\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} \\approx 1,126\\)\nSo line 2 is a much worse fit for the data than line 1"
  },
  {
    "objectID": "slides/08-models.html#the-best-line",
    "href": "slides/08-models.html#the-best-line",
    "title": "Modeling I",
    "section": "The best line",
    "text": "The best line\n\nThis is what geom_smooth() is doing under-the-hood (sorry)\n\n\nItâ€™s using math to figure out which line fits the data best\n\n\nConceptual best = the line that is closest to all the points\n\n\nMath best = the smallest sum of squared residuals"
  },
  {
    "objectID": "slides/08-models.html#so-who-are-the-winning-betas",
    "href": "slides/08-models.html#so-who-are-the-winning-betas",
    "title": "Modeling I",
    "section": "So who are the winning Betas?",
    "text": "So who are the winning Betas?\n\n\n\\(Y = \\beta_0 + \\beta1x_1\\)\n\\(mpg = \\beta_0 + \\beta_1 \\times weight\\)\n\\(mpg = 37 + -5 \\times weight\\)"
  },
  {
    "objectID": "slides/06-relationships.html#data-objects-variables-1",
    "href": "slides/06-relationships.html#data-objects-variables-1",
    "title": "Relationships I",
    "section": "Data, objects, variables",
    "text": "Data, objects, variables\n\ntrade is a data object that contains variables like imports\n\ntrade\n\n# A tibble: 11,493 Ã— 10\n   country          year imports exports     gdp    pop land_borders sea_borders\n   &lt;chr&gt;           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;\n 1 United States â€¦  1946    5000    9775 2.48e12 1.38e8            2           1\n 2 United States â€¦  1947    5824   15369 2.43e12 1.40e8            2           1\n 3 United States â€¦  1948    7710   12470 2.49e12 1.43e8            2           1\n 4 United States â€¦  1949    7160   11920 2.47e12 1.47e8            2           1\n 5 United States â€¦  1950    9140   10220 2.56e12 1.49e8            2           1\n 6 United States â€¦  1951   11400   14920 2.73e12 1.51e8            2           1\n 7 United States â€¦  1952   11220   14950 2.82e12 1.53e8            2           1\n 8 United States â€¦  1953   11460   15330 2.99e12 1.56e8            2           1\n 9 United States â€¦  1954   10670   14690 3.00e12 1.59e8            2           1\n10 United States â€¦  1955   11850   15410 3.10e12 1.62e8            2           1\n# â„¹ 11,483 more rows\n# â„¹ 2 more variables: min_cap_dist &lt;dbl&gt;, sum_igos &lt;dbl&gt;\n\n\n\n\ntrade_2010 and trade are both objects, year is a variable\n\ntrade_2010 = trade |&gt; \n  filter(year == 2010)"
  },
  {
    "objectID": "slides/06-relationships.html#data-objects-variables-2",
    "href": "slides/06-relationships.html#data-objects-variables-2",
    "title": "Relationships I",
    "section": "Data, objects, variables",
    "text": "Data, objects, variables\nConfusing! imports_gdp is an object that contains a variable thatâ€™s also named imports_gdp\n\nimports_gdp = \n  trade |&gt; \n  mutate(imports_gdp = imports / gdp)\n\n\n\nThis is why we need to pick good variable names!"
  },
  {
    "objectID": "slides/06-relationships.html#a-common-mistake",
    "href": "slides/06-relationships.html#a-common-mistake",
    "title": "Relationships I",
    "section": "A common mistake",
    "text": "A common mistake\nSay we wanted to multiply GDP per capita by population and plot the result:\n\ngap_gdp = gapminder |&gt; \n  mutate(gdp = gdpPercap * pop)\n\n\nâŒ\n\nggplot(gapminder, aes(x = year, y = gap_gdp)) + geom_point()\n\nMistake: using the original gapminder data, treating gap_gdp as a variable\n\n\nâœ…\n\nggplot(gap_gdp, aes(x = year, y = gdp)) + geom_point()\n\nCorrect: use the new data object, which contains the newly created variable gdp"
  },
  {
    "objectID": "slides/06-relationships.html#summarizing-data-1",
    "href": "slides/06-relationships.html#summarizing-data-1",
    "title": "Relationships I",
    "section": "Summarizing data",
    "text": "Summarizing data\n\nOften, with data, we want to compare things\n\n\nAre democracies more peaceful than autocracies?\n\n\nDoes early-voting increase turnout?\n\n\nTo do this, we often rely on statistical summaries of our data:\n\n\nMeans, medians, minimums, maximums, variances"
  },
  {
    "objectID": "slides/06-relationships.html#summary-stats",
    "href": "slides/06-relationships.html#summary-stats",
    "title": "Relationships I",
    "section": "Summary stats",
    "text": "Summary stats\n\nThe mean: 3, 4, 8 \\(\\rightarrow\\) \\(\\frac{(3 + 4 + 8)}{3} = 5\\)\n\n\nThe median: 3, 4, 8 \\(\\rightarrow\\) 4\n\n\nThe minimum: 3, 4, 8 \\(\\rightarrow\\) 3\n\n\nThe maximum: 3, 4, 8 \\(\\rightarrow\\) 8"
  },
  {
    "objectID": "slides/06-relationships.html#example-an-experiment",
    "href": "slides/06-relationships.html#example-an-experiment",
    "title": "Relationships I",
    "section": "Example: an experiment",
    "text": "Example: an experiment\nSome counties let people vote early; others donâ€™t\n\nDo counties with early provisions have higher turnout?"
  },
  {
    "objectID": "slides/06-relationships.html#the-data",
    "href": "slides/06-relationships.html#the-data",
    "title": "Relationships I",
    "section": "The data",
    "text": "The data\n\n\n\n\n\n\nVote early?\nTurnout (%)\n\n\n\n\nYes\n54.7\n\n\nYes\n56.7\n\n\nNo\n37.3\n\n\nNo\n44.1\n\n\nNo\n40.6\n\n\nNo\n38.6\n\n\nYes\n46.7\n\n\nNo\n35.4\n\n\nYes\n51.8\n\n\nYes\n50.1"
  },
  {
    "objectID": "slides/06-relationships.html#quantifying-higher",
    "href": "slides/06-relationships.html#quantifying-higher",
    "title": "Relationships I",
    "section": "Quantifying â€œhigherâ€",
    "text": "Quantifying â€œhigherâ€\nWe can compare the averages of counties that do have early voting against those that donâ€™t:\n\n\n\n\n\n\n\nVote early?\nAverage turnout\n\n\n\n\nNo\n40.1\n\n\nYes\n50.2\n\n\n\n\n\n\n\n\n\n\nCounties with early voting have, on average, 10 percentage points higher turnout"
  },
  {
    "objectID": "slides/06-relationships.html#mean-vs.-median",
    "href": "slides/06-relationships.html#mean-vs.-median",
    "title": "Relationships I",
    "section": "Mean vs.Â median",
    "text": "Mean vs.Â median\nWe almost always compare averages, but medians are helpful in some cases:\n\n\n\n\n\n\n\n\n\n\n\nWhatâ€™s happening here?"
  },
  {
    "objectID": "slides/06-relationships.html#one-more-stat-variation",
    "href": "slides/06-relationships.html#one-more-stat-variation",
    "title": "Relationships I",
    "section": "One more stat: variation",
    "text": "One more stat: variation\n\nAnother way to compare data is by how much a variable varies\n\n\nSome distributions are very narrow, others are very wide\n\n\nNarrow = observations are similar; wide = observations are not similar"
  },
  {
    "objectID": "slides/06-relationships.html#measuring-variation-the-standard-deviation",
    "href": "slides/06-relationships.html#measuring-variation-the-standard-deviation",
    "title": "Relationships I",
    "section": "Measuring variation: the standard deviation",
    "text": "Measuring variation: the standard deviation\nThe formula:\n\\[ s = \\sqrt{\\frac{1}{N-1} \\sum_{i=1}^N (x_i - \\overline{x})^2}\\]\n\nAll the movement is here, the sum of the differences between each observation \\(x_i\\) and the average observation \\(\\overline{x}\\)\n\\[\\sum_{i=1}^N (x_i - \\overline{x})^2\\]"
  },
  {
    "objectID": "slides/06-relationships.html#variance-intuition",
    "href": "slides/06-relationships.html#variance-intuition",
    "title": "Relationships I",
    "section": "Variance intuition",
    "text": "Variance intuition\n\n\n\n\n\n\n\nWide distribution\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age - \\overline{age}\\)\n\\(\\ (age - \\overline{age})^2 \\)\n\n\n\n\n87\n55.3\n31.7\n1003.6\n\n\n41\n55.3\n-14.3\n205.1\n\n\n23\n55.3\n-32.3\n1044.6\n\n\n45\n55.3\n-10.3\n106.5\n\n\n58\n55.3\n2.7\n7.2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNarrow distribution\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age - \\overline{age}\\)\n\\(\\ (age - \\overline{age})^2 \\)\n\n\n\n\n48\n49.9\n-1.9\n3.8\n\n\n48\n49.9\n-1.9\n3.8\n\n\n52\n49.9\n2.1\n4.2\n\n\n48\n49.9\n-1.9\n3.8\n\n\n50\n49.9\n0.1\n0.0\n\n\n\n\n\n\n\n\n\n\n\n\\[\\sum_{i=1}^N (age_i - \\overline{age})^2\\]\n\nThe farther observations are from the mean, the larger the standard deviation"
  },
  {
    "objectID": "slides/06-relationships.html#measuring-variation",
    "href": "slides/06-relationships.html#measuring-variation",
    "title": "Relationships I",
    "section": "Measuring variation",
    "text": "Measuring variation\nSame average (~$50,000), different standard deviations\n\n\nWhat could we measure with sd? Can we use standard deviation to measure equality?"
  },
  {
    "objectID": "slides/06-relationships.html#summary-statistics-with-summarize",
    "href": "slides/06-relationships.html#summary-statistics-with-summarize",
    "title": "Relationships I",
    "section": "Summary statistics with summarize()",
    "text": "Summary statistics with summarize()\nWe can use summarize() to calculate things like the mean, median, etc.\n\n\nSummarizing condenses data into statistics"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize",
    "href": "slides/06-relationships.html#using-summarize",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nSay I want to know the average life expectancy in the world in 2007:\n\n\ngapminder %&gt;% \n  filter(year == 2007)\n\n# A tibble: 142 Ã— 6\n   country     continent  year lifeExp       pop gdpPercap\n   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;\n 1 Afghanistan Asia       2007    43.8  31889923      975.\n 2 Albania     Europe     2007    76.4   3600523     5937.\n 3 Algeria     Africa     2007    72.3  33333216     6223.\n 4 Angola      Africa     2007    42.7  12420476     4797.\n 5 Argentina   Americas   2007    75.3  40301927    12779.\n 6 Australia   Oceania    2007    81.2  20434176    34435.\n 7 Austria     Europe     2007    79.8   8199783    36126.\n 8 Bahrain     Asia       2007    75.6    708573    29796.\n 9 Bangladesh  Asia       2007    64.1 150448339     1391.\n10 Belgium     Europe     2007    79.4  10392226    33693.\n# â„¹ 132 more rows"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-1",
    "href": "slides/06-relationships.html#using-summarize-1",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize()\n\n# A tibble: 1 Ã— 0"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-2",
    "href": "slides/06-relationships.html#using-summarize-2",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize(avg_life = mean(lifeExp))\n\n# A tibble: 1 Ã— 1\n  avg_life\n     &lt;dbl&gt;\n1     67.0\n\n\nNotice how the data has been summarized: only one row\n\nNotice that Iâ€™ve named the summary statistic avg_life"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-3",
    "href": "slides/06-relationships.html#using-summarize-3",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the median life expectancy?\n\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize(avg_life = mean(lifeExp), \n            med_life = median(lifeExp)) \n\n# A tibble: 1 Ã— 2\n  avg_life med_life\n     &lt;dbl&gt;    &lt;dbl&gt;\n1     67.0     71.9\n\n\nNotice! how similar this looks to mutate()"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-4",
    "href": "slides/06-relationships.html#using-summarize-4",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the min and max life expectancy?\n\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize(avg_life = mean(lifeExp), \n            med_life = median(lifeExp), \n            min_life = min(lifeExp), \n            max_life = max(lifeExp))\n\n# A tibble: 1 Ã— 4\n  avg_life med_life min_life max_life\n     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n1     67.0     71.9     39.6     82.6"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-5",
    "href": "slides/06-relationships.html#using-summarize-5",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the standard deviation of life expectancy?\n\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize(avg_life = mean(lifeExp), \n            med_life = median(lifeExp), \n            min_life = min(lifeExp), \n            max_life = max(lifeExp), \n            sd_life = sd(lifeExp))\n\n# A tibble: 1 Ã— 5\n  avg_life med_life min_life max_life sd_life\n     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n1     67.0     71.9     39.6     82.6    12.1"
  },
  {
    "objectID": "slides/06-relationships.html#using-summarize-6",
    "href": "slides/06-relationships.html#using-summarize-6",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  summarize(avg_life = mean(lifeExp), \n            med_life = median(lifeExp), \n            min_life = min(lifeExp), \n            max_life = max(lifeExp), \n            sd_life = sd(lifeExp)) \n\n\nsummarize() is like mutate() in that you are creating new variables\n\n\nSo note that you have to name the new variables!"
  },
  {
    "objectID": "slides/06-relationships.html#we-can-use-summary-functions-in-filter",
    "href": "slides/06-relationships.html#we-can-use-summary-functions-in-filter",
    "title": "Relationships I",
    "section": "We can use summary functions in filter",
    "text": "We can use summary functions in filter\nwhich country had the lowest life expectancy in 2007?\n\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  filter(lifeExp == min(lifeExp))\n\n# A tibble: 1 Ã— 6\n  country   continent  year lifeExp     pop gdpPercap\n  &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n1 Swaziland Africa     2007    39.6 1133066     4513."
  },
  {
    "objectID": "slides/06-relationships.html#we-can-use-summary-functions-in-filter-1",
    "href": "slides/06-relationships.html#we-can-use-summary-functions-in-filter-1",
    "title": "Relationships I",
    "section": "We can use summary functions in filter",
    "text": "We can use summary functions in filter\nwhich countries had above average GPD but below average health?\n\n\ngapminder %&gt;% \n  filter(year == 2007) %&gt;% \n  filter(gdpPercap &gt; mean(gdpPercap), lifeExp &lt; mean(lifeExp))\n\n# A tibble: 3 Ã— 6\n  country           continent  year lifeExp     pop gdpPercap\n  &lt;fct&gt;             &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n1 Botswana          Africa     2007    50.7 1639131    12570.\n2 Equatorial Guinea Africa     2007    51.6  551201    12154.\n3 Gabon             Africa     2007    56.7 1454867    13206."
  },
  {
    "objectID": "slides/06-relationships.html#woe-unto-us-missing-data",
    "href": "slides/06-relationships.html#woe-unto-us-missing-data",
    "title": "Relationships I",
    "section": "Woe unto us: missing data",
    "text": "Woe unto us: missing data\n\nIn life, sometimes data is missing\n\n\nrespondent doesnâ€™t answer a question, no one knows Afghanistanâ€™s GDP in 1943, etc.\n\n\nR represents missing data as NA\n\n\n\n\n\n\n\n\nname\ntype1\ntype2\nheight_m\nweight_kg\n\n\n\n\nLycanroc\nrock\nNA\nNA\nNA\n\n\nVulpix\nfire\nice\nNA\nNA\n\n\nMuk\npoison\npoison\nNA\nNA\n\n\nPersian\nnormal\ndark\nNA\nNA\n\n\nMarowak\nground\nfire\nNA\nNA\n\n\nGraveler\nrock\nground\nNA\nNA"
  },
  {
    "objectID": "slides/06-relationships.html#summarizing-with-missing-data",
    "href": "slides/06-relationships.html#summarizing-with-missing-data",
    "title": "Relationships I",
    "section": "Summarizing with missing data",
    "text": "Summarizing with missing data\nIf you try to summarize data that has missing values, R will return NA:\n\n\npokemon %&gt;% \n  summarise(average_height = mean(height_m))\n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1             NA\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nAny math operation with NA will return NA (.e.g, 3 + NA = NA)"
  },
  {
    "objectID": "slides/06-relationships.html#what-to-do",
    "href": "slides/06-relationships.html#what-to-do",
    "title": "Relationships I",
    "section": "What to do?",
    "text": "What to do?\n\nThere are whole classes on what to do with missing data (impute, simulate, model, etc.)\n\n\nIn this class we will tell R to ignore missing observations\n\n\nWe can do this by adding the na.rm = TRUE argument to summary\n\npokemon %&gt;% \n  summarise(average_height = mean(height_m, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1           1.16"
  },
  {
    "objectID": "slides/06-relationships.html#remember",
    "href": "slides/06-relationships.html#remember",
    "title": "Relationships I",
    "section": "Rememberâ€¦",
    "text": "Rememberâ€¦\n\nIf youâ€™re trying to calculate a summary statistic and keep getting NAâ€¦\n\n\n99.99999% of the time you need to add na.rm = TRUE to your function!\n\n\n\npokemon %&gt;% \n  summarise(average_height = mean(height_m, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1           1.16"
  },
  {
    "objectID": "slides/06-relationships.html#your-turn-trade",
    "href": "slides/06-relationships.html#your-turn-trade",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨\nDataset from juanr on international trade:\n\n\n\n\nTrade patterns around the world\n\n\ncountry\nyear\nimports\nexports\ngdp\npop\nland_borders\nsea_borders\nmin_cap_dist\nsum_igos\n\n\n\n\nUnited States of America\n1946\n5000\n9775\n2.479307e+12\n138170640\n2\n1\n0\n44\n\n\nUnited States of America\n1947\n5824\n15369\n2.430213e+12\n139838676\n2\n1\n0\n47\n\n\nUnited States of America\n1948\n7710\n12470\n2.494227e+12\n143378709\n2\n1\n0\n52\n\n\nUnited States of America\n1949\n7160\n11920\n2.466941e+12\n146714635\n2\n1\n0\n57\n\n\nUnited States of America\n1950\n9140\n10220\n2.562489e+12\n149230105\n2\n1\n0\n59\n\n\nUnited States of America\n1951\n11400\n14920\n2.729119e+12\n150880698\n2\n1\n0\n60"
  },
  {
    "objectID": "slides/06-relationships.html#your-turn-trade-1",
    "href": "slides/06-relationships.html#your-turn-trade-1",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨\nUsing the trade dataset:\n\nHow has Inter-Governmental Organizations (IGOs) membership expanded over time? Calculate the median number of IGOs that countries belonged to in 1960. Repeat for 2010. About how much has IGO membership grown in 50 years?\nWhat is having a sea border worth? Look only at countries that have at least one sea border in the year 2010. What is the average value of exports among these countries? Do the same for countries with no sea borders. About how much more do countries with sea borders export than countries without?\nWhat was the country with the most exports in 1960? What about in 2012?\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/06-relationships.html#relationships",
    "href": "slides/06-relationships.html#relationships",
    "title": "Relationships I",
    "section": "Relationships",
    "text": "Relationships\n\nsummarize() lets us calculate statistics for the whole dataset\n\n\nBut what if we want to do this for different groups within the data?\n\n\nThis is at the heart of making comparisons"
  },
  {
    "objectID": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way",
    "href": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way",
    "title": "Relationships I",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nHow much do country imports vary for each country over time?\n\nTedious: filter() to calculate standard deviation of imports for each country\n\n\nStarting with China\n\ntrade %&gt;% \n  filter(country == \"China\") %&gt;%  \n  summarise(var_trade = sd(imports, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1   659178."
  },
  {
    "objectID": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way-1",
    "href": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way-1",
    "title": "Relationships I",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nI could go on to another country:\n\ntrade %&gt;% \n  filter(country == \"Algeria\") %&gt;%  \n  summarise(var_trade = sd(imports, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1    14819."
  },
  {
    "objectID": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way-2",
    "href": "slides/06-relationships.html#variation-in-trade-over-time-the-brutal-way-2",
    "title": "Relationships I",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nAnd so on for all countriesâ€¦ but this is brutally tedious\n\ntrade %&gt;% \n  filter(country == \"Nepal\") %&gt;%  \n  summarise(var_trade = sd(imports, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1     2096."
  },
  {
    "objectID": "slides/06-relationships.html#using-group_by",
    "href": "slides/06-relationships.html#using-group_by",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can use group_by() in combination with summarize() to calculate some stat by another variable in the data:\n\n\ntrade %&gt;% \n  group_by(country) %&gt;%  \n  summarise(var_trade = sd(imports, na.rm = TRUE)) \n\n# A tibble: 202 Ã— 2\n   country           var_trade\n   &lt;chr&gt;                 &lt;dbl&gt;\n 1 Afghanistan           2485.\n 2 Albania               1754.\n 3 Algeria              14819.\n 4 Andorra                 NA \n 5 Angola                7584.\n 6 Antigua & Barbuda       NA \n 7 Argentina            19530.\n 8 Armenia               1575.\n 9 Australia            72784.\n10 Austria              58474.\n# â„¹ 192 more rows"
  },
  {
    "objectID": "slides/06-relationships.html#using-group_by-1",
    "href": "slides/06-relationships.html#using-group_by-1",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nLike with anything else, we can store our results as a new object:\n\nvar_time = trade %&gt;% \n  group_by(country) %&gt;% \n  summarise(var_trade = sd(imports, na.rm = TRUE))\n\nvar_time\n\n# A tibble: 202 Ã— 2\n   country           var_trade\n   &lt;chr&gt;                 &lt;dbl&gt;\n 1 Afghanistan           2485.\n 2 Albania               1754.\n 3 Algeria              14819.\n 4 Andorra                 NA \n 5 Angola                7584.\n 6 Antigua & Barbuda       NA \n 7 Argentina            19530.\n 8 Armenia               1575.\n 9 Australia            72784.\n10 Austria              58474.\n# â„¹ 192 more rows"
  },
  {
    "objectID": "slides/06-relationships.html#variation-in-trade-over-time",
    "href": "slides/06-relationships.html#variation-in-trade-over-time",
    "title": "Relationships I",
    "section": "Variation in trade over time",
    "text": "Variation in trade over time\nAnd use our object to make plots:\n\n\nWhat does this graph tell us?"
  },
  {
    "objectID": "slides/06-relationships.html#using-group_by-2",
    "href": "slides/06-relationships.html#using-group_by-2",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can even group_by() multiple variables ğŸ¤¯\n\nAverage life expectancy per time:\n\n\n\ngapminder %&gt;%\n  group_by(year) %&gt;% \n  summarise(avg_life = mean(lifeExp))\n\n# A tibble: 12 Ã— 2\n    year avg_life\n   &lt;int&gt;    &lt;dbl&gt;\n 1  1952     49.1\n 2  1957     51.5\n 3  1962     53.6\n 4  1967     55.7\n 5  1972     57.6\n 6  1977     59.6\n 7  1982     61.5\n 8  1987     63.2\n 9  1992     64.2\n10  1997     65.0\n11  2002     65.7\n12  2007     67.0"
  },
  {
    "objectID": "slides/06-relationships.html#using-group_by-3",
    "href": "slides/06-relationships.html#using-group_by-3",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can even group_by() multiple variables ğŸ¤¯\n\nAverage life expectancy per year and continent:\n\n\n\ngapminder %&gt;%\n  group_by(year, continent) %&gt;% \n  summarise(avg_life = mean(lifeExp))\n\n# A tibble: 60 Ã— 3\n# Groups:   year [12]\n    year continent avg_life\n   &lt;int&gt; &lt;fct&gt;        &lt;dbl&gt;\n 1  1952 Africa        39.1\n 2  1952 Americas      53.3\n 3  1952 Asia          46.3\n 4  1952 Europe        64.4\n 5  1952 Oceania       69.3\n 6  1957 Africa        41.3\n 7  1957 Americas      56.0\n 8  1957 Asia          49.3\n 9  1957 Europe        66.7\n10  1957 Oceania       70.3\n# â„¹ 50 more rows"
  },
  {
    "objectID": "slides/06-relationships.html#using-group_by-4",
    "href": "slides/06-relationships.html#using-group_by-4",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nStore as object:\n\nlife_continent_year = gapminder %&gt;% \n  group_by(year, continent) %&gt;%\n  summarise(avg_life = mean(lifeExp))"
  },
  {
    "objectID": "slides/06-relationships.html#make-the-plot",
    "href": "slides/06-relationships.html#make-the-plot",
    "title": "Relationships I",
    "section": "Make the plot",
    "text": "Make the plot\n\nggplot(life_continent_year, aes(x = year, y = avg_life, color = continent)) + \n  geom_line(size = 2, alpha = .8) + labs(x = \"Year\", y = \"Average life expectancy\")"
  },
  {
    "objectID": "slides/06-relationships.html#your-turn-ugly-prejudice",
    "href": "slides/06-relationships.html#your-turn-ugly-prejudice",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\n\nResearchers use feeling thermometers to measure how people feel about different groups\n\n\nğŸŒ¡ goes from zero (strong dislike) to 100 (strong like), with 50 as the neutral point\n\n\n\n\n\n\n\n\nbirth_year\nsex\nrace\nparty_id\neduc\nft_black\nft_white\nft_hisp\nft_asian\nft_muslim\nft_jew\nft_christ\nft_fem\nft_immig\nft_gays\nft_unions\nft_police\nft_altright\nft_evang\nft_dem\nft_rep\n\n\n\n\n1931\nFemale\nWhite\nDemocrat\n4-year\n51\n50\n79\n50\n50\n50\n50\n99\n95\n50\n80\n76\n1\n50\n88\n21\n\n\n1952\nFemale\nWhite\nRepublican\n2-year\n98\n90\n95\n100\n61\n100\n98\n65\n96\n82\n62\n95\n50\n96\n86\n96\n\n\n1931\nMale\nWhite\nIndependent\nHigh school graduate\n87\n90\n91\n88\n49\n25\n50\n74\n77\n77\n100\n78\n0\n2\n91\n20\n\n\n1952\nMale\nWhite\nRepublican\n4-year\n90\n85\n90\n96\n80\n91\n94\n25\n91\n71\n20\n94\n50\n70\n22\n83\n\n\n1939\nFemale\nWhite\nDemocrat\n2-year\n100\n50\n100\n100\n100\n100\n28\n100\n100\n100\n100\n28\nNA\nNA\n99\nNA\n\n\n1959\nFemale\nBlack\nDemocrat\nPost-grad\n98\n70\n99\n100\n100\n100\n100\n73\n100\n54\n80\n24\n4\n53\n53\n4"
  },
  {
    "objectID": "slides/06-relationships.html#your-turn-ugly-prejudice-1",
    "href": "slides/06-relationships.html#your-turn-ugly-prejudice-1",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\nUsing the therm dataset:\n\nCalculate average ğŸŒ¡ towards two groups of your choosing, broken down by one respondent characteristic. Make sense of the finding.\nCalculate average ğŸŒ¡ towards two groups of your choosing, broken down by two (ğŸ¤¯ğŸ¤¯ğŸ¤¯) respondent characteristics. Make sense of the finding.\n\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/06-relationships.html#how-americans-feel-about-different-groups",
    "href": "slides/06-relationships.html#how-americans-feel-about-different-groups",
    "title": "Relationships I",
    "section": "How Americans feel about different groups",
    "text": "How Americans feel about different groups"
  },
  {
    "objectID": "slides/04-wrangle.html#what-is-data-wrangling",
    "href": "slides/04-wrangle.html#what-is-data-wrangling",
    "title": "Data wrangling I",
    "section": "What is data-wrangling?",
    "text": "What is data-wrangling?\n\n\nâ€¦the process of transforming and mapping data from one â€œrawâ€ data form into another format with the intent of making it more appropriate and valuable for a variety of downstream purposes such as analyticsâ€¦ Data analysts typically spend the majority of their time in the process of data wrangling compared to the actual analysis of the data. â€“ Wikipedia\n\n\n\nMost of your time working with data will be spent wrangling it into a usable form for analysis"
  },
  {
    "objectID": "slides/04-wrangle.html#pipes-connecting-data-to-functions",
    "href": "slides/04-wrangle.html#pipes-connecting-data-to-functions",
    "title": "Data wrangling I",
    "section": "Pipes: connecting data to functions",
    "text": "Pipes: connecting data to functions\n\ndirectors_profit = movies |&gt; \n  # only look at horror movies\n  filter(genre1 == \"Horror\" | genre2 == \"Horror\" | genre3 == \"Horror\") |&gt; \n  # calculate profit\n  mutate(profit = gross - budget)\n\n\nYouâ€™ve seen these beforeâ€¦"
  },
  {
    "objectID": "slides/04-wrangle.html#what-are-pipes",
    "href": "slides/04-wrangle.html#what-are-pipes",
    "title": "Data wrangling I",
    "section": "What are pipes?",
    "text": "What are pipes?\n\n\n\nPipes link data to functions\nThey look like this %&gt;%, or |&gt;\nDefinitely use keyboard shortcuts\n\nOSX: Cmd + Shift + M\nWindows: Ctrl + Shift + M"
  },
  {
    "objectID": "slides/04-wrangle.html#why-pipes",
    "href": "slides/04-wrangle.html#why-pipes",
    "title": "Data wrangling I",
    "section": "Why pipes?",
    "text": "Why pipes?\n\nWith pipes: ğŸ˜\n\npenguins %&gt;% \n  filter(species == \"Adelie\") %&gt;% \n  mutate(body_mass_kg = body_mass_g / 1000) %&gt;% \n  select(body_mass_kg)\n\n\n\nWithout pipes: ğŸ¤¢\n\nselect(mutate(filter(penguins, species == \"Adelie\"), body_mass_kg = body_mass_g / 1000), body_mass_kg)\n\n\n\n\nBoth produce the same output, but pipes make code more legible"
  },
  {
    "objectID": "slides/04-wrangle.html#making-sense-of-pipes-and-then",
    "href": "slides/04-wrangle.html#making-sense-of-pipes-and-then",
    "title": "Data wrangling I",
    "section": "Making sense of pipes: â€œand thenâ€¦â€",
    "text": "Making sense of pipes: â€œand thenâ€¦â€\n\ndirectors_profit = movies %&gt;% \n  # only look at horror movies\n  filter(genre1 == \"Horror\" | genre2 == \"Horror\" | genre3 == \"Horror\") %&gt;% \n  # calculate profit\n  mutate(profit = gross - budget)\n\n\n\nYou can read the pipe as if it said â€œand thenâ€â€¦\n\n\n\nTake the data object movies, AND THEN\nfilter so genre1, genre2, or genre3 equal HORROR, AND THEN\nmutate so thatâ€¦"
  },
  {
    "objectID": "slides/04-wrangle.html#our-first-wrangling-function-filter",
    "href": "slides/04-wrangle.html#our-first-wrangling-function-filter",
    "title": "Data wrangling I",
    "section": "Our first wrangling function: filter()",
    "text": "Our first wrangling function: filter()\n\nfilter() subsets data objects based on rules\n\n\n\n\n\n\n\n\n\n\n\n\nbaby_subset &lt;- babynames %&gt;%\n  filter(name == \"Angel\")\n\nSubset babynames to only babies named Angel"
  },
  {
    "objectID": "slides/04-wrangle.html#why-filter-1",
    "href": "slides/04-wrangle.html#why-filter-1",
    "title": "Data wrangling I",
    "section": "Why filter?",
    "text": "Why filter?\n\nLots of real-world applications: finding flights, addresses, IDs, etc.\n\n\nSometimes we want to focus on a specific subset of data: the South, Latin America, etc.\n\n\nUseful to deal with common problems: outliers, missing data, strange responses"
  },
  {
    "objectID": "slides/04-wrangle.html#the-earned-income-tax-credit-eitc",
    "href": "slides/04-wrangle.html#the-earned-income-tax-credit-eitc",
    "title": "Data wrangling I",
    "section": "The Earned Income Tax Credit (EITC)",
    "text": "The Earned Income Tax Credit (EITC)\n\n\nThird largest welfare program in the US\nOnly people who meet certain criteria receive it\nEffects of program and its design are hotly debated\n\n\n\n\n\nWhat does this graph tell us about the criteria?"
  },
  {
    "objectID": "slides/04-wrangle.html#identifying-beneficiaries",
    "href": "slides/04-wrangle.html#identifying-beneficiaries",
    "title": "Data wrangling I",
    "section": "Identifying beneficiaries",
    "text": "Identifying beneficiaries\nImagine you are the IRS, and have data on all 360+ million Americans:\n\n\n\n\n\n\n\nSex\nRace\nAge\nIncome\nMarital\nChildren\n\n\n\n\nFemale\nWhite\n69\n24686\nNot married\n2\n\n\nFemale\nHispanic\n55\n73867\nNot married\n0\n\n\nFemale\nWhite\n83\n63949\nNot married\n4\n\n\nFemale\nWhite\n29\n12396\nNot married\n1\n\n\nFemale\nWhite\n23\n15868\nNot married\n3\n\n\nMale\nHispanic\n77\n23084\nNot married\n2\n\n\nMale\nHispanic\n77\n65031\nNot married\n2\n\n\n\n\n\n\n\n\n\n\nHow could use use these variables to identify what benefits they should receive?"
  },
  {
    "objectID": "slides/04-wrangle.html#identifying-beneficiaries-1",
    "href": "slides/04-wrangle.html#identifying-beneficiaries-1",
    "title": "Data wrangling I",
    "section": "Identifying beneficiaries",
    "text": "Identifying beneficiaries\nSay we wanted to identify people in the flat part of the blue line\n\n\n\n\n\n\n\n\nIncome\nMarital\nChildren\n\n\n\n\n24686.32\nNot married\n2\n\n\n73866.74\nNot married\n0\n\n\n63949.10\nNot married\n4\n\n\n12395.74\nNot married\n1\n\n\n15867.56\nNot married\n3\n\n\n23084.29\nNot married\n2\n\n\n65031.14\nNot married\n2"
  },
  {
    "objectID": "slides/04-wrangle.html#using-filter",
    "href": "slides/04-wrangle.html#using-filter",
    "title": "Data wrangling I",
    "section": "Using filter()",
    "text": "Using filter()\nTo use filter(), we need to tell R which observations we want to include (or exclude) using rules\n\n\n\ngap_africa = gapminder |&gt; \n  filter(region == \"Africa\")\n\nRule: return all observations from gapminder where the region variable is equal to â€œAfricaâ€"
  },
  {
    "objectID": "slides/04-wrangle.html#making-the-rules-logical-operators",
    "href": "slides/04-wrangle.html#making-the-rules-logical-operators",
    "title": "Data wrangling I",
    "section": "Making the rules: logical operators",
    "text": "Making the rules: logical operators\n\n\n\nRules filter data based on whether variables meet certain criteria\nRules rely on logical operators:\n\nEqual to, not equal to, less than, more than, included in, etc.\nObservations that meet the rule are returned; those that are not are dropped"
  },
  {
    "objectID": "slides/04-wrangle.html#the-logical-operators",
    "href": "slides/04-wrangle.html#the-logical-operators",
    "title": "Data wrangling I",
    "section": "The logical operators",
    "text": "The logical operators\n\n\n\n\n\n\nOperator\nmeaning\n\n\n\n\n==\nequal to\n\n\n!=\nnot equal to\n\n\n&gt;\ngreater than\n\n\n&lt;\nless than\n\n\n&gt;=\ngreater than or equal to\n\n\n&lt;=\nless than or equal to\n\n\n&\nAND (both conditions true)\n\n\n|\nOR (either condition is true)\n\n\n%in%\nIN (in the set of)\n\n\n\n\n\n\n\n\n\nWhy double equal sign?"
  },
  {
    "objectID": "slides/04-wrangle.html#using-filter-1",
    "href": "slides/04-wrangle.html#using-filter-1",
    "title": "Data wrangling I",
    "section": "Using filter()",
    "text": "Using filter()\nSay we have some data on ğŸ\n\n\n\n\n\n\nname\ncolor\npounds\nsweet\n\n\n\n\nFuji\nred\n2\nTRUE\n\n\nGala\ngreen\n4\nTRUE\n\n\nMacintosh\ngreen\n8\nFALSE\n\n\nGranny Smith\nred\n3\nFALSE"
  },
  {
    "objectID": "slides/04-wrangle.html#apples",
    "href": "slides/04-wrangle.html#apples",
    "title": "Data wrangling I",
    "section": "Apples",
    "text": "Apples\n\napples\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\n\nNote\n\n\nThe output reports how many rows and columns our dataset has (4 rows x 4 columns)"
  },
  {
    "objectID": "slides/04-wrangle.html#green-apples",
    "href": "slides/04-wrangle.html#green-apples",
    "title": "Data wrangling I",
    "section": "Green apples",
    "text": "Green apples\n\napples |&gt; \n  filter(color == \"green\")\n\n# A tibble: 2 Ã— 4\n  name      color pounds sweet\n  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala      green      4 TRUE \n2 Macintosh green      8 FALSE\n\n\n\nNotice words are in quotations!\n\n\nNotice that the number of rows has decreased: 2 x 4"
  },
  {
    "objectID": "slides/04-wrangle.html#green-and-unsweet-apples",
    "href": "slides/04-wrangle.html#green-and-unsweet-apples",
    "title": "Data wrangling I",
    "section": "Green and unsweet apples",
    "text": "Green and unsweet apples\n\napples |&gt; \n  filter(color == \"green\") |&gt; \n  filter(sweet == FALSE)\n\n# A tibble: 1 Ã— 4\n  name      color pounds sweet\n  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh green      8 FALSE\n\n\nNotice TRUE/FALSE are all-caps!"
  },
  {
    "objectID": "slides/04-wrangle.html#apples-that-arent-green",
    "href": "slides/04-wrangle.html#apples-that-arent-green",
    "title": "Data wrangling I",
    "section": "Apples that arenâ€™t green",
    "text": "Apples that arenâ€™t green\n\napples |&gt; \n  filter(color != \"green\")\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Granny Smith red        3 FALSE\n\n\nThe ! symbol negates: not equal to"
  },
  {
    "objectID": "slides/04-wrangle.html#at-least-4-pounds-but-less-than-6",
    "href": "slides/04-wrangle.html#at-least-4-pounds-but-less-than-6",
    "title": "Data wrangling I",
    "section": "At least 4 pounds but less than 6",
    "text": "At least 4 pounds but less than 6\n\napples |&gt; \n  filter(pounds &gt;= 4, pounds &lt; 6)\n\n# A tibble: 1 Ã— 4\n  name  color pounds sweet\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala  green      4 TRUE \n\n\nNotice: at least implies greater than or equal to\n\nI could also split this up over multiple filter calls\n\napples |&gt; \n  filter(pounds &gt;= 4) |&gt; \n  filter(pounds &lt; 6)\n\n# A tibble: 1 Ã— 4\n  name  color pounds sweet\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala  green      4 TRUE"
  },
  {
    "objectID": "slides/04-wrangle.html#combinations-the-or-operator",
    "href": "slides/04-wrangle.html#combinations-the-or-operator",
    "title": "Data wrangling I",
    "section": "Combinations: The OR (|) operator",
    "text": "Combinations: The OR (|) operator\nâ€œObservations where either this is true OR that is trueâ€\n\nApples that are red OR green\n\napples |&gt; \n  filter(color == \"red\" | color == \"green\")\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\n\nNote\n\n\nThe | should be above your Return/Enter key"
  },
  {
    "objectID": "slides/04-wrangle.html#combinations-the-and-operator",
    "href": "slides/04-wrangle.html#combinations-the-and-operator",
    "title": "Data wrangling I",
    "section": "Combinations: the AND operator (&)",
    "text": "Combinations: the AND operator (&)\nThe & operator can be used to combine rules\n\nReturns observations where both rules are true\n\n\nâ€œApples that are red AND sweet or green AND sourâ€:\n\n\n\napples |&gt; \n  filter(color == \"red\" & sweet == TRUE | color == \"green\" & sweet == FALSE)"
  },
  {
    "objectID": "slides/04-wrangle.html#in",
    "href": "slides/04-wrangle.html#in",
    "title": "Data wrangling I",
    "section": "%in%",
    "text": "%in%\nThe %in% operator is super powerful\n\nIt returns observations that belong to a set\n\n\nSay I wanted to look at just South American countries, normally:\n\ngapminder |&gt; \n  filter(country == \"Argentina\" | country == \"Brazil\" | country == \"Chile\")\n\nBrutally repetitive"
  },
  {
    "objectID": "slides/04-wrangle.html#in-1",
    "href": "slides/04-wrangle.html#in-1",
    "title": "Data wrangling I",
    "section": "%in%",
    "text": "%in%\nMake a list of countries and return observations that match any of them\n\nkeep = c(\"Argentina\", \"Brazil\", \"Chile\")\n\ngapminder |&gt; filter(country %in% keep)\n\n\n\n\n\n\n\nNote\n\n\nTo make a â€œlistâ€ of items (a vector), use c()"
  },
  {
    "objectID": "slides/04-wrangle.html#your-turn-world-leaders",
    "href": "slides/04-wrangle.html#your-turn-world-leaders",
    "title": "Data wrangling I",
    "section": "Your turn: ğŸ‘‘ World leaders ğŸ‘‘",
    "text": "Your turn: ğŸ‘‘ World leaders ğŸ‘‘\nUsing the leader dataset, identify:\n\nA Vietnamese Emperor who, in his first year in office, was 11 years old. Famously depraved.\nLeaders with graduate degrees who in 2015 reached their 16th year in power.\nA leader who held office for more than 20 years, participated in a rebellion, and has a willingness to use force score above 1.7.\n\n\n\n\nâˆ’+\n10:00\n\n\n\n\n\n\n\n\n\nNote\n\n\nYou can use ?leader to see the codebook. The acronym for Vietnam is â€œVNMâ€"
  },
  {
    "objectID": "slides/04-wrangle.html#the-last-step-creating-objects",
    "href": "slides/04-wrangle.html#the-last-step-creating-objects",
    "title": "Data wrangling I",
    "section": "The last step: creating objects",
    "text": "The last step: creating objects\nStep 1-2: the data, the pipe, the wrangling functions\n\napples |&gt; \n  filter(sweet == FALSE)\n\n\n\nStep 3: store the subsetted data as a new object for later use\n\ngreen_apples = apples |&gt;\n  filter(sweet == FALSE)"
  },
  {
    "objectID": "slides/04-wrangle.html#objects-1",
    "href": "slides/04-wrangle.html#objects-1",
    "title": "Data wrangling I",
    "section": "Objects",
    "text": "Objects\nIn programming, objects can be used to store all sorts of stuff for later use\n\ndata, functions, values\n\n\nWe create objects using = or &lt;-\n\n\nLike this:\n\nnew_object = stuff |&gt; filter(year == 1999)\n\n\n\nOr like this:\n\nnew_object &lt;- stuff |&gt; filter(year == 1999)"
  },
  {
    "objectID": "slides/04-wrangle.html#naming-objects",
    "href": "slides/04-wrangle.html#naming-objects",
    "title": "Data wrangling I",
    "section": "Naming objects",
    "text": "Naming objects\n\nThere are only two hard things in Computer Science: cache invalidation and naming things. â€“ Phil Karlton\n\n\nRecommend: keep it short, easy to type, informative, and use _ to separate words\n\n\n\n# Good\ngap_africa = gapminder |&gt; \n  filter(continent == \"Africa\")\n\n# Bad\nCountries_In_Africa_That_I_Want_To_Look_Up = gapminder |&gt; \n  filter(continent == \"Africa\")\n\n\n\nI use the excellent Tidyverse syntax guide in my work"
  },
  {
    "objectID": "slides/04-wrangle.html#failure-to-object",
    "href": "slides/04-wrangle.html#failure-to-object",
    "title": "Data wrangling I",
    "section": "Failure to object",
    "text": "Failure to object\nWithout objects, your work washes away, like tears in the rain\n\n\n\nHere, we store our data wrangling\n\n\ngreen_apples = apples |&gt;\n  filter(sweet == FALSE)\n\ngreen_apples\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh    green      8 FALSE\n2 Granny Smith red        3 FALSE\n\n\n\n\nHere we didnâ€™t store\n\n\napples |&gt;\n  filter(sweet == FALSE)\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh    green      8 FALSE\n2 Granny Smith red        3 FALSE\n\napples\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\nNotice the original apples remains unchanged!"
  },
  {
    "objectID": "slides/04-wrangle.html#the-formula",
    "href": "slides/04-wrangle.html#the-formula",
    "title": "Data wrangling I",
    "section": "The formula",
    "text": "The formula\nWrangle the data until youâ€™re satisfied with the output:\n\napples |&gt; \n  filter(sweet == FALSE)\n\n\nStore the output as a new object:\n\nsour_apples = apples |&gt; \n  filter(sweet == FALSE)\n\n\n\nUse the new object (e.g., plotting):\n\nggplot(sour_apples, aes(x = name, y = pounds)) + geom_col()"
  },
  {
    "objectID": "slides/04-wrangle.html#challenge-the-unusual-american-voter",
    "href": "slides/04-wrangle.html#challenge-the-unusual-american-voter",
    "title": "Data wrangling I",
    "section": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\nThereâ€™s a Twitter bot that randomly tweet profiles of real voters from the Cooperative Election Study:"
  },
  {
    "objectID": "slides/04-wrangle.html#challenge-the-unusual-american-voter-1",
    "href": "slides/04-wrangle.html#challenge-the-unusual-american-voter-1",
    "title": "Data wrangling I",
    "section": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\n\n\n\n\nA small sample of Americans\n\n\nstate\nsex\nage\neduc\nrace\npid7\nideo5\nreligion\nvotechoice\nhispanic\nknow_governor\nconceal\nprochoice\ncleanair\nwall\nmandmin\naca\nminwage\nnewsint\n\n\n\n\nArkansas\nMale\n59\nSome college\nWhite\nStrong Democrat\nLiberal\nAgnostic\nJoe Biden (Democrat)\nNo\nRepublican\nOppose\nSupport\nSupport\nOppose\nSupport\nOppose\nFavor\nMost of the time\n\n\nNew Jersey\nFemale\n41\nHigh school graduate\nWhite\nNot very strong Republican\nConservative\nAtheist\nDonald J. Trump (Republican)\nNo\nDemocrat\nOppose\nSupport\nSupport\nSupport\nSupport\nOppose\nFavor\nOnly now and then\n\n\nMissouri\nFemale\n52\nHigh school graduate\nWhite\nNot very strong Republican\nModerate\nProtestant\nNA\nNo\nRepublican\nSupport\nOppose\nSupport\nSupport\nSupport\nSupport\nFavor\nHardly at all\n\n\nConnecticut\nMale\n49\n4-year\nWhite\nNot very strong Republican\nConservative\nRoman Catholic\nDonald J. Trump (Republican)\nNo\nDemocrat\nOppose\nOppose\nOppose\nOppose\nSupport\nSupport\nOppose\nMost of the time\n\n\nIllinois\nFemale\n73\nSome college\nBlack\nStrong Democrat\nModerate\nProtestant\nJoe Biden (Democrat)\nNo\nDemocrat\nOppose\nSupport\nSupport\nSupport\nSupport\nOppose\nFavor\nMost of the time"
  },
  {
    "objectID": "slides/04-wrangle.html#the-unusual-american-voter",
    "href": "slides/04-wrangle.html#the-unusual-american-voter",
    "title": "Data wrangling I",
    "section": "ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\nUsing bot:\n\nIdentify the most unusual subgroup of voters you can think of\nConstraint: need at least five voters in your subgroup\nStore your unusual subgroup as an object\n\n\n\n\n\n\n\nNote\n\n\nRemember you can use ?bot to look at the codebook\n\n\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/02-viz.html#tortured-metaphor-1-r-as-a-car",
    "href": "slides/02-viz.html#tortured-metaphor-1-r-as-a-car",
    "title": "Data visualization I",
    "section": "Tortured metaphor 1: R as a car",
    "text": "Tortured metaphor 1: R as a car\n\n\nTwo programs: R + RStudio"
  },
  {
    "objectID": "slides/02-viz.html#tortured-metaphor-1-r-as-a-car-1",
    "href": "slides/02-viz.html#tortured-metaphor-1-r-as-a-car-1",
    "title": "Data visualization I",
    "section": "Tortured metaphor 1: R as a car",
    "text": "Tortured metaphor 1: R as a car"
  },
  {
    "objectID": "slides/02-viz.html#tortured-metaphor-2-rstudio-as-a-kitchen",
    "href": "slides/02-viz.html#tortured-metaphor-2-rstudio-as-a-kitchen",
    "title": "Data visualization I",
    "section": "Tortured metaphor 2: RStudio as a kitchen",
    "text": "Tortured metaphor 2: RStudio as a kitchen"
  },
  {
    "objectID": "slides/02-viz.html#tortured-metaphor-2-rstudio-as-a-kitchen-1",
    "href": "slides/02-viz.html#tortured-metaphor-2-rstudio-as-a-kitchen-1",
    "title": "Data visualization I",
    "section": "Tortured metaphor 2: RStudio as a kitchen",
    "text": "Tortured metaphor 2: RStudio as a kitchen"
  },
  {
    "objectID": "slides/02-viz.html#tortured-metaphor-3-rstudio-as-a-phone",
    "href": "slides/02-viz.html#tortured-metaphor-3-rstudio-as-a-phone",
    "title": "Data visualization I",
    "section": "Tortured metaphor 3: RStudio as a phone",
    "text": "Tortured metaphor 3: RStudio as a phone\nPackages are where most of our functions and data live"
  },
  {
    "objectID": "slides/02-viz.html#installing-packages",
    "href": "slides/02-viz.html#installing-packages",
    "title": "Data visualization I",
    "section": "Installing packages",
    "text": "Installing packages\nCheck out my guide\nOr type this into the console and hit return/enter (note the quotation marks!):\n\ninstall.packages(\"Name of the package\")"
  },
  {
    "objectID": "slides/02-viz.html#web-dubois",
    "href": "slides/02-viz.html#web-dubois",
    "title": "Data visualization I",
    "section": "WEB Dubois",
    "text": "WEB Dubois\n\n\n(1868 - 1963)\n\nAmerican sociologist\nhistorian\ncivil rights advocate\nData visualization specialist?"
  },
  {
    "objectID": "slides/02-viz.html#why-visualize-data-1",
    "href": "slides/02-viz.html#why-visualize-data-1",
    "title": "Data visualization I",
    "section": "Why visualize data?",
    "text": "Why visualize data?\n\nFor better or worse, data carries weight\nVisualizing data is an effective way to convince, argue, tell stories (and mislead)\nGraphs, maps, diagrams and other visuals are everywhere"
  },
  {
    "objectID": "slides/02-viz.html#dataviz-to-inform",
    "href": "slides/02-viz.html#dataviz-to-inform",
    "title": "Data visualization I",
    "section": "Dataviz to inform",
    "text": "Dataviz to inform"
  },
  {
    "objectID": "slides/02-viz.html#dataviz-to-mislead",
    "href": "slides/02-viz.html#dataviz-to-mislead",
    "title": "Data visualization I",
    "section": "Dataviz to mislead",
    "text": "Dataviz to mislead"
  },
  {
    "objectID": "slides/02-viz.html#inform-or-mislead",
    "href": "slides/02-viz.html#inform-or-mislead",
    "title": "Data visualization I",
    "section": "Inform? or mislead?",
    "text": "Inform? or mislead?"
  },
  {
    "objectID": "slides/02-viz.html#the-gapminder-dataset",
    "href": "slides/02-viz.html#the-gapminder-dataset",
    "title": "Data visualization I",
    "section": "The Gapminder dataset",
    "text": "The Gapminder dataset\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAfghanistan\nAsia\n1957\n30\n9240934\n821\n\n\nAfghanistan\nAsia\n1962\n32\n10267083\n853\n\n\nAfghanistan\nAsia\n1967\n34\n11537966\n836\n\n\nAfghanistan\nAsia\n1972\n36\n13079460\n740"
  },
  {
    "objectID": "slides/02-viz.html#rows-are-observations",
    "href": "slides/02-viz.html#rows-are-observations",
    "title": "Data visualization I",
    "section": "Rows are observations",
    "text": "Rows are observations\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAfghanistan\nAsia\n1957\n30\n9240934\n821\n\n\nAfghanistan\nAsia\n1962\n32\n10267083\n853\n\n\nAfghanistan\nAsia\n1967\n34\n11537966\n836\n\n\nAfghanistan\nAsia\n1972\n36\n13079460\n740\n\n\n\n\n\n\n\n\nIn a dataset, rows are observations\n\nThe data we observe for Afghanistan in the year 1952"
  },
  {
    "objectID": "slides/02-viz.html#rows-are-observations-1",
    "href": "slides/02-viz.html#rows-are-observations-1",
    "title": "Data visualization I",
    "section": "Rows are observations",
    "text": "Rows are observations\n\n\n\n\n\n\nid\nage\ndegree\nrace\nsex\n\n\n\n\n1\n47\nBachelor\nWhite\nMale\n\n\n2\n61\nHigh School\nWhite\nMale\n\n\n3\n72\nBachelor\nWhite\nMale\n\n\n4\n43\nHigh School\nWhite\nFemale\n\n\n5\n55\nGraduate\nWhite\nFemale\n\n\n\n\n\n\n\n\nIn survey data, an observation is typically a person who took the survey (a respondent)"
  },
  {
    "objectID": "slides/02-viz.html#columns-are-variables",
    "href": "slides/02-viz.html#columns-are-variables",
    "title": "Data visualization I",
    "section": "Columns are variables",
    "text": "Columns are variables\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nAfghanistan\nAsia\n1952\n29\n8425333\n779\n\n\nAfghanistan\nAsia\n1957\n30\n9240934\n821\n\n\nAfghanistan\nAsia\n1962\n32\n10267083\n853\n\n\nAfghanistan\nAsia\n1967\n34\n11537966\n836\n\n\nAfghanistan\nAsia\n1972\n36\n13079460\n740\n\n\n\n\n\n\n\n\nIn a dataset, columns are variables\n\nLife expectancy and GDP per capita are some of the variables in our data"
  },
  {
    "objectID": "slides/02-viz.html#the-final-graph",
    "href": "slides/02-viz.html#the-final-graph",
    "title": "Data visualization I",
    "section": "The final graph",
    "text": "The final graph\n\n\nThere are four variables on this graph. What are they?"
  },
  {
    "objectID": "slides/02-viz.html#the-grammar-of-graphics",
    "href": "slides/02-viz.html#the-grammar-of-graphics",
    "title": "Data visualization I",
    "section": "The grammar of graphics",
    "text": "The grammar of graphics\n\nGraphs have an internal logic, or grammar that connects data to visuals\n\n\nData = variables in a dataset\n\n\nAesthetic = visual property of a graph (position, shape, color, etc.)\n\n\nGeometry = representation of an aesthetic (point, line, text, etc.)"
  },
  {
    "objectID": "slides/02-viz.html#mapping-data-to-aesthetics",
    "href": "slides/02-viz.html#mapping-data-to-aesthetics",
    "title": "Data visualization I",
    "section": "Mapping data to aesthetics",
    "text": "Mapping data to aesthetics\n\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nGDP per capita\nPosition(x-axis)\nPoint\n\n\nLife expectancy\nPosition (y-axis)\nPoint\n\n\nContinent\nColor\nPoint\n\n\nPopulation\nSize\nPoint\n\n\n\n\n\n\n\n\n\nTake the data,\nmap it onto an aesthetic,\nand visualize it with a geometry"
  },
  {
    "objectID": "slides/02-viz.html#in-r",
    "href": "slides/02-viz.html#in-r",
    "title": "Data visualization I",
    "section": "In R",
    "text": "In R\n\n\n\n\n\n\nData\naes()\ngeom_\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\ncontinent\ncolor\ngeom_point()\n\n\npop\nsize\ngeom_point()\n\n\n\n\n\n\n\n\nUse the variable names exactly as they appear in the data, map them onto the exact function names in R"
  },
  {
    "objectID": "slides/02-viz.html#ggplot-our-first-function",
    "href": "slides/02-viz.html#ggplot-our-first-function",
    "title": "Data visualization I",
    "section": "ggplot(): our first function ğŸ˜¢",
    "text": "ggplot(): our first function ğŸ˜¢\n\nggplot()\n\n\n\ndonâ€™t fret; You will not memorize these as they appear on screen"
  },
  {
    "objectID": "slides/02-viz.html#ggplot-specify-the-data",
    "href": "slides/02-viz.html#ggplot-specify-the-data",
    "title": "Data visualization I",
    "section": "ggplot: specify the data",
    "text": "ggplot: specify the data\n\nggplot(data = gap_07)"
  },
  {
    "objectID": "slides/02-viz.html#use-aes-to-map-variables-to-aesthetics",
    "href": "slides/02-viz.html#use-aes-to-map-variables-to-aesthetics",
    "title": "Data visualization I",
    "section": "Use aes() to map variables to aesthetics",
    "text": "Use aes() to map variables to aesthetics\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp))"
  },
  {
    "objectID": "slides/02-viz.html#add-geometries-and-layers-using",
    "href": "slides/02-viz.html#add-geometries-and-layers-using",
    "title": "Data visualization I",
    "section": "add geometries and layers using +",
    "text": "add geometries and layers using +\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp)) + geom_point()"
  },
  {
    "objectID": "slides/02-viz.html#mapping-population-to-size-in-aes",
    "href": "slides/02-viz.html#mapping-population-to-size-in-aes",
    "title": "Data visualization I",
    "section": "mapping population to size in aes()",
    "text": "mapping population to size in aes()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop)) + \n  geom_point()"
  },
  {
    "objectID": "slides/02-viz.html#mapping-continent-to-color-in-aes",
    "href": "slides/02-viz.html#mapping-continent-to-color-in-aes",
    "title": "Data visualization I",
    "section": "mapping continent to color in aes()",
    "text": "mapping continent to color in aes()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + \n  geom_point()"
  },
  {
    "objectID": "slides/02-viz.html#other-layers-add-the-missing-titles-with-labs",
    "href": "slides/02-viz.html#other-layers-add-the-missing-titles-with-labs",
    "title": "Data visualization I",
    "section": "Other layers: add the missing titles with labs()",
    "text": "Other layers: add the missing titles with labs()\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + \n  geom_point() + labs(x = \"GDP per capita\", y = \"Life expectancy\", \n       title = \"Global wealth and health in 2007\", size = \"Population\",\n       color = \"\")\n\n\nNotice that text is placed within quotation marks!"
  },
  {
    "objectID": "slides/02-viz.html#other-layers-add-a-theme",
    "href": "slides/02-viz.html#other-layers-add-a-theme",
    "title": "Data visualization I",
    "section": "Other layers: add a theme",
    "text": "Other layers: add a theme\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + \n  geom_point() + labs(x = \"GDP per capita\", y = \"Life expectancy\", \n       title = \"Global wealth and health in 2007\") + \n  theme_bw()\n\n\nThere are many more themes, here are a few"
  },
  {
    "objectID": "slides/02-viz.html#the-final-formula",
    "href": "slides/02-viz.html#the-final-formula",
    "title": "Data visualization I",
    "section": "The final formula",
    "text": "The final formula\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, \n                          size = pop, color = continent)) +\n  geom_point() + labs(x = \"GDP per capita\", y = \"Life expectancy\", \n       title = \"Global wealth and health in 2007\") +\n  theme_bw()\n\n\nTell ggplot() the data we want to plot\nMap all variables onto aesthetics within aes()\nAdd layers like geom_point() and theme_bw() using +"
  },
  {
    "objectID": "slides/02-viz.html#whats-that-country-way-out-on-the-bottom-right",
    "href": "slides/02-viz.html#whats-that-country-way-out-on-the-bottom-right",
    "title": "Data visualization I",
    "section": "Whatâ€™s that country way out on the bottom right?",
    "text": "Whatâ€™s that country way out on the bottom right?"
  },
  {
    "objectID": "slides/02-viz.html#your-turn-try-labelling-the-points",
    "href": "slides/02-viz.html#your-turn-try-labelling-the-points",
    "title": "Data visualization I",
    "section": "ğŸš¨ Your turn: try labelling the points ğŸš¨",
    "text": "ğŸš¨ Your turn: try labelling the points ğŸš¨\n\nAdd labels to each point by mapping country names onto the label aesthetic within aes()\nAdd geom_text layer to your plot to plot the names\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/02-viz.html#the-basic-plot",
    "href": "slides/02-viz.html#the-basic-plot",
    "title": "Data visualization I",
    "section": "The basic plot",
    "text": "The basic plot\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent)) + \n  geom_point()"
  },
  {
    "objectID": "slides/02-viz.html#map-country-names-to-label-aesthetic",
    "href": "slides/02-viz.html#map-country-names-to-label-aesthetic",
    "title": "Data visualization I",
    "section": "Map country names to label aesthetic",
    "text": "Map country names to label aesthetic\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent, label = country)) + \n  geom_point()"
  },
  {
    "objectID": "slides/02-viz.html#plot-the-labels",
    "href": "slides/02-viz.html#plot-the-labels",
    "title": "Data visualization I",
    "section": "Plot the labels",
    "text": "Plot the labels\n\nggplot(data = gap_07, aes(x = gdpPercap, y = lifeExp, size = pop, \n                          color = continent, label = country)) + \n  geom_point() + \n  geom_text()"
  },
  {
    "objectID": "slides/02-viz.html#what-did-we-do",
    "href": "slides/02-viz.html#what-did-we-do",
    "title": "Data visualization I",
    "section": "What did we do?",
    "text": "What did we do?\n\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\ncontinent\ncolor\ngeom_point()\n\n\npop\nsize\ngeom_point()\n\n\ncountry\nlabel\ngeom_text()\n\n\n\n\n\n\n\n\nTake your data, map it onto an aesthetic, represent with a geometry"
  },
  {
    "objectID": "slides/02-viz.html#the-presidents",
    "href": "slides/02-viz.html#the-presidents",
    "title": "Data visualization I",
    "section": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸",
    "text": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸\n\n\n\n\nSample of presidential elections\n\n\nyear\nwinner\nwin_party\nec_pct\npopular_pct\ntwo_term\n\n\n\n\n1824\nJohn Quincy Adams\nD.-R.\n0.32\n0.31\nFALSE\n\n\n1828\nAndrew Jackson\nDem.\n0.68\n0.56\nTRUE\n\n\n1832\nAndrew Jackson\nDem.\n0.77\n0.55\nTRUE\n\n\n1836\nMartin Van Buren\nDem.\n0.58\n0.51\nFALSE"
  },
  {
    "objectID": "slides/02-viz.html#your-turn",
    "href": "slides/02-viz.html#your-turn",
    "title": "Data visualization I",
    "section": "ğŸš¨ Your turn ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸš¨\n\nMake a plot of presidential election results using the elections_historic dataset\n% of popular vote (x-axis, popular_pct) and % of electoral college vote (y-axis, ec_pct)\nmap the winnerâ€™s party to the color aesthetic, whether or not president served two terms to shape, and add labels to each point (use winner_label)\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/02-viz.html#us-presidents",
    "href": "slides/02-viz.html#us-presidents",
    "title": "Data visualization I",
    "section": "US Presidents",
    "text": "US Presidents\n\n\nWhatâ€™s going on here?"
  },
  {
    "objectID": "slides/02-viz.html#what-did-we-do-1",
    "href": "slides/02-viz.html#what-did-we-do-1",
    "title": "Data visualization I",
    "section": "What did we do?",
    "text": "What did we do?\n\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\npopular_pct\nx\ngeom_point()\n\n\nec_pct\ny\ngeom_point()\n\n\nwin_party\ncolor\ngeom_point()\n\n\ntwo_term\nshape\ngeom_point()\n\n\nwinner_label\nlabel\ngeom_text()\n\n\n\n\n\n\n\n\nTake your data, map it onto an aesthetic, represent with a geometry"
  },
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "Content (): contain links to the optional readings for each week. Lecture slide decks will also appear here.\nAssignment (): contain the instructions for each assignment. Due dates and submission links will appear on Canvas.\nExample (): These pages contain examples of data analysis in R. It is also where any impromptu stuff we do in class will end up.\n\n\n\n\n\n\n\n\n\nTopic\n\n\nContent\n\n\nExample\n\n\nAssignment\n\n\n\n\n\n\nWeek 01\n\n\nSep 25\n\n\nHello\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 02\n\n\nSep 30 / Oct 2\n\n\nData visualization\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 03\n\n\nOct 7 / Oct 9\n\n\nData wrangling\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 04\n\n\nOct 14 / Oct 16\n\n\nRelationships\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 05\n\n\nOct 21 / Oct 23\n\n\nModeling\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOct 28\n\n\nMidterm exam, in class \n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 06\n\n\nOct 28 / Oct 30\n\n\nPrediction\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 07\n\n\nNov 4 / Nov 6\n\n\nCausality\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 08\n\n\nNov 13\n\n\nDAGs\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 09\n\n\nNov 18 / Nov 20\n\n\nNatural experiments\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 10\n\n\nNov 25 / Nov 27\n\n\nUncertainty\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 11\n\n\nDec 2 / Dec 4\n\n\nHypothesis testing\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDec 10\n\n\nFinal exam, in class 10:30:00"
  },
  {
    "objectID": "guides/reading-data.html",
    "href": "guides/reading-data.html",
    "title": "Importing data into R",
    "section": "",
    "text": "Most of the data in this course will come from packages. I do this so we have more time to focus on the stuff that matters. But most of the data in the world is not in a package. How can I read this kind of data into R?\nThereâ€™s ways to do this in Rstudio through drop-down menus but I call that the â€œno learningâ€ approach.\nTo read data into R you need to know two things:\n\nWhat kind of file is it? What is its extension?\nWhere is it? What is its file path?",
    "crumbs": [
      "Guides",
      "Importing data into R"
    ]
  },
  {
    "objectID": "guides/reading-data.html#intro",
    "href": "guides/reading-data.html#intro",
    "title": "Importing data into R",
    "section": "",
    "text": "Most of the data in this course will come from packages. I do this so we have more time to focus on the stuff that matters. But most of the data in the world is not in a package. How can I read this kind of data into R?\nThereâ€™s ways to do this in Rstudio through drop-down menus but I call that the â€œno learningâ€ approach.\nTo read data into R you need to know two things:\n\nWhat kind of file is it? What is its extension?\nWhere is it? What is its file path?",
    "crumbs": [
      "Guides",
      "Importing data into R"
    ]
  },
  {
    "objectID": "guides/reading-data.html#what-kind-of-file-is-it",
    "href": "guides/reading-data.html#what-kind-of-file-is-it",
    "title": "Importing data into R",
    "section": "What kind of file is it?",
    "text": "What kind of file is it?\nThere are many different types of files out there. You can tell what type of file a dataset is by looking at its extension - the bit in the file name that comes after the period. Some common file types/extensions are .csv, .dta, .xlsx, etc.\nR has different functions you can use to import different types of files. For a .csv file you would use read_csv() or read.csv(). For a .dta you would use read_dta() from the {haven} package. For an .xlsx file you would use read_excel() from {readxl}. If youâ€™re not sure, google what function to use for a particular data file.",
    "crumbs": [
      "Guides",
      "Importing data into R"
    ]
  },
  {
    "objectID": "guides/reading-data.html#where-is-it",
    "href": "guides/reading-data.html#where-is-it",
    "title": "Importing data into R",
    "section": "Where is it?",
    "text": "Where is it?\nThis part is tricky for people who donâ€™t have a lot of experience working with computers. But, in short: every file that is on your computer has a â€œpathâ€ or â€œaddressâ€ that uniquely identifies it on your computer. This address changes with your fileâ€™s location; if you moved the file for whatever reason, the file path would change. You need the file path in order to tell R where to look at your data.\nHow to find it? Operating systems are always changing so in general the best thign is to google how to find a fileâ€™s filepath and then remember it. But the following seems to have worked on Mac for a long time now:\n\nfind the file in your Finder\nright-click and select â€œget infoâ€\nat the top left, under â€œGeneralâ€, youâ€™ll see the file path next to â€œWhere:â€\nright-click that path and select â€œcopy as Pathnameâ€\n\nAnd on Windows you can do this.\nCode to import data into R might look like this:\n\ndf = read_csv(\"/Users/juan/Dropbox/teaching/co2-data/owid-co2-data.csv\")",
    "crumbs": [
      "Guides",
      "Importing data into R"
    ]
  },
  {
    "objectID": "guides/reading-data.html#how-to-do-this-better",
    "href": "guides/reading-data.html#how-to-do-this-better",
    "title": "Importing data into R",
    "section": "How to do this better",
    "text": "How to do this better\nFor working on longer term projects, it is more convenient to use relative file paths in conjunction with something like R projects (.Rproj) + the {here} library.",
    "crumbs": [
      "Guides",
      "Importing data into R"
    ]
  },
  {
    "objectID": "guides/guides.html#note",
    "href": "guides/guides.html#note",
    "title": "Exam guides",
    "section": "Note",
    "text": "Note\nThis study guide is meant to help you; a student who knows all the below well should do well on the exam. It is not a contract. There is no room to negotiate over whether questions on the exams are perfectly represented in this list.",
    "crumbs": [
      "Guides",
      "Exam guides"
    ]
  },
  {
    "objectID": "guides/guides.html#things-you-should-know-for-the-midterm",
    "href": "guides/guides.html#things-you-should-know-for-the-midterm",
    "title": "Exam guides",
    "section": "Things you should know for the midtermâ€¦",
    "text": "Things you should know for the midtermâ€¦\n\nThe structure of data (what are rows, columns in a dataset)\nThe grammar of graphics (variables, aesthetics, geometries)\nHow to interpret patterns in data visualizations (e.g., general trends, outliers)\nThe different types of variables that exist (e.g., categorical, dummies)\nThe five graphs, what they tell us, and when each is appropriate\nHow to make these graphs in R\nUse of pipes to connect functions\nWhy we would want to subset data and how to do it\nUse of logical operators\nUse of objects\nWhy we would want to create new variables and how to do it\nHow to make new categorical variables out of existing data\nThe summary statistics and what they tell us\nHow to calculate summary statistics, in general, and for subgroups in the data\nHow to summarize categorical variables\nHow we can â€œbreak downâ€ broad patterns in data to test theories or concerns about the relationships weâ€™re observing\nWhat correlations are, how we measure them, what they tell us\nThe basics of modeling, terminology, broad goals",
    "crumbs": [
      "Guides",
      "Exam guides"
    ]
  },
  {
    "objectID": "guides/guides.html#things-you-should-know-for-the-final",
    "href": "guides/guides.html#things-you-should-know-for-the-final",
    "title": "Exam guides",
    "section": "Things you should know for the finalâ€¦",
    "text": "Things you should know for the finalâ€¦\n\nThe intuition of how model parameters are estimated\nHow to fit models with different kinds of variables and interpret the output\nHow to interpret model output in multiple regression\nWhy we want to make predictions, and the mechanics of making them\nHow to assess whether our predictions are good or bad\nThe difference between prediction and causal inference\nWhat â€œcausesâ€ means in social science terms\nWhy causal inference is difficult, the fundamental problem of causality\nHow to use simulation to create the varying causal patterns in data that we explored\nWhy experiments work and how they differ from observational inferences\nUsing, reading, and making DAGs\nThe different confounding scenarios we discussed\nUse of controls, in theory and practice\nThe motivation for the causal revolution, natural experiments, why they work, how we know when we have one, limitations\nWhy we are uncertain, how to simulate uncertainty, how the law of large numbers saves us, when it canâ€™t\nHow to quantify uncertainty and its use in hypothesis testing",
    "crumbs": [
      "Guides",
      "Exam guides"
    ]
  },
  {
    "objectID": "example/11-example.html",
    "href": "example/11-example.html",
    "title": "Hello",
    "section": "",
    "text": "In-class example"
  },
  {
    "objectID": "example/09-example.html",
    "href": "example/09-example.html",
    "title": "Uncertainty",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 09-uncertainty.R"
  },
  {
    "objectID": "example/09-example.html#in-class-example",
    "href": "example/09-example.html#in-class-example",
    "title": "Uncertainty",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 09-uncertainty.R"
  },
  {
    "objectID": "example/09-example.html#show-sample-estimates-vary",
    "href": "example/09-example.html#show-sample-estimates-vary",
    "title": "Uncertainty",
    "section": "Show sample estimates vary",
    "text": "Show sample estimates vary\nLoad the data:\n\n# libraries\nlibrary(tidyverse)\nlibrary(stevedata)\nlibrary(moderndive)\n\n# data\ngss_abortion\n\n# A tibble: 64,814 Ã— 18\n      id  year   age race  sex    hispaniccat  educ partyid       relactiv abany\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;\n 1     1  1972    23 White Female          NA    16 Ind,Near Dem        NA    NA\n 2     2  1972    70 White Male            NA    10 Not Str Demoâ€¦       NA    NA\n 3     3  1972    48 White Female          NA    12 Independent         NA    NA\n 4     4  1972    27 White Female          NA    17 Not Str Demoâ€¦       NA    NA\n 5     5  1972    61 White Female          NA    12 Strong Democâ€¦       NA    NA\n 6     6  1972    26 White Male            NA    14 Ind,Near Dem        NA    NA\n 7     7  1972    28 White Male            NA    13 Ind,Near Dem        NA    NA\n 8     8  1972    27 White Male            NA    16 Ind,Near Dem        NA    NA\n 9     9  1972    21 Black Female          NA    12 Strong Democâ€¦       NA    NA\n10    10  1972    30 Black Female          NA    12 Strong Democâ€¦       NA    NA\n# â„¹ 64,804 more rows\n# â„¹ 8 more variables: abdefect &lt;dbl&gt;, abnomore &lt;dbl&gt;, abhlth &lt;dbl&gt;,\n#   abpoor &lt;dbl&gt;, abrape &lt;dbl&gt;, absingle &lt;dbl&gt;, pid &lt;dbl&gt;, hispanic &lt;dbl&gt;\n\n\nWhatâ€™s the true population parameter? Pretending dataset is full population:\n\n## abortion true\ngss_abortion |&gt; \n  summarise(avg_abnomore = mean(abnomore, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  avg_abnomore\n         &lt;dbl&gt;\n1        0.446\n\n\nShow estimates vary across samples:\n\n# take many little samples from population\nsamples = gss_abortion |&gt; \n  rep_sample_n(size = 10, reps = 1000) |&gt; \n  summarise(avg_abnomore = mean(abnomore, na.rm = TRUE))\n\nggplot(samples, aes(x = avg_abnomore)) + \n  geom_histogram()"
  },
  {
    "objectID": "example/09-example.html#bias-the-polls",
    "href": "example/09-example.html#bias-the-polls",
    "title": "Uncertainty",
    "section": "Bias the polls",
    "text": "Bias the polls\nWhatâ€™s the true population parameter:\n\ngss_abortion |&gt; \n  summarize(abany = mean(abany, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  abany\n  &lt;dbl&gt;\n1 0.414\n\n\nBias the polls:\n\nbias_sample = gss_abortion |&gt; \n  filter(educ &lt;= 5) |&gt; \n  rep_sample_n(size = 100, reps = 5000) |&gt; \n  summarize(abany = mean(abany, na.rm = TRUE))\n\n\nggplot(bias_sample, aes(x = abany)) + \n  geom_histogram() +\n  geom_vline(xintercept = .414, size = 2, color = \"red\")"
  },
  {
    "objectID": "example/09-example.html#bootstrapping",
    "href": "example/09-example.html#bootstrapping",
    "title": "Uncertainty",
    "section": "Bootstrapping",
    "text": "Bootstrapping\nLook at the data:\n\n## death penalty\nissues = read_csv(\"https://www.dropbox.com/s/x5xncajqsz0q09l/voter-files-issues.csv?dl=1\")\n\nAverage support for death penalty in Kansas:\n\njust_kansas = issues |&gt; \n  filter(state == \"Kansas\")\n  \njust_kansas |&gt; summarise(avg_death = mean(deathpen_2016, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  avg_death\n      &lt;dbl&gt;\n1     0.571\n\n\nBootstrap estimates:\n\nboot_kansas = just_kansas |&gt; \n  rep_sample_n(size = nrow(just_kansas), replace = TRUE,\n               reps = 1000) |&gt; \n  summarise(avg_death = mean(deathpen_2016, na.rm = TRUE))\n\nPlot the estimates:\n\nggplot(boot_kansas, aes(x = avg_death)) + \n  geom_histogram()\n\n\n\n\n\n\n\n\nCalculate the standard error:\n\n# standard error\nboot_kansas |&gt; \n  summarise(standard_error = sd(avg_death))\n\n# A tibble: 1 Ã— 1\n  standard_error\n           &lt;dbl&gt;\n1         0.0702\n\n\nCalculate the 95% CI:\n\n# 95% CI\nboot_kansas |&gt; \n  summarise(low = quantile(avg_death, probs = .025),\n            high = quantile(avg_death, probs = .975))\n\n# A tibble: 1 Ã— 2\n    low  high\n  &lt;dbl&gt; &lt;dbl&gt;\n1 0.437 0.714"
  },
  {
    "objectID": "example/07-example.html",
    "href": "example/07-example.html",
    "title": "Causality",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 07-causality.R"
  },
  {
    "objectID": "example/07-example.html#in-class-example",
    "href": "example/07-example.html#in-class-example",
    "title": "Causality",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 07-causality.R"
  },
  {
    "objectID": "example/07-example.html#class-make-up-a-relationship",
    "href": "example/07-example.html#class-make-up-a-relationship",
    "title": "Causality",
    "section": "class: make up a relationship",
    "text": "class: make up a relationship\nWe use rnorm to simulate data. Three arguments: number of draws, mean, standard deviation:\n\nrnorm(n = 5, mean = 10, sd = 2)\n\n[1] 12.597806  9.037005  8.582153 10.629605  9.079209\n\n\nWe made up this data:\n\nfake_election = tibble(party_share = rnorm(n = 500, mean = 50, sd = 5), \n                       funding = rnorm(n = 500, mean = 20000, sd = 4000) + 2000 * party_share)\nfake_election\n\n# A tibble: 500 Ã— 2\n   party_share funding\n         &lt;dbl&gt;   &lt;dbl&gt;\n 1        53.0 123590.\n 2        57.0 136940.\n 3        52.3 123661.\n 4        43.4 104649.\n 5        46.2 117465.\n 6        46.1 115563.\n 7        46.7 117569.\n 8        41.2 106682.\n 9        48.9 113562.\n10        52.4 125225.\n# â„¹ 490 more rows\n\n\nWe can plot it:\n\nggplot(fake_election, aes(x = party_share, y = funding)) + geom_point() + geom_smooth(method = \"lm\")\n\n\n\n\n\n\n\n\nNotice we made the causal effect equal 2000 dollars per percent of the vote won. We can estimate this and get pretty close using OLS:\n\nmod = lm(funding ~ party_share, data = fake_election)\ntidy(mod)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic   p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)   19344.    1815.       10.7 5.05e- 24\n2 party_share    2016.      36.1      55.8 1.73e-216\n\n\nItâ€™s close but not perfect because there is â€œnoiseâ€ in our data. These numbers are randomly generated!"
  },
  {
    "objectID": "example/07-example.html#class-confounds",
    "href": "example/07-example.html#class-confounds",
    "title": "Causality",
    "section": "class: confounds",
    "text": "class: confounds\nHere we want to make it so a third variable, â€œthe southâ€, confounds the relationship between the number of waffle houses in a state and the divorce rate:\n\nfake = tibble(south = sample(c(0, 1), size = 50, replace = TRUE), \n              waffle = rnorm(n = 50, mean = 20, sd = 4) + 10 * south,\n              divorce = rnorm(n = 50, mean = 20, sd = 2) + 8 * south)\nfake\n\n# A tibble: 50 Ã— 3\n   south waffle divorce\n   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1     0   27.3    18.1\n 2     1   27.2    27.6\n 3     1   32.8    30.9\n 4     0   19.3    16.5\n 5     1   25.3    28.6\n 6     0   18.6    21.2\n 7     0   17.2    17.3\n 8     0   21.1    21.0\n 9     1   31.7    28.1\n10     0   15.0    20.9\n# â„¹ 40 more rows\n\n\nWe can plot:\n\nggplot(fake, (aes(x = waffle, y = divorce))) + geom_point() + geom_smooth(method = \"lm\")\n\n\n\n\n\n\n\n\nWe can model to retrieve the confounded estimate:\n\nlm(divorce ~ waffle, data = fake) |&gt; broom::tidy()\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic       p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;\n1 (Intercept)   11.1      1.84        6.05 0.000000208  \n2 waffle         0.515    0.0716      7.20 0.00000000368"
  },
  {
    "objectID": "example/05-example.html",
    "href": "example/05-example.html",
    "title": "Models",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 05-models.R\n\nLoad libraries:\n\nlibrary(tidyverse)\nlibrary(broom)\nlibrary(juanr)\nlibrary(socviz)"
  },
  {
    "objectID": "example/05-example.html#in-class-example",
    "href": "example/05-example.html#in-class-example",
    "title": "Models",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 05-models.R\n\nLoad libraries:\n\nlibrary(tidyverse)\nlibrary(broom)\nlibrary(juanr)\nlibrary(socviz)"
  },
  {
    "objectID": "example/05-example.html#class-trade",
    "href": "example/05-example.html#class-trade",
    "title": "Models",
    "section": "Class: trade",
    "text": "Class: trade\nFit and extract model:\n\n# work here\nsea_model = lm(exports ~ sea_borders, data = trade)\ntidy(sea_model)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    8189.     1588.      5.16 2.56e- 7\n2 sea_borders    8004.      468.     17.1  1.44e-64"
  },
  {
    "objectID": "example/05-example.html#class-socviz",
    "href": "example/05-example.html#class-socviz",
    "title": "Models",
    "section": "Class: socviz",
    "text": "Class: socviz\nFit and extract model:\n\n# work here\nmod_happy = lm(kids ~ happy, data = gss_sm)\ntidy(mod_happy)\n\n# A tibble: 3 Ã— 5\n  term               estimate std.error statistic p.value\n  &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 (Intercept)          2.78          NA        NA      NA\n2 happyPretty Happy   -0.110         NA        NA      NA\n3 happyNot Too Happy   0.0374        NA        NA      NA"
  },
  {
    "objectID": "example/03-example.html",
    "href": "example/03-example.html",
    "title": "Data wrangling",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class:\n\nDay one: ğŸ‘©â€ğŸ’» 04-wrangle-code.R\nDay two: ğŸ‘©â€ğŸ’» 05-wrangle-code.R\n\nInstructions:\n\nDownload it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€.\nUpload to Posit Cloud\n\n\n\nOften, we have a big dataset that covers lots of stuff (say, all flights coming out of NYC in 2013) but weâ€™re only interested in a subset of those things (say, flights that arrived late over that time period). The filter() function is a way to subset operations that match some rule or set of rules (e.g., rule = â€œflights that arrived lateâ€). We define these rules using logical operators.\n\n\nLetâ€™s load the libraries.\n\n# libraries\nlibrary(tidyverse)\nlibrary(nycflights13)\n\nRemember you can look at the data like this.\n\n# look at the data\nView(flights) # open data in viewer\n?flights # read data documentation\n\nLetâ€™s look at flights from February.\n\n# look at fights, but only from February\nflights %&gt;%\n  filter(month == 2)\n\n# A tibble: 24,951 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     2     1      456            500        -4      652            648\n 2  2013     2     1      520            525        -5      816            820\n 3  2013     2     1      527            530        -3      837            829\n 4  2013     2     1      532            540        -8     1007           1017\n 5  2013     2     1      540            540         0      859            850\n 6  2013     2     1      552            600        -8      714            715\n 7  2013     2     1      552            600        -8      919            910\n 8  2013     2     1      552            600        -8      655            709\n 9  2013     2     1      553            600        -7      833            815\n10  2013     2     1      553            600        -7      821            825\n# â„¹ 24,941 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at flights on Valentineâ€™s Day.\n\n# now let's look at flights on Valentine's Day\nflights %&gt;%\n  filter(month == 2) %&gt;%\n  filter(day == 14)\n\n# A tibble: 956 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     2    14        7           2352        15      448            437\n 2  2013     2    14       59           2339        80      205            106\n 3  2013     2    14      454            500        -6      641            648\n 4  2013     2    14      510            515        -5      750            814\n 5  2013     2    14      531            530         1      828            831\n 6  2013     2    14      541            540         1      850            850\n 7  2013     2    14      542            545        -3     1014           1023\n 8  2013     2    14      551            600        -9      831            906\n 9  2013     2    14      552            600        -8      657            708\n10  2013     2    14      553            600        -7      902            856\n# â„¹ 946 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s try the OR logical operator by looking at flights going to ATL or SFO.\n\n# try one using text and the OR symbol\n# look at fights going to ATL or SFO\nflights %&gt;%\n  filter(dest == \"ATL\" | dest == \"SFO\")\n\n# A tibble: 30,546 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      554            600        -6      812            837\n 2  2013     1     1      558            600        -2      923            937\n 3  2013     1     1      600            600         0      837            825\n 4  2013     1     1      606            610        -4      837            845\n 5  2013     1     1      611            600        11      945            931\n 6  2013     1     1      615            615         0      833            842\n 7  2013     1     1      655            700        -5     1037           1045\n 8  2013     1     1      658            700        -2      944            939\n 9  2013     1     1      729            730        -1     1049           1115\n10  2013     1     1      734            737        -3     1047           1113\n# â„¹ 30,536 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at flights between noon and 5pm.\n\n# try one using greater than or less than\n# look at flights departing between 12pm and 5pm\nflights %&gt;%\n  filter(dep_time &gt;= 1200) %&gt;%\n  filter(dep_time &lt;= 1700)\n\n# A tibble: 99,136 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1     1200           1200         0     1408           1356\n 2  2013     1     1     1202           1207        -5     1318           1314\n 3  2013     1     1     1202           1159         3     1645           1653\n 4  2013     1     1     1203           1205        -2     1501           1437\n 5  2013     1     1     1203           1200         3     1519           1545\n 6  2013     1     1     1204           1200         4     1500           1448\n 7  2013     1     1     1205           1200         5     1503           1505\n 8  2013     1     1     1206           1209        -3     1325           1328\n 9  2013     1     1     1208           1158        10     1540           1502\n10  2013     1     1     1211           1215        -4     1423           1413\n# â„¹ 99,126 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at how many flights arrived late on christmas day.\n\n## how many flights arrived LATE, on christmas day?\nlate_xmas = flights %&gt;%\n  filter(arr_time &gt; sched_arr_time) %&gt;%\n  filter(month == 12, day == 25)\n\n\n\n\n\nThe first leader:\n\n# do your work here\nleader |&gt;\n  filter(country == \"VNM\", yr_office == 1, age == 11)\n\n# A tibble: 1 Ã— 16\n  country gwcode leader    gender  year yr_office   age edu   mil_service combat\n  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;  &lt;dbl&gt;\n1 VNM        815 Thanh Thâ€¦ M       1889         1    11 Secoâ€¦           0      0\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;\n\n\nThe second leaders:\n\nleader |&gt;\n  filter(edu == \"Graduate\", year == 2015, yr_office == 16)\n\n# A tibble: 2 Ã— 16\n  country gwcode leader    gender  year yr_office   age edu   mil_service combat\n  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;  &lt;dbl&gt;\n1 RUS        365 Putin     M       2015        16    63 Gradâ€¦           0      0\n2 SYR        652 Bashar aâ€¦ M       2015        16    50 Gradâ€¦           1      0\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;\n\n\nThe third leaders:\n\nleader |&gt; filter(yr_office &gt; 20) |&gt;\n  filter(rebel == 1) |&gt;\n  filter(will_force &gt; 1.7)\n\n# A tibble: 46 Ã— 16\n   country gwcode leader gender  year yr_office   age edu     mil_service combat\n   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;\n 1 MEX         70 Diaz   M       1896        21    66 Univerâ€¦           1      1\n 2 MEX         70 Diaz   M       1897        22    67 Univerâ€¦           1      1\n 3 MEX         70 Diaz   M       1898        23    68 Univerâ€¦           1      1\n 4 MEX         70 Diaz   M       1899        24    69 Univerâ€¦           1      1\n 5 MEX         70 Diaz   M       1900        25    70 Univerâ€¦           1      1\n 6 MEX         70 Diaz   M       1901        26    71 Univerâ€¦           1      1\n 7 MEX         70 Diaz   M       1902        27    72 Univerâ€¦           1      1\n 8 MEX         70 Diaz   M       1903        28    73 Univerâ€¦           1      1\n 9 MEX         70 Diaz   M       1904        29    74 Univerâ€¦           1      1\n10 MEX         70 Diaz   M       1905        30    75 Univerâ€¦           1      1\n# â„¹ 36 more rows\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHere is how to do the climate example,\nGraph 1:\n\nsub_climate = climate |&gt;\n  filter(country == \"Germany\" | country == \"United States\" |\n           country == \"China\" | country == \"India\") |&gt;\n  mutate(co2_capita = co2 / population)\n\n\nggplot(data = sub_climate, aes(x = year, y = co2, color = country)) + geom_line()\n\n\n\n\n\n\n\n\nGraph 2:\n\nggplot(data = sub_climate, aes(x = year, y = co2_capita, color = country)) + geom_line()\n\n\n\n\n\n\n\n\n\n\n\nHere is how we classify elections based on who won:\n\ncat_elections = elections |&gt;\n  mutate(who_won = case_when(per_dem_2012 &gt; per_gop_2012 & per_dem_2016 &gt; per_gop_2016 ~ \"blue\",\n                             per_dem_2012 &lt; per_gop_2012 & per_dem_2016 &lt; per_gop_2016 ~ \"red\",\n                             per_dem_2012 &gt; per_gop_2012 & per_dem_2016 &lt; per_gop_2016 ~ \"flipped red\",\n                             per_dem_2012 &lt; per_gop_2012 & per_dem_2016 &gt; per_gop_2016 ~ \"flipped blue\"))\n\n\nggplot(cat_elections, aes(y = who_won, x = hh_income)) + geom_boxplot()"
  },
  {
    "objectID": "example/03-example.html#in-class-example",
    "href": "example/03-example.html#in-class-example",
    "title": "Data wrangling",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n wrangle-day1.R"
  },
  {
    "objectID": "example/03-example.html#filtering",
    "href": "example/03-example.html#filtering",
    "title": "Data wrangling",
    "section": "",
    "text": "Often, we have a big dataset that covers lots of stuff (say, all flights coming out of NYC in 2013) but weâ€™re only interested in a subset of those things (say, flights that arrived late over that time period). The filter() function is a way to subset operations that match some rule or set of rules (e.g., rule = â€œflights that arrived lateâ€). We define these rules using logical operators.\n\n\nLetâ€™s load the libraries.\n\n# libraries\nlibrary(tidyverse)\nlibrary(nycflights13)\n\nRemember you can look at the data like this.\n\n# look at the data\nView(flights) # open data in viewer\n?flights # read data documentation\n\nLetâ€™s look at flights from February.\n\n# look at fights, but only from February\nflights %&gt;%\n  filter(month == 2)\n\n# A tibble: 24,951 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     2     1      456            500        -4      652            648\n 2  2013     2     1      520            525        -5      816            820\n 3  2013     2     1      527            530        -3      837            829\n 4  2013     2     1      532            540        -8     1007           1017\n 5  2013     2     1      540            540         0      859            850\n 6  2013     2     1      552            600        -8      714            715\n 7  2013     2     1      552            600        -8      919            910\n 8  2013     2     1      552            600        -8      655            709\n 9  2013     2     1      553            600        -7      833            815\n10  2013     2     1      553            600        -7      821            825\n# â„¹ 24,941 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at flights on Valentineâ€™s Day.\n\n# now let's look at flights on Valentine's Day\nflights %&gt;%\n  filter(month == 2) %&gt;%\n  filter(day == 14)\n\n# A tibble: 956 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     2    14        7           2352        15      448            437\n 2  2013     2    14       59           2339        80      205            106\n 3  2013     2    14      454            500        -6      641            648\n 4  2013     2    14      510            515        -5      750            814\n 5  2013     2    14      531            530         1      828            831\n 6  2013     2    14      541            540         1      850            850\n 7  2013     2    14      542            545        -3     1014           1023\n 8  2013     2    14      551            600        -9      831            906\n 9  2013     2    14      552            600        -8      657            708\n10  2013     2    14      553            600        -7      902            856\n# â„¹ 946 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s try the OR logical operator by looking at flights going to ATL or SFO.\n\n# try one using text and the OR symbol\n# look at fights going to ATL or SFO\nflights %&gt;%\n  filter(dest == \"ATL\" | dest == \"SFO\")\n\n# A tibble: 30,546 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      554            600        -6      812            837\n 2  2013     1     1      558            600        -2      923            937\n 3  2013     1     1      600            600         0      837            825\n 4  2013     1     1      606            610        -4      837            845\n 5  2013     1     1      611            600        11      945            931\n 6  2013     1     1      615            615         0      833            842\n 7  2013     1     1      655            700        -5     1037           1045\n 8  2013     1     1      658            700        -2      944            939\n 9  2013     1     1      729            730        -1     1049           1115\n10  2013     1     1      734            737        -3     1047           1113\n# â„¹ 30,536 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at flights between noon and 5pm.\n\n# try one using greater than or less than\n# look at flights departing between 12pm and 5pm\nflights %&gt;%\n  filter(dep_time &gt;= 1200) %&gt;%\n  filter(dep_time &lt;= 1700)\n\n# A tibble: 99,136 Ã— 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1     1200           1200         0     1408           1356\n 2  2013     1     1     1202           1207        -5     1318           1314\n 3  2013     1     1     1202           1159         3     1645           1653\n 4  2013     1     1     1203           1205        -2     1501           1437\n 5  2013     1     1     1203           1200         3     1519           1545\n 6  2013     1     1     1204           1200         4     1500           1448\n 7  2013     1     1     1205           1200         5     1503           1505\n 8  2013     1     1     1206           1209        -3     1325           1328\n 9  2013     1     1     1208           1158        10     1540           1502\n10  2013     1     1     1211           1215        -4     1423           1413\n# â„¹ 99,126 more rows\n# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nLetâ€™s look at how many flights arrived late on christmas day.\n\n## how many flights arrived LATE, on christmas day?\nlate_xmas = flights %&gt;%\n  filter(arr_time &gt; sched_arr_time) %&gt;%\n  filter(month == 12, day == 25)"
  },
  {
    "objectID": "example/03-example.html#world-leaders",
    "href": "example/03-example.html#world-leaders",
    "title": "Data wrangling",
    "section": "",
    "text": "The first leader:\n\n# do your work here\nleader |&gt;\n  filter(country == \"VNM\", yr_office == 1, age == 11)\n\n# A tibble: 1 Ã— 16\n  country gwcode leader    gender  year yr_office   age edu   mil_service combat\n  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;  &lt;dbl&gt;\n1 VNM        815 Thanh Thâ€¦ M       1889         1    11 Secoâ€¦           0      0\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;\n\n\nThe second leaders:\n\nleader |&gt;\n  filter(edu == \"Graduate\", year == 2015, yr_office == 16)\n\n# A tibble: 2 Ã— 16\n  country gwcode leader    gender  year yr_office   age edu   mil_service combat\n  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;  &lt;dbl&gt;\n1 RUS        365 Putin     M       2015        16    63 Gradâ€¦           0      0\n2 SYR        652 Bashar aâ€¦ M       2015        16    50 Gradâ€¦           1      0\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;\n\n\nThe third leaders:\n\nleader |&gt; filter(yr_office &gt; 20) |&gt;\n  filter(rebel == 1) |&gt;\n  filter(will_force &gt; 1.7)\n\n# A tibble: 46 Ã— 16\n   country gwcode leader gender  year yr_office   age edu     mil_service combat\n   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;\n 1 MEX         70 Diaz   M       1896        21    66 Univerâ€¦           1      1\n 2 MEX         70 Diaz   M       1897        22    67 Univerâ€¦           1      1\n 3 MEX         70 Diaz   M       1898        23    68 Univerâ€¦           1      1\n 4 MEX         70 Diaz   M       1899        24    69 Univerâ€¦           1      1\n 5 MEX         70 Diaz   M       1900        25    70 Univerâ€¦           1      1\n 6 MEX         70 Diaz   M       1901        26    71 Univerâ€¦           1      1\n 7 MEX         70 Diaz   M       1902        27    72 Univerâ€¦           1      1\n 8 MEX         70 Diaz   M       1903        28    73 Univerâ€¦           1      1\n 9 MEX         70 Diaz   M       1904        29    74 Univerâ€¦           1      1\n10 MEX         70 Diaz   M       1905        30    75 Univerâ€¦           1      1\n# â„¹ 36 more rows\n# â„¹ 6 more variables: rebel &lt;dbl&gt;, yrs_exp &lt;dbl&gt;, phys_health &lt;dbl&gt;,\n#   mental_health &lt;dbl&gt;, will_force &lt;dbl&gt;, will_force_sd &lt;dbl&gt;"
  },
  {
    "objectID": "example/03-example.html#bots",
    "href": "example/03-example.html#bots",
    "title": "Data wrangling",
    "section": "",
    "text": "Note that you can use distinct to see all the values a variable takes on, like so:\n\nbot |&gt; \n  distinct(religion)\n\n# A tibble: 13 Ã— 1\n   religion                 \n   &lt;fct&gt;                    \n 1 Roman Catholic           \n 2 Protestant               \n 3 Jewish                   \n 4 Nothing in particular    \n 5 Agnostic                 \n 6 Atheist                  \n 7 Something else           \n 8 Mormon                   \n 9 Hindu                    \n10 Muslim                   \n11 Eastern or Greek Orthodox\n12 Buddhist                 \n13 &lt;NA&gt;                     \n\n\nHere is female voters, with post-graduate degrees, who voted for Trump:\n\nbot |&gt; \n  filter(sex == \"Female\", \n         votechoice == \"Donald J. Trump (Republican)\",\n         educ == \"Post-grad\")\n\n# A tibble: 748 Ã— 19\n   state        sex     age educ  race  pid7  ideo5 religion votechoice hispanic\n   &lt;fct&gt;        &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;    &lt;fct&gt;      &lt;fct&gt;   \n 1 South Carolâ€¦ Femaâ€¦    33 Postâ€¦ White Indeâ€¦ Modeâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 2 New York     Femaâ€¦    65 Postâ€¦ White Stroâ€¦ Consâ€¦ Roman Câ€¦ Donald J.â€¦ No      \n 3 Oregon       Femaâ€¦    55 Postâ€¦ White Not â€¦ Modeâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 4 Massachusetâ€¦ Femaâ€¦    67 Postâ€¦ White Leanâ€¦ Modeâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 5 New York     Femaâ€¦    65 Postâ€¦ White Stroâ€¦ Consâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 6 Iowa         Femaâ€¦    62 Postâ€¦ White Stroâ€¦ Veryâ€¦ Roman Câ€¦ Donald J.â€¦ No      \n 7 Wisconsin    Femaâ€¦    82 Postâ€¦ White Indeâ€¦ Consâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 8 Alaska       Femaâ€¦    45 Postâ€¦ White Stroâ€¦ Consâ€¦ Protestâ€¦ Donald J.â€¦ No      \n 9 Massachusetâ€¦ Femaâ€¦    50 Postâ€¦ White Stroâ€¦ Veryâ€¦ Easternâ€¦ Donald J.â€¦ No      \n10 Massachusetâ€¦ Femaâ€¦    73 Postâ€¦ White Leanâ€¦ Modeâ€¦ Roman Câ€¦ Donald J.â€¦ No      \n# â„¹ 738 more rows\n# â„¹ 9 more variables: know_governor &lt;fct&gt;, conceal &lt;fct&gt;, prochoice &lt;fct&gt;,\n#   cleanair &lt;fct&gt;, wall &lt;fct&gt;, mandmin &lt;fct&gt;, aca &lt;fct&gt;, minwage &lt;fct&gt;,\n#   newsint &lt;fct&gt;"
  },
  {
    "objectID": "example/03-example.html#mutating",
    "href": "example/03-example.html#mutating",
    "title": "Data wrangling",
    "section": "",
    "text": "Here is how to do the climate example,\nGraph 1:\n\nsub_climate = climate |&gt;\n  filter(country == \"Germany\" | country == \"United States\" |\n           country == \"China\" | country == \"India\") |&gt;\n  mutate(co2_capita = co2 / population)\n\n\nggplot(data = sub_climate, aes(x = year, y = co2, color = country)) + geom_line()\n\n\n\n\n\n\n\n\nGraph 2:\n\nggplot(data = sub_climate, aes(x = year, y = co2_capita, color = country)) + geom_line()\n\n\n\n\n\n\n\n\n\n\n\nHere is how we classify elections based on who won:\n\ncat_elections = elections |&gt;\n  mutate(who_won = case_when(per_dem_2012 &gt; per_gop_2012 & per_dem_2016 &gt; per_gop_2016 ~ \"blue\",\n                             per_dem_2012 &lt; per_gop_2012 & per_dem_2016 &lt; per_gop_2016 ~ \"red\",\n                             per_dem_2012 &gt; per_gop_2012 & per_dem_2016 &lt; per_gop_2016 ~ \"flipped red\",\n                             per_dem_2012 &lt; per_gop_2012 & per_dem_2016 &gt; per_gop_2016 ~ \"flipped blue\"))\n\n\nggplot(cat_elections, aes(y = who_won, x = hh_income)) + geom_boxplot()"
  },
  {
    "objectID": "example/01-example.html",
    "href": "example/01-example.html",
    "title": "Getting started",
    "section": "",
    "text": "Your first class script eat-cake.R does two things:\n\ntakes data that records every vote at the UN going back decades and cleans it\nvisualizes voting patterns over time for the US and Turkey\n\nAt this point, none of this should â€œmake senseâ€ to you. You do not need to understand what each line of code here does. I just want you to run the code and try to make sense of what the different parts are doing.\nLetâ€™s break the script down:\nThe first thing the script does is load a set of packages, or libraries, which will give us access to the UN data and functions to use with that data.\n\nlibrary(tidyverse)\nlibrary(unvotes)\nlibrary(lubridate)\nlibrary(scales)\n\nWe can see some of the UN data below:\n\n\n\n\n\nrcid\ncountry\ncountry_code\nvote\n\n\n\n\n3\nUnited States\nUS\nyes\n\n\n3\nCanada\nCA\nno\n\n\n3\nCuba\nCU\nyes\n\n\n3\nHaiti\nHT\nyes\n\n\n3\nDominican Republic\nDO\nyes\n\n\n\n\n\nThe variable rcid is the way the data identifies the issue being voted on. So on RCID 3, the US voted â€œyesâ€ while Canada voted â€œnoâ€.\nHere are some of the issues:\n\n\n\n\n\nrcid\ndate\nshort\n\n\n\n\n3\n1946-01-01\nAMENDMENTS, RULES OF PROCEDURE\n\n\n4\n1946-01-02\nSECURITY COUNCIL ELECTIONS\n\n\n5\n1946-01-04\nVOTING PROCEDURE\n\n\n6\n1946-01-04\nDECLARATION OF HUMAN RIGHTS\n\n\n7\n1946-01-02\nGENERAL ASSEMBLY ELECTIONS\n\n\n\n\n\nThe next chunk of code takes the UN voting data and calculates the percentage of times the US and Turkey voted â€œyesâ€ on an issue in each year for which there is data.\nYou can see the results of this below:\n\n\n\n\n\ncountry\nyear\nissue\nvotes\npercent_yes\n\n\n\n\nTurkey\n1946\nColonialism\n15\n0.80\n\n\nTurkey\n1946\nEconomic development\n10\n0.60\n\n\nTurkey\n1947\nColonialism\n9\n0.22\n\n\nTurkey\n1947\nPalestinian conflict\n7\n0.14\n\n\nTurkey\n1948\nColonialism\n12\n0.42\n\n\nTurkey\n1948\nArms control and disarmament\n9\n0.00\n\n\n\n\n\nSo in 1946 Turkey voted 15 times on issues related to â€œColonialismâ€, and of those votes, 80% were a â€œyesâ€.\nThis last bit of code produces the visualization:\n\nggplot(un_yes, aes(x = year, y = percent_yes, color = country)) +\n  geom_point() +\n  geom_smooth(method = \"loess\", se = FALSE) +\n  facet_wrap(~ issue) +\n  labs(\n    title = \"Percentage of 'Yes' votes in the UN General Assembly\",\n    subtitle = \"1946 to 2015\",\n    y = \"% Yes\",\n    x = \"Year\",\n    color = \"Country\"\n  ) +\n  scale_y_continuous(labels = percent)\n\n\n\n\n\n\n\n\nTry playing around with the code! What happens when you replace the United States and/or Turkey with another country?"
  },
  {
    "objectID": "example/01-example.html#example-un-voting-patterns",
    "href": "example/01-example.html#example-un-voting-patterns",
    "title": "Getting started",
    "section": "",
    "text": "Your first class script eat-cake.R does two things:\n\ntakes data that records every vote at the UN going back decades and cleans it\nvisualizes voting patterns over time for the US and Turkey\n\nAt this point, none of this should â€œmake senseâ€ to you. You do not need to understand what each line of code here does. I just want you to run the code and try to make sense of what the different parts are doing.\nLetâ€™s break the script down:\nThe first thing the script does is load a set of packages, or libraries, which will give us access to the UN data and functions to use with that data.\n\nlibrary(tidyverse)\nlibrary(unvotes)\nlibrary(lubridate)\nlibrary(scales)\n\nWe can see some of the UN data below:\n\n\n\n\n\nrcid\ncountry\ncountry_code\nvote\n\n\n\n\n3\nUnited States\nUS\nyes\n\n\n3\nCanada\nCA\nno\n\n\n3\nCuba\nCU\nyes\n\n\n3\nHaiti\nHT\nyes\n\n\n3\nDominican Republic\nDO\nyes\n\n\n\n\n\nThe variable rcid is the way the data identifies the issue being voted on. So on RCID 3, the US voted â€œyesâ€ while Canada voted â€œnoâ€.\nHere are some of the issues:\n\n\n\n\n\nrcid\ndate\nshort\n\n\n\n\n3\n1946-01-01\nAMENDMENTS, RULES OF PROCEDURE\n\n\n4\n1946-01-02\nSECURITY COUNCIL ELECTIONS\n\n\n5\n1946-01-04\nVOTING PROCEDURE\n\n\n6\n1946-01-04\nDECLARATION OF HUMAN RIGHTS\n\n\n7\n1946-01-02\nGENERAL ASSEMBLY ELECTIONS\n\n\n\n\n\nThe next chunk of code takes the UN voting data and calculates the percentage of times the US and Turkey voted â€œyesâ€ on an issue in each year for which there is data.\nYou can see the results of this below:\n\n\n\n\n\ncountry\nyear\nissue\nvotes\npercent_yes\n\n\n\n\nTurkey\n1946\nColonialism\n15\n0.80\n\n\nTurkey\n1946\nEconomic development\n10\n0.60\n\n\nTurkey\n1947\nColonialism\n9\n0.22\n\n\nTurkey\n1947\nPalestinian conflict\n7\n0.14\n\n\nTurkey\n1948\nColonialism\n12\n0.42\n\n\nTurkey\n1948\nArms control and disarmament\n9\n0.00\n\n\n\n\n\nSo in 1946 Turkey voted 15 times on issues related to â€œColonialismâ€, and of those votes, 80% were a â€œyesâ€.\nThis last bit of code produces the visualization:\n\nggplot(un_yes, aes(x = year, y = percent_yes, color = country)) +\n  geom_point() +\n  geom_smooth(method = \"loess\", se = FALSE) +\n  facet_wrap(~ issue) +\n  labs(\n    title = \"Percentage of 'Yes' votes in the UN General Assembly\",\n    subtitle = \"1946 to 2015\",\n    y = \"% Yes\",\n    x = \"Year\",\n    color = \"Country\"\n  ) +\n  scale_y_continuous(labels = percent)\n\n\n\n\n\n\n\n\nTry playing around with the code! What happens when you replace the United States and/or Turkey with another country?"
  },
  {
    "objectID": "content/10-content.html",
    "href": "content/10-content.html",
    "title": "Uncertainty",
    "section": "",
    "text": "Chapter 7 from ModernDive",
    "crumbs": [
      "Class materials",
      "Uncertainty"
    ]
  },
  {
    "objectID": "content/10-content.html#optional",
    "href": "content/10-content.html#optional",
    "title": "Uncertainty",
    "section": "",
    "text": "Chapter 7 from ModernDive",
    "crumbs": [
      "Class materials",
      "Uncertainty"
    ]
  },
  {
    "objectID": "content/10-content.html#slides",
    "href": "content/10-content.html#slides",
    "title": "Uncertainty",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "Uncertainty"
    ]
  },
  {
    "objectID": "content/08-content.html",
    "href": "content/08-content.html",
    "title": "DAGs",
    "section": "",
    "text": "work through the examples in the ggdag package vignette here.1\n Directed Acyclical Graphs in Causal Inference: The Mixtape2",
    "crumbs": [
      "Class materials",
      "DAGs"
    ]
  },
  {
    "objectID": "content/08-content.html#optional",
    "href": "content/08-content.html#optional",
    "title": "DAGs",
    "section": "",
    "text": "work through the examples in the ggdag package vignette here.1\n Directed Acyclical Graphs in Causal Inference: The Mixtape2",
    "crumbs": [
      "Class materials",
      "DAGs"
    ]
  },
  {
    "objectID": "content/08-content.html#slides",
    "href": "content/08-content.html#slides",
    "title": "DAGs",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "DAGs"
    ]
  },
  {
    "objectID": "content/08-content.html#footnotes",
    "href": "content/08-content.html#footnotes",
    "title": "DAGs",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nDonâ€™t just copy/paste the code; write it out yourself! Change the variables in the smoking/cancer example to something of interest to you.â†©ï¸\nThis reading is mathy-er than what weâ€™ve covered so far. It also features code from STATA, which we donâ€™t use. Donâ€™t worry about that so much; we will focus on broad concepts/ideas.â†©ï¸",
    "crumbs": [
      "Class materials",
      "DAGs"
    ]
  },
  {
    "objectID": "content/06-content.html",
    "href": "content/06-content.html",
    "title": "Prediction",
    "section": "",
    "text": "CH.6 in ModernDive, but ignore the stuff on interactions",
    "crumbs": [
      "Class materials",
      "Prediction"
    ]
  },
  {
    "objectID": "content/06-content.html#optional",
    "href": "content/06-content.html#optional",
    "title": "Prediction",
    "section": "",
    "text": "CH.6 in ModernDive, but ignore the stuff on interactions",
    "crumbs": [
      "Class materials",
      "Prediction"
    ]
  },
  {
    "objectID": "content/06-content.html#slides",
    "href": "content/06-content.html#slides",
    "title": "Prediction",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "Prediction"
    ]
  },
  {
    "objectID": "content/04-content.html",
    "href": "content/04-content.html",
    "title": "Relationships",
    "section": "",
    "text": "Ch. 3 in ModernDive\n Ch. 5 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Relationships"
    ]
  },
  {
    "objectID": "content/04-content.html#optional",
    "href": "content/04-content.html#optional",
    "title": "Relationships",
    "section": "",
    "text": "Ch. 3 in ModernDive\n Ch. 5 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Relationships"
    ]
  },
  {
    "objectID": "content/04-content.html#slides",
    "href": "content/04-content.html#slides",
    "title": "Relationships",
    "section": "Slides",
    "text": "Slides\n\nDay one\n\n View all slides in new window\n\n\n\nDay two\n\n View all slides in new window",
    "crumbs": [
      "Class materials",
      "Relationships"
    ]
  },
  {
    "objectID": "content/02-content.html",
    "href": "content/02-content.html",
    "title": "Data visualization",
    "section": "",
    "text": "Ch.2 in ModernDive on Data Visualization\n Ch.3 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Data visualization"
    ]
  },
  {
    "objectID": "content/02-content.html#optional",
    "href": "content/02-content.html#optional",
    "title": "Data visualization",
    "section": "",
    "text": "Ch.2 in ModernDive on Data Visualization\n Ch.3 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Data visualization"
    ]
  },
  {
    "objectID": "content/02-content.html#slides",
    "href": "content/02-content.html#slides",
    "title": "Data visualization",
    "section": "Slides",
    "text": "Slides\n\nDay one\n\n View all slides in new window\n\n\n\nDay two\n\n View all slides in new window\n\n\n\n\n\n\n\nTip\n\n\n\nIf you press E while going through the slides, you can print them as a PDF.",
    "crumbs": [
      "Class materials",
      "Data visualization"
    ]
  },
  {
    "objectID": "assignment/index.html#preparation",
    "href": "assignment/index.html#preparation",
    "title": "Overview",
    "section": "Preparation",
    "text": "Preparation\nYou will succeed in this class if you (1) attend lecture, (2) attend section, and (3) do the problem sets."
  },
  {
    "objectID": "assignment/index.html#weekly-check-in",
    "href": "assignment/index.html#weekly-check-in",
    "title": "Overview",
    "section": "Weekly check-in",
    "text": "Weekly check-in\nEvery week, while you finish working through the content, I want to hear about what you learned and what questions you still have. To do this, you will fill out a short-response on Canvas that simply asks you what you:\n\nfound interesting or compelling from the content so far\nfound confusing or muddly from the content so far."
  },
  {
    "objectID": "assignment/index.html#problem-sets",
    "href": "assignment/index.html#problem-sets",
    "title": "Overview",
    "section": "Problem sets",
    "text": "Problem sets\nTo practice working with data you will complete problem sets throughout the quarter. Feel free to work together on the problem sets but you must turn in your own answers to Canvas. You cannot work in groups of more than three people."
  },
  {
    "objectID": "assignment/index.html#coding-challenges-extra-credit",
    "href": "assignment/index.html#coding-challenges-extra-credit",
    "title": "Overview",
    "section": "Coding challenges (extra credit)",
    "text": "Coding challenges (extra credit)\nFrom time to time, I will hold in-lecture ğŸ”¥ğŸ”¥ coding challenges ğŸ”¥ğŸ”¥ that the whole class will participate in. Students will have the opportunity to earn extra credit during these challenges."
  },
  {
    "objectID": "assignment/index.html#exams",
    "href": "assignment/index.html#exams",
    "title": "Overview",
    "section": "Exams",
    "text": "Exams\nWe will hold midterm and final exams. The exams will be in-person. The format will either be multiple choice (scantrons) or written (blue books) or a combination of the two."
  },
  {
    "objectID": "assignment/index.html#honor-code",
    "href": "assignment/index.html#honor-code",
    "title": "Overview",
    "section": "Honor Code",
    "text": "Honor Code\nBe nice. Donâ€™t cheat. The Code of Academic Conduct is in effect in this class and all others at the University. I will treat violations seriously. If you have doubts, it is your responsibility to ask about the Codeâ€™s application."
  },
  {
    "objectID": "assignment/index.html#chatgpt-and-other-llms",
    "href": "assignment/index.html#chatgpt-and-other-llms",
    "title": "Overview",
    "section": "ChatGPT (and other LLMs)",
    "text": "ChatGPT (and other LLMs)\nThe world is still figuring out how to deal with large language models (LLMs) like ChatGPT. My view is that ChatGPT is not functionally different from searching through online forums, Google, etc., for how to complete coding tasks. This is good practice, and I donâ€™t want to discourage that, but there are limits:\n\nwhat is allowed. You are allowed to use ChatGPT to figure out how to complete coding tasks (e.g., how do I make a barplot?)\nwhat is not allowed. You are not allowed to pass off ChatGPTâ€™s writing as if it was your own (e.g., submitting ChatGPTâ€™s interpretation of some graph or data pattern) or ChatGPT code as your own (e.g., mindlessly pasting ChatGPT code into your homework)\nBe careful. In my experience, these tools can be unreliable. Plus, if you over rely on them and donâ€™t develop an understanding of the mechanics, youâ€™ll likely suffer during the in-class exams."
  },
  {
    "objectID": "assignment/index.html#grade-disputes",
    "href": "assignment/index.html#grade-disputes",
    "title": "Overview",
    "section": "Grade disputes",
    "text": "Grade disputes\nIf you believe that you received the wrong grade on an assignment or exam:\n\nsend an email specifying exactly which questions you believe were graded incorrectly, and provide specific justification for why your answer is the correct one. We will then regrade your entire assignment. Your grade may go up, down, or stay the same\nI will only accept grade appeals up to three days after the posting of a grade"
  },
  {
    "objectID": "assignment/index.html#extensions-on-assignments",
    "href": "assignment/index.html#extensions-on-assignments",
    "title": "Overview",
    "section": "Extensions on assignments",
    "text": "Extensions on assignments\nYou can turn in the problem set/weekly check-in one day late, no questions asked, though you will lose a full letter-grade. Beyond that I will not accept late assignments without a formal excuse (e.g., a doctorâ€™s note), so donâ€™t ask! The final project will not be accepted late."
  },
  {
    "objectID": "assignment/09-assignment.html",
    "href": "assignment/09-assignment.html",
    "title": "Uncertainty",
    "section": "",
    "text": "Download this:  ps-uncertainty\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/09-assignment.html#instructions",
    "href": "assignment/09-assignment.html#instructions",
    "title": "Uncertainty",
    "section": "",
    "text": "Download this:  ps-uncertainty\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/09-assignment.html#tips",
    "href": "assignment/09-assignment.html#tips",
    "title": "Uncertainty",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/07-assignment.html",
    "href": "assignment/07-assignment.html",
    "title": "Causality",
    "section": "",
    "text": "Download this:  ps-causality\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/07-assignment.html#instructions",
    "href": "assignment/07-assignment.html#instructions",
    "title": "Causality",
    "section": "",
    "text": "Download this:  ps-causality\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/07-assignment.html#tips",
    "href": "assignment/07-assignment.html#tips",
    "title": "Causality",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/04-assignment.html",
    "href": "assignment/04-assignment.html",
    "title": "Relationships",
    "section": "",
    "text": "Download this:  ps-relationships.qmd\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/04-assignment.html#instructions",
    "href": "assignment/04-assignment.html#instructions",
    "title": "Relationships",
    "section": "",
    "text": "Download this:  ps-relationships.qmd\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/04-assignment.html#tips",
    "href": "assignment/04-assignment.html#tips",
    "title": "Relationships",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/02-assignment.html",
    "href": "assignment/02-assignment.html",
    "title": "Visualization",
    "section": "",
    "text": "A helpful video is available to guide you through the process of completing this assignment\n\nDownload this file:  ps-viz.qmd\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/02-assignment.html#instructions",
    "href": "assignment/02-assignment.html#instructions",
    "title": "Visualization",
    "section": "",
    "text": "A helpful video is available to guide you through the process of completing this assignment\n\nDownload this file:  ps-viz.qmd\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/02-assignment.html#tips",
    "href": "assignment/02-assignment.html#tips",
    "title": "Visualization",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/03-assignment.html",
    "href": "assignment/03-assignment.html",
    "title": "Wrangling",
    "section": "",
    "text": "Download this:  ps-wrangle\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/03-assignment.html#instructions",
    "href": "assignment/03-assignment.html#instructions",
    "title": "Wrangling",
    "section": "",
    "text": "Download this:  ps-wrangle\n\nright-click, â€œsave/download file asâ€¦â€\n\nUpload to Posit Cloud\nComplete all of the coding tasks, write down your answers to the questions, and save the file\nOnce you are done, export the .qmd file and go on Canvas and answer the questions related to the assignment\nYou will submit your .qmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/03-assignment.html#tips",
    "href": "assignment/03-assignment.html#tips",
    "title": "Wrangling",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/06-assignment.html",
    "href": "assignment/06-assignment.html",
    "title": "Models and prediction",
    "section": "",
    "text": "Download this:  ps-models-predict\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/06-assignment.html#instructions",
    "href": "assignment/06-assignment.html#instructions",
    "title": "Models and prediction",
    "section": "",
    "text": "Download this:  ps-models-predict\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/06-assignment.html#tips",
    "href": "assignment/06-assignment.html#tips",
    "title": "Models and prediction",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/08-assignment.html",
    "href": "assignment/08-assignment.html",
    "title": "Hello",
    "section": "",
    "text": "Download this:  ps-dags\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/08-assignment.html#instructions",
    "href": "assignment/08-assignment.html#instructions",
    "title": "Hello",
    "section": "",
    "text": "Download this:  ps-dags\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/08-assignment.html#tips",
    "href": "assignment/08-assignment.html#tips",
    "title": "Hello",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "assignment/10-assignment.html",
    "href": "assignment/10-assignment.html",
    "title": "Hello",
    "section": "",
    "text": "Download this:  FILE NAME\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/10-assignment.html#instructions",
    "href": "assignment/10-assignment.html#instructions",
    "title": "Hello",
    "section": "",
    "text": "Download this:  FILE NAME\n\nright-click, â€œsave/download file asâ€¦â€\n\nComplete all of the coding tasks in the .Rmd file\nOnce you are done, go on Canvas and answer the questions related to the assignment\nYou will submit your .Rmd file in the Canvas assignment"
  },
  {
    "objectID": "assignment/10-assignment.html#tips",
    "href": "assignment/10-assignment.html#tips",
    "title": "Hello",
    "section": "Tips",
    "text": "Tips\n\nMake sure you:\n\nrun all of the code chunks that already have code in them\nwrite your code in the empty code chunks\n\nUseful shortcuts:\n\nto run all the code in a specific code chunk, press the green right-facing triangle at the top right of the code chunk\nto run all prior code chunks, press the downward-facing gray triangle at the top right of the code chunk"
  },
  {
    "objectID": "content/01-content.html",
    "href": "content/01-content.html",
    "title": "Hello",
    "section": "",
    "text": "Fill out the Google From I sent you so I can get to know you.",
    "crumbs": [
      "Class materials",
      "Hello"
    ]
  },
  {
    "objectID": "content/01-content.html#getting-to-know-you",
    "href": "content/01-content.html#getting-to-know-you",
    "title": "Hello",
    "section": "",
    "text": "Fill out the Google From I sent you so I can get to know you.",
    "crumbs": [
      "Class materials",
      "Hello"
    ]
  },
  {
    "objectID": "content/01-content.html#required",
    "href": "content/01-content.html#required",
    "title": "Hello",
    "section": "Required",
    "text": "Required\n\nThe syllabus and assignments page\nThe guide to using RStudio on the web",
    "crumbs": [
      "Class materials",
      "Hello"
    ]
  },
  {
    "objectID": "content/01-content.html#slides",
    "href": "content/01-content.html#slides",
    "title": "Hello",
    "section": "Slides",
    "text": "Slides\nNone this week but this is where they would appear.",
    "crumbs": [
      "Class materials",
      "Hello"
    ]
  },
  {
    "objectID": "content/03-content.html",
    "href": "content/03-content.html",
    "title": "Data wrangling",
    "section": "",
    "text": "Ch. 3 in ModernDive\n Ch. 5 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Data wrangling"
    ]
  },
  {
    "objectID": "content/03-content.html#optional",
    "href": "content/03-content.html#optional",
    "title": "Data wrangling",
    "section": "",
    "text": "Ch. 3 in ModernDive\n Ch. 5 in R for Data Science",
    "crumbs": [
      "Class materials",
      "Data wrangling"
    ]
  },
  {
    "objectID": "content/03-content.html#recommended",
    "href": "content/03-content.html#recommended",
    "title": "Data wrangling",
    "section": "Recommended",
    "text": "Recommended\n\nDownload this cheat sheet and have it somewhere handy while youâ€™re doing work in this course\n\n\nDay one\n\n View all slides in new window\n\n\n\nDay two\n\n View all slides in new window\n\n\n\n\n\n\n\nTip\n\n\n\nIf you press E while going through the slides, you can print them as a PDF.",
    "crumbs": [
      "Class materials",
      "Data wrangling"
    ]
  },
  {
    "objectID": "content/05-content.html",
    "href": "content/05-content.html",
    "title": "Modeling",
    "section": "",
    "text": "CH.5 in ModernDive",
    "crumbs": [
      "Class materials",
      "Modeling"
    ]
  },
  {
    "objectID": "content/05-content.html#optional",
    "href": "content/05-content.html#optional",
    "title": "Modeling",
    "section": "",
    "text": "CH.5 in ModernDive",
    "crumbs": [
      "Class materials",
      "Modeling"
    ]
  },
  {
    "objectID": "content/05-content.html#slides",
    "href": "content/05-content.html#slides",
    "title": "Modeling",
    "section": "Slides",
    "text": "Slides\n\nDay one\n\n View all slides in new window",
    "crumbs": [
      "Class materials",
      "Modeling"
    ]
  },
  {
    "objectID": "content/07-content.html",
    "href": "content/07-content.html",
    "title": "Causality",
    "section": "",
    "text": "Introduction in Causal Inference: The Mixtape1",
    "crumbs": [
      "Class materials",
      "Causality"
    ]
  },
  {
    "objectID": "content/07-content.html#optional",
    "href": "content/07-content.html#optional",
    "title": "Causality",
    "section": "",
    "text": "Introduction in Causal Inference: The Mixtape1",
    "crumbs": [
      "Class materials",
      "Causality"
    ]
  },
  {
    "objectID": "content/07-content.html#slides",
    "href": "content/07-content.html#slides",
    "title": "Causality",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "Causality"
    ]
  },
  {
    "objectID": "content/07-content.html#footnotes",
    "href": "content/07-content.html#footnotes",
    "title": "Causality",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThis reading is mathy-er than what weâ€™ve covered so far. It also features code from STATA, which we donâ€™t use. Donâ€™t worry about that so much; we will focus on broad concepts/ideas.â†©ï¸",
    "crumbs": [
      "Class materials",
      "Causality"
    ]
  },
  {
    "objectID": "content/09-content.html",
    "href": "content/09-content.html",
    "title": "Natural experiments",
    "section": "",
    "text": "Natural experiments in the social sciences: A design-based approach. Thad Dunning (2012).",
    "crumbs": [
      "Class materials",
      "Natural experiments"
    ]
  },
  {
    "objectID": "content/09-content.html#optional",
    "href": "content/09-content.html#optional",
    "title": "Natural experiments",
    "section": "",
    "text": "Natural experiments in the social sciences: A design-based approach. Thad Dunning (2012).",
    "crumbs": [
      "Class materials",
      "Natural experiments"
    ]
  },
  {
    "objectID": "content/09-content.html#slides",
    "href": "content/09-content.html#slides",
    "title": "Natural experiments",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "Natural experiments"
    ]
  },
  {
    "objectID": "content/11-content.html",
    "href": "content/11-content.html",
    "title": "Hypothesis testing",
    "section": "",
    "text": "Chapter 7 in ModernDive",
    "crumbs": [
      "Class materials",
      "Hypothesis testing"
    ]
  },
  {
    "objectID": "content/11-content.html#optional",
    "href": "content/11-content.html#optional",
    "title": "Hypothesis testing",
    "section": "",
    "text": "Chapter 7 in ModernDive",
    "crumbs": [
      "Class materials",
      "Hypothesis testing"
    ]
  },
  {
    "objectID": "content/11-content.html#slides",
    "href": "content/11-content.html#slides",
    "title": "Hypothesis testing",
    "section": "Slides",
    "text": "Slides",
    "crumbs": [
      "Class materials",
      "Hypothesis testing"
    ]
  },
  {
    "objectID": "example/02-example.html",
    "href": "example/02-example.html",
    "title": "Data visualization",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class:\n\nDay one: ğŸ‘©â€ğŸ’» 01-viz-code.R\nDay two: ğŸ‘©â€ğŸ’» 02-viz-code.R\n\nInstructions:\n\nDownload it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€.\nUpload to Posit Cloud\n\n\n\n\n\n\n\n\n\n\n\n\nWeâ€™re working with elections_historic from the {socviz} package. This code loads {socviz}, {tidyverse} (where ggplot() lives) and the dataset:\n\nlibrary(tidyverse)\nlibrary(socviz)\nelections_historic\n\n# A tibble: 49 Ã— 19\n   election  year winner      win_party ec_pct popular_pct popular_margin  votes\n      &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;          &lt;dbl&gt;  &lt;int&gt;\n 1       10  1824 John Quincâ€¦ D.-R.      0.322       0.309        -0.104  1.13e5\n 2       11  1828 Andrew Jacâ€¦ Dem.       0.682       0.559         0.122  6.43e5\n 3       12  1832 Andrew Jacâ€¦ Dem.       0.766       0.547         0.178  7.03e5\n 4       13  1836 Martin Vanâ€¦ Dem.       0.578       0.508         0.142  7.63e5\n 5       14  1840 William Heâ€¦ Whig       0.796       0.529         0.0605 1.28e6\n 6       15  1844 James Polk  Dem.       0.618       0.495         0.0145 1.34e6\n 7       16  1848 Zachary Taâ€¦ Whig       0.562       0.473         0.0479 1.36e6\n 8       17  1852 Franklin Pâ€¦ Dem.       0.858       0.508         0.0695 1.61e6\n 9       18  1856 James Buchâ€¦ Dem.       0.588       0.453         0.122  1.84e6\n10       19  1860 Abraham Liâ€¦ Rep.       0.594       0.396         0.101  1.86e6\n# â„¹ 39 more rows\n# â„¹ 11 more variables: margin &lt;int&gt;, runner_up &lt;chr&gt;, ru_part &lt;chr&gt;,\n#   turnout_pct &lt;dbl&gt;, winner_lname &lt;chr&gt;, winner_label &lt;chr&gt;, ru_lname &lt;chr&gt;,\n#   ru_label &lt;chr&gt;, two_term &lt;lgl&gt;, ec_votes &lt;dbl&gt;, ec_denom &lt;dbl&gt;\n\n\nWe start with ggplot():\n\nggplot()\n\n\n\n\n\n\n\n\nTell it what data we are plotting:\n\nggplot(data = elections_historic)\n\n\n\n\n\n\n\n\nMap the x and y-axis within aes():\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct))\n\n\n\n\n\n\n\n\nAdd a point geometry:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct)) + geom_point()\n\n\n\n\n\n\n\n\nGo back and map color and shape aesthetics:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term)) + geom_point()\n\n\n\n\n\n\n\n\nAdd labels by mapping the label aesthetic and adding a geom_text geometry:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term,\n                               label = winner_label)) +\n  geom_point() +\n  geom_text()\n\n\n\n\n\n\n\n\nHereâ€™s the final code, all put together, changing the axis titles using labs():\n\n# load libraries\nlibrary(tidyverse)\nlibrary(socviz)\n\n# make plot\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct, color = win_party,\n                               shape = two_term, label = winner_label)) +\n  geom_point() + geom_text() + labs(x = \"Percent of popular vote\",\n                                    y = \"Percent of Electoral College vote\",\n                                    title = \"Presidential Elections (1824-2016)\",\n                                    color = NULL, size = NULL)\n\n\n\n\n\n\n\n\n\n\nHereâ€™s some other stuff Iâ€™m adding to make this graph better (that youâ€™re not responsible for):\n\n# load libraries\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(ggrepel)\n\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term,\n                               label = winner_label)) +\n  geom_point() +\n  geom_text_repel() +\n  labs(x = \"Percent of popular vote\",\n                                    y = \"Percent of Electoral College vote\",\n                                    title = \"Presidential Elections (1824-2016)\",\n                                    color = NULL, size = NULL) +\n  scale_y_continuous(labels = scales::percent) +\n  scale_x_continuous(labels = scales::percent) +\n  scale_color_manual(values = c(yellow, red, blue, \"gray\")) +\n  geom_hline(yintercept = 0.5, size = 1.4, color = \"gray80\") +\n    geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +  theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\n\n\nThe recession graph from class:\n\nggplot(data = economics, aes(x = date, y = unemploy)) +\n  geom_line()\n\n\n\n\n\n\n\n\n\n\n\nThe organ data plot:\n\nggplot(data = organdata, aes(x = donors, fill = opt)) +\n  geom_histogram()"
  },
  {
    "objectID": "example/04-example.html",
    "href": "example/04-example.html",
    "title": "Relationships",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 04-summarize.R\n 05-summarize.R"
  },
  {
    "objectID": "example/04-example.html#in-class-example",
    "href": "example/04-example.html#in-class-example",
    "title": "Relationships",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 04-summarize.R\n 05-summarize.R"
  },
  {
    "objectID": "example/04-example.html#summarize",
    "href": "example/04-example.html#summarize",
    "title": "Relationships",
    "section": "Summarize",
    "text": "Summarize\nLetâ€™s load the libraries.\n\n# libraries\nlibrary(tidyverse)\nlibrary(nycflights13)\nlibrary(fivethirtyeight)\nlibrary(juanr)"
  },
  {
    "objectID": "example/04-example.html#class-trade",
    "href": "example/04-example.html#class-trade",
    "title": "Relationships",
    "section": "Class: trade",
    "text": "Class: trade\nIGOS in 1960:\n\ntrade |&gt;\n  filter(year == 1960) |&gt;\n  summarise(med_igos = median(sum_igos))\n\n# A tibble: 1 Ã— 1\n  med_igos\n     &lt;dbl&gt;\n1       33\n\n\nIGOS in 1960:\n\ntrade |&gt;\n  filter(year == 2010) |&gt;\n  summarise(med_igos = median(sum_igos))\n\n# A tibble: 1 Ã— 1\n  med_igos\n     &lt;dbl&gt;\n1       66\n\n\nAt least one sea border:\n\ntrade |&gt;\n  filter(year == 2010, sea_borders &gt;= 1) |&gt;\n  summarise(mean_exports = mean(exports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  mean_exports\n         &lt;dbl&gt;\n1      105389.\n\n\nNo sea border:\n\ntrade |&gt;\n  filter(year == 2010, sea_borders &gt;= 1) |&gt;\n  summarise(mean_exports = mean(exports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  mean_exports\n         &lt;dbl&gt;\n1      105389.\n\n\nMost exports:\n\ntrade |&gt;\n  filter(year == 2012) |&gt;\n  filter(exports == max(exports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 10\n  country  year  imports  exports     gdp         pop land_borders sea_borders\n  &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;\n1 China    2012 2331123. 2494240. 1.79e13 1310926531.           14           4\n# â„¹ 2 more variables: min_cap_dist &lt;dbl&gt;, sum_igos &lt;dbl&gt;"
  },
  {
    "objectID": "example/04-example.html#class-feeling-thermometer",
    "href": "example/04-example.html#class-feeling-thermometer",
    "title": "Relationships",
    "section": "Class: feeling thermometer",
    "text": "Class: feeling thermometer\nAttitudes towards the police, comparing Democrats and Republicans:\n\ntherm |&gt;\n  filter(party_id == \"Democrat\" | party_id == \"Republican\") %&gt;% \n  group_by(party_id) |&gt;\n  summarise(ft_police = mean(ft_police, na.rm = TRUE))\n\n# A tibble: 2 Ã— 2\n  party_id   ft_police\n  &lt;fct&gt;          &lt;dbl&gt;\n1 Democrat        67.8\n2 Republican      87.6"
  },
  {
    "objectID": "example/04-example.html#nyc-flights-examples",
    "href": "example/04-example.html#nyc-flights-examples",
    "title": "Relationships",
    "section": "NYC Flights examples",
    "text": "NYC Flights examples\nSay we wanted to know how late in departure is the average flight in our dataset and whatâ€™s the latest a flight has ever been?\n\n## on average, how late are flights in departing?\nflights %&gt;%\n  summarise(avg_late = mean(dep_delay, na.rm = TRUE),\n            most_late = max(dep_delay, na.rm = TRUE))\n\n# A tibble: 1 Ã— 2\n  avg_late most_late\n     &lt;dbl&gt;     &lt;dbl&gt;\n1     12.6      1301\n\n\nNot the na.rm = TRUE above and what happens if you remove it. The problem is there are missing values (NA) in our data, and R canâ€™t take the average of a bunch of numbers where some are missing. na.rm = TRUE tells R to ignore those missing numbers and use only the complete observations."
  },
  {
    "objectID": "example/04-example.html#summarize-group_by",
    "href": "example/04-example.html#summarize-group_by",
    "title": "Relationships",
    "section": "Summarize + group_by()",
    "text": "Summarize + group_by()\nSay we wanted to know how average departure delays vary across airlines. Conceptually, this means taking the average of departure delays for each airline in the dataset separately. We can do this by combining group_by() and summarise().\n\n# what if we wanted to know these statistics\n## for each month in our dataset?\ncarrier_late = flights %&gt;%\n  group_by(carrier) %&gt;%\n  summarise(avg_late = mean(dep_delay, na.rm = TRUE),\n            most_late = max(dep_delay, na.rm = TRUE))\n\n\n# make a plot\nggplot(carrier_late, aes(y = reorder(carrier, avg_late), x = avg_late)) +\n  geom_col()"
  },
  {
    "objectID": "example/06-example.html",
    "href": "example/06-example.html",
    "title": "Prediction",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 06-prediction.R"
  },
  {
    "objectID": "example/06-example.html#in-class-example",
    "href": "example/06-example.html#in-class-example",
    "title": "Prediction",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 06-prediction.R"
  },
  {
    "objectID": "example/06-example.html#colony",
    "href": "example/06-example.html#colony",
    "title": "Prediction",
    "section": "colony",
    "text": "colony\nHow much would a noble (noble), without military experience (military) expect to pay (rprice1) for a governorship with a suitability index of .8 (suitindex) and a repartimiento (reparto2) of 98,000 pesos?\nStep 1: fit model\n\ncolony_model = lm(rprice1 ~ noble + military + suitindex + reparto2, data = colony)\ntidy(colony_model)\n\n# A tibble: 5 Ã— 5\n  term          estimate std.error statistic   p.value\n  &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)  2862.     718.          3.99  0.0000768\n2 noble        -711.     689.         -1.03  0.303    \n3 military    -1128.     661.         -1.71  0.0885   \n4 suitindex     215.     668.          0.321 0.748    \n5 reparto2        0.0260   0.00625     4.16  0.0000375\n\n\nStep 2: define scenario\n\nscen = crossing(noble = 1, military = 0, suitindex = 0.8, reparto2 = 98000)\nscen\n\n# A tibble: 1 Ã— 4\n  noble military suitindex reparto2\n  &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1     1        0       0.8    98000\n\n\nStep 3: get estimate\n\naugment(colony_model, newdata = scen)\n\n# A tibble: 1 Ã— 5\n  noble military suitindex reparto2 .fitted\n  &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n1     1        0       0.8    98000   4869."
  },
  {
    "objectID": "example/06-example.html#movies",
    "href": "example/06-example.html#movies",
    "title": "Prediction",
    "section": "movies",
    "text": "movies\nNote: turns out the movies dataset has an issue with the way I stored the title variable that makes it very difficult to filter() with ğŸ˜”. I found a solution below, but you donâ€™t have to worry about knowing it.\nFit a model that predicts gross (outcome) using genre1, duration, budget, year, imdb_score, and whether or not itâ€™s in color.\n\nmovies_model = lm(gross ~ genre1 + duration + budget + year + imdb_score + color, data = movies)\ntidy(movies_model)\n\n# A tibble: 22 Ã— 5\n   term                estimate  std.error statistic   p.value\n   &lt;chr&gt;                  &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n 1 (Intercept)       818547152. 207136694.      3.95 0.0000793\n 2 genre1Adventure    10415044.   3603363.      2.89 0.00388  \n 3 genre1Animation    17298146.   8886217.      1.95 0.0517   \n 4 genre1Biography   -10777045.   5146622.     -2.09 0.0363   \n 5 genre1Comedy        7659542.   2856661.      2.68 0.00737  \n 6 genre1Crime       -14882152.   4347999.     -3.42 0.000628 \n 7 genre1Documentary -10605535.   9475879.     -1.12 0.263    \n 8 genre1Drama       -11407163.   3278448.     -3.48 0.000509 \n 9 genre1Family      112609248.  30165053.      3.73 0.000193 \n10 genre1Fantasy      11158684.   9641566.      1.16 0.247    \n# â„¹ 12 more rows\n\n\nLook up a movie in the dataset. How well does the model predict a movie that shares that movieâ€™s characteristics?\n\nmovies |&gt; filter(str_detect(title, \"Spider-Man 3\")) ## note: there is something weird about how I coded the title of these movies that makes filter not work; here's the solution I found; you're not responsible for this solution\n\n# A tibble: 2 Ã— 13\n  title         year decade director genre1 genre2 genre3 duration  gross budget\n  &lt;chr&gt;        &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Spider-Man â€¦  2007 2000s  Sam Raiâ€¦ Action Advenâ€¦ Romanâ€¦      156 3.37e8 2.58e8\n2 Spider-Man â€¦  2007 2000s  Sam Raiâ€¦ Action Advenâ€¦ Romanâ€¦      156 3.37e8 2.58e8\n# â„¹ 3 more variables: imdb_score &lt;dbl&gt;, color &lt;chr&gt;, content_rating &lt;chr&gt;\n\n\nDefine scenario:\n\nspider3 = crossing(year = 2007, genre1 = \"Action\", duration = 156, budget = 2.58e8,\n                   imdb_score = 6.2, color = \"Color\")\n\nGet prediction:\n\naugment(movies_model, newdata = spider3)\n\n# A tibble: 1 Ã— 7\n   year genre1 duration    budget imdb_score color    .fitted\n  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;\n1  2007 Action      156 258000000        6.2 Color 284536720.\n\n\nHow wrong is our model about Spider-Man 3 (in-sample)? Actual - predicted:\n\n336530303 - 284536720\n\n[1] 51993583\n\n\nOur model under-estimated how much it grossed by $51,993,583.\nHow would our model do out of sample? Spider-Man: Into the Spider-Verse: https://www.imdb.com/title/tt4633694/\n\nspiderman5 = crossing(year = 2018, genre1 = \"Animation\", duration = 117,\n                      budget = 90000000, imdb_score = 8.4, color = \"Color\")\nspiderman5\n\n# A tibble: 1 Ã— 6\n   year genre1    duration   budget imdb_score color\n  &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;\n1  2018 Animation      117 90000000        8.4 Color\n\n\nGet estimate:\n\naugment(movies_model, newdata = spiderman5)\n\n# A tibble: 1 Ã— 7\n   year genre1    duration   budget imdb_score color    .fitted\n  &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;\n1  2018 Animation      117 90000000        8.4 Color 152766707.\n\n\nHow wrong are we out of sample?\n\n384298736 - 152766707\n\n[1] 231532029\n\n\nOur model under-estimated gross by: $231,532,029"
  },
  {
    "objectID": "example/08-example.html",
    "href": "example/08-example.html",
    "title": "DAGs",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 08-dags.R"
  },
  {
    "objectID": "example/08-example.html#in-class-example",
    "href": "example/08-example.html#in-class-example",
    "title": "DAGs",
    "section": "",
    "text": "Hereâ€™s the code weâ€™ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesnâ€™t trigger download, you should right-click and select â€œsave link asâ€¦â€\n\n 08-dags.R"
  },
  {
    "objectID": "example/08-example.html#example",
    "href": "example/08-example.html#example",
    "title": "DAGs",
    "section": "Example",
    "text": "Example\nWe write dags using ggdag package:\n\nlibrary(ggdag)\nlibrary(tidyverse)\n\nFollows the same syntax as lm(), but using dagify():\n\ndag = dagify(Y ~ X + A + B,\n       A ~ B + C,\n       X ~ B + C + D,\n       C ~ D,\n       exposure = \"X\", \n       outcome = \"Y\")\n\nPlot:\n\nggdag(dag)\n\n\n\n\n\n\n\n\nLook at all the paths:\n\nggdag_paths(dag)\n\n\n\n\n\n\n\n\nIdentify controls:\n\nggdag_adjustment_set(dag)"
  },
  {
    "objectID": "example/10-example.html",
    "href": "example/10-example.html",
    "title": "Hello",
    "section": "",
    "text": "In-class example"
  },
  {
    "objectID": "example/index.html",
    "href": "example/index.html",
    "title": "Overview",
    "section": "",
    "text": "This section contains fully annotated R code that you can use as a reference for creating your own visualizations."
  },
  {
    "objectID": "guides/install.html",
    "href": "guides/install.html",
    "title": "Installing R, RStudio, and packages",
    "section": "",
    "text": "You will do all of your work in this class with the open source (and free!) programming language R. You will use RStudio as the main program to access R.\nThere are two ways to get up and running with R and RStudio:\n\nEasy, free-to-very-cheap, way: Run RStudio in your browser (preferred)\nHard way: Download and install R and RStudio on your machine ( alternative)",
    "crumbs": [
      "Guides",
      "Installing R, RStudio, and packages"
    ]
  },
  {
    "objectID": "guides/install.html#intro",
    "href": "guides/install.html#intro",
    "title": "Installing R, RStudio, and packages",
    "section": "",
    "text": "You will do all of your work in this class with the open source (and free!) programming language R. You will use RStudio as the main program to access R.\nThere are two ways to get up and running with R and RStudio:\n\nEasy, free-to-very-cheap, way: Run RStudio in your browser (preferred)\nHard way: Download and install R and RStudio on your machine ( alternative)",
    "crumbs": [
      "Guides",
      "Installing R, RStudio, and packages"
    ]
  },
  {
    "objectID": "guides/install.html#install-r",
    "href": "guides/install.html#install-r",
    "title": "Installing R, RStudio, and packages",
    "section": "Install R",
    "text": "Install R\nFirst you need to install R itself (the engine).\n\nIf you have a WINDOWS, click here: Download R for Windows and download the most recent version of R\nIf you have a MAC, click here: Download for macOS and download the most recent version of R\nDouble click on the downloaded file (check your Downloads folder). Click yes through all the prompts to install like any other program.",
    "crumbs": [
      "Guides",
      "Installing R, RStudio, and packages"
    ]
  },
  {
    "objectID": "guides/install.html#install-rstudio",
    "href": "guides/install.html#install-rstudio",
    "title": "Installing R, RStudio, and packages",
    "section": "Install RStudio",
    "text": "Install RStudio\nNext, you need to install RStudio, the nicer graphical user interface (GUI) for R (the dashboard). Once R and RStudio are both installed, you can ignore R and only use RStudio. RStudio will use R automatically and you wonâ€™t ever have to interact with R directly.\n\nGo here: https://posit.co/download/rstudio-desktop/\nScroll down, download most recent version for either Mac or Windows\nDouble click on the downloaded file (check your Downloads folder). Click yes through all the prompts to install like any other program.\n\nDouble click on RStudio to run it (check your applications folder or start menu).\nYouâ€™re done!",
    "crumbs": [
      "Guides",
      "Installing R, RStudio, and packages"
    ]
  },
  {
    "objectID": "guides/install.html#install-juanr-and-other-github-packages",
    "href": "guides/install.html#install-juanr-and-other-github-packages",
    "title": "Installing R, RStudio, and packages",
    "section": "Install juanr (and other Github packages)",
    "text": "Install juanr (and other Github packages)\nSome packages, like {juanr} cannot be installed using install.packages() because they are hosted on Github. To install {juanr}, you will first need to install {remotes} and then use install_github(), like so:\n\ninstall.packages(\"remotes\")\nremotes::install_github(\"hail2thief/juanr\")",
    "crumbs": [
      "Guides",
      "Installing R, RStudio, and packages"
    ]
  },
  {
    "objectID": "index.html#what-is-this-class-about",
    "href": "index.html#what-is-this-class-about",
    "title": "Syllabus",
    "section": "What is this class about?",
    "text": "What is this class about?\nPolicymakers, academics, journalists, firms, NGOs and many others use quantitative data every day to make decisions. Data are also being used to make causal claims about the world â€“ to argue that some policy will improve or worsen our lives.\nThis undergraduate course is about how to do data analysis and how to think causally about the political world. We will cover topics in political data science, causal inference, and uncertainty.\n\n\n\n\n\n\nNote\n\n\n\nThis course assumes students have no statistics or programming background."
  },
  {
    "objectID": "index.html#what-will-we-do-in-this-class",
    "href": "index.html#what-will-we-do-in-this-class",
    "title": "Syllabus",
    "section": "What will we do in this class?",
    "text": "What will we do in this class?\nOur class philosophy is all about doing. Readings are optional â€“ everything you need to succeed in class is covered in lecture and section. Instead, you will spend time getting your hands dirty with data in weekly problem sets touching on the class content.\nYou will do this all in R, a powerful and in-demand programming language that will allow you to manipulate, summarize, and visualize the data that you care about. You will also develop a conceptual language for determining whether, and how, we can know that one thing causes another using data.\nBy the end of this course, you will be able to:\n\nFeel comfortable manipulating data in R\nCraft effective visualizations of patterns in data\nDraw causal diagrams and identify obstacles to causal claims\nUnderstand the basics of regression and uncertainty"
  },
  {
    "objectID": "index.html#what-will-we-do-in-discussion-section",
    "href": "index.html#what-will-we-do-in-discussion-section",
    "title": "Syllabus",
    "section": "What will we do in discussion section?",
    "text": "What will we do in discussion section?\nThe weekly discussion sections will be the place to get help on lecture content, problem sets, etc. In section, you will:\n\nGo over student questions from the weekâ€™s lecture content\nGet help from the TAs on new problem sets and review answers from past problem sets"
  },
  {
    "objectID": "index.html#what-materials-do-i-need-for-this-course",
    "href": "index.html#what-materials-do-i-need-for-this-course",
    "title": "Syllabus",
    "section": "What materials do I need for this course?",
    "text": "What materials do I need for this course?\nAll materials for this course are free and online. You will do all of your analysis with the open source (and free) programming language R and RStudio.\nGiven the focus on programming, you will need consistent access to a laptop or computer for this class.\n\n\n\n\n\n\nNote\n\n\n\nFollow the Installation Guide to get set up with R and RStudio"
  },
  {
    "objectID": "index.html#how-can-i-get-help-or-contact-the-instructors",
    "href": "index.html#how-can-i-get-help-or-contact-the-instructors",
    "title": "Syllabus",
    "section": "How can I get help or contact the instructors?",
    "text": "How can I get help or contact the instructors?\nSlack will be our main mode of communication. We have a class Slack channel where anyone in the class can ask questions and anyone can answer. Ask questions about coding (e.g., â€œhow do I summarize multiple variables at once?â€) or class logistics (e.g., â€œI canâ€™t find the readingâ€) in the class Slack workspace.\nThe TAâ€™s and I will monitor Slack regularly, and you should all do so as well. Youâ€™ll have similar questions as your peers, and youâ€™ll likely be able to answer other peoplesâ€™ questions too.\nDiscussion section and our office hours are other great places to get help. Our office hours are listed at the top of this page.\nIf you would like to speak with me about something that only pertains to you (e.g., your grades, academic advice) or need help, you should come to my office hours. If thereâ€™s a time-sensitive issue you can email me. Everything else goes in the Slack so that others can see and access help."
  },
  {
    "objectID": "index.html#counseling-psychiatry-services",
    "href": "index.html#counseling-psychiatry-services",
    "title": "Syllabus",
    "section": "Counseling & Psychiatry Services",
    "text": "Counseling & Psychiatry Services\nLife at Davis can be complicated and challenging. You might feel overwhelmed, experience anxiety or depression, or struggle with relationships or family responsibilities. UC Davis Counseling Services provide confidential support for students who are struggling with mental health and emotional challenges. Please do not hesitate to contact them for assistanceâ€”getting help is a smart and good thing to do."
  },
  {
    "objectID": "index.html#assignments-and-grades",
    "href": "index.html#assignments-and-grades",
    "title": "Syllabus",
    "section": "Assignments and grades",
    "text": "Assignments and grades\nYou can find descriptions for all the assignments on the assignments page.\n\n\n\n\n\n\n\nAssignment\nPercent\n\n\n\n\nWeekly check-in\n10%\n\n\nProblem sets (8)\n50%\n\n\nMidterm exam\n20%\n\n\nFinal exam\n20%\n\n\nTotal\n100%\n\n\n\n\n\n\n\n\n\n\n\n\nGrade\nRange\nGrade\nRange\n\n\n\n\nA\n93â€“100%\nC\n73â€“76%\n\n\nAâˆ’\n90â€“92%\nCâˆ’\n70â€“72%\n\n\nB+\n87â€“89%\nD+\n67â€“69%\n\n\nB\n83â€“86%\nD\n63â€“66%\n\n\nBâˆ’\n80â€“82%\nDâˆ’\n60â€“62%\n\n\nC+\n77â€“79%\nF\n&lt; 60%"
  },
  {
    "objectID": "index.html#old-tech",
    "href": "index.html#old-tech",
    "title": "Syllabus",
    "section": "Old tech",
    "text": "Old tech\nOnce you have read this entire syllabus and the assignments page, please post a picture or gif of a technology that you was obsolete by the time you were an adult on Slack. Iâ€™ll round your final grade up to the nearest whole number; youâ€™ve got until the end of week 2 of class."
  },
  {
    "objectID": "index.html#credits",
    "href": "index.html#credits",
    "title": "Syllabus",
    "section": "Credits",
    "text": "Credits\nThis course draws on code, content, ideas, inspirations and much more from work by Andrew Heiss, Nick C. Huntington-Klein, Kieran Healy, Scott Cunningham, Richard McElreath and others who have made their courses publicly available."
  },
  {
    "objectID": "slides/01-hello.html#most-wanted-lists",
    "href": "slides/01-hello.html#most-wanted-lists",
    "title": "Hello",
    "section": "Most wanted lists",
    "text": "Most wanted lists\n\n\n\nCountries like the US spend lots of resources trying to kill, capture leaders of non-state armed groups\n\nRebel groups, terrorist orgs, organized crime\n\nThis is known in the literature as decapitation\n\nâ€œto cut off the headâ€"
  },
  {
    "objectID": "slides/01-hello.html#the-data-milton-and-price-2020",
    "href": "slides/01-hello.html#the-data-milton-and-price-2020",
    "title": "Hello",
    "section": "The data: Milton and Price (2020)",
    "text": "The data: Milton and Price (2020)\n\n\n\n\n\n\nName\nYear\nDecapitated?\nCollapsed?\n\n\n\n\nApril 19 Movement (M-19)\n1987\n0\n0\n\n\nApril 19 Movement (M-19)\n1988\n0\n0\n\n\nLoyalist Volunteer Force (LVF)\n1996\n0\n0\n\n\nLoyalist Volunteer Force (LVF)\n1997\n1\n0\n\n\nal-Qaeda\n1988\n0\n0\n\n\nal-Qaeda\n1989\n0\n0"
  },
  {
    "objectID": "slides/01-hello.html#the-results-a-big-effect",
    "href": "slides/01-hello.html#the-results-a-big-effect",
    "title": "Hello",
    "section": "The results: a big effect!",
    "text": "The results: a big effect!\n\nDecapitated terrorist groups are 3 times more likely to collapse"
  },
  {
    "objectID": "slides/01-hello.html#not-so-fast",
    "href": "slides/01-hello.html#not-so-fast",
    "title": "Hello",
    "section": "Not so fastâ€¦",
    "text": "Not so fastâ€¦\n\nGroups that are decapitated are different from groups that arenâ€™t decapitated\n\n\n\n\n\n\n\n\n\n\nGroups that were decapitated\n\n\n\n\nKurdistan Workers' Party (PKK)\n\n\nDev Sol/DHKP-C\n\n\nPeople Against Gangsterism and Drugs (PAGAD)\n\n\nPopular Front for the Liberation of Palestine (PFLP)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGroups that weren't decapitated\n\n\n\n\nIslamic Movement of Uzbekistan\n\n\nLautaro Youth Movement (MJL)\n\n\nAnsar al-Sunnah Army\n\n\nIrish National Liberation Army (INLA)\n\n\n\n\n\n\n\n\n\n\n\n\nThe groups that are decapitated might be the weakest ones, the ones that states especially want to destroy, ones where leaders are more important, etc.\n\n\nWe need to adjust for these differences, otherwise our estimates will be confounded"
  },
  {
    "objectID": "slides/01-hello.html#an-emphasis-on-doing",
    "href": "slides/01-hello.html#an-emphasis-on-doing",
    "title": "Hello",
    "section": "An emphasis on doing",
    "text": "An emphasis on doing\n\n\n\nNo readings\nregular, sustained practice with hands-on problem sets\n10 weeks of focused study in R, a powerful and in-demand programming language"
  },
  {
    "objectID": "slides/01-hello.html#class-philosophy",
    "href": "slides/01-hello.html#class-philosophy",
    "title": "Hello",
    "section": "Class philosophy:",
    "text": "Class philosophy:\nLittle to none of this:\n\\[\\sigma^2 = \\frac{\\sum_{i=1}^{n}(x_i - \\mu)^2} {n}\\]\n\nLots of this:\n\nprison |&gt; \n  # look at california\n  filter(state == \"California\") |&gt; \n  # measure variation over time\n  summarise(prison_sd = sd(incarcerated_total, na.rm = TRUE))"
  },
  {
    "objectID": "slides/01-hello.html#this-class-is-practical",
    "href": "slides/01-hello.html#this-class-is-practical",
    "title": "Hello",
    "section": "This class is practical",
    "text": "This class is practical\n\n\nThis class could be a couple lines on a resume:\n\nAbility to work with data â¡ï¸ marketable\nR is popular in industry\nFamiliarity with R â¡ï¸ other languages\nPrinciples learned in R can be applied elsewhere (Excel)\nProblem-solving in Slack"
  },
  {
    "objectID": "slides/01-hello.html#theres-a-lot-of-work-and-coding-in-this-class",
    "href": "slides/01-hello.html#theres-a-lot-of-work-and-coding-in-this-class",
    "title": "Hello",
    "section": "Thereâ€™s a lot of work (and coding) in this class",
    "text": "Thereâ€™s a lot of work (and coding) in this class\n\n\n\nI warned you!\nAnyone can do it, yes â€œevenâ€ you\nyou will be surprised at what you can do by the end\nBut you have to try your best\nIf this doesnâ€™t work for you, take another class"
  },
  {
    "objectID": "slides/01-hello.html#inspiration",
    "href": "slides/01-hello.html#inspiration",
    "title": "Hello",
    "section": "Inspiration",
    "text": "Inspiration\n\nItâ€™s easy when you start out programming to get really frustrated and think, â€œOh itâ€™s me, Iâ€™m really stupid,â€ or, â€œIâ€™m not made out to program.â€ But, that is absolutely not the case. Everyone gets frustrated. I still get frustrated occasionally when writing R code. Itâ€™s just a natural part of programming. So, it happens to everyone and gets less and less over time. Donâ€™t blame yourself. Just take a break, do something fun, and then come back and try again later.\n\nHadley Wickham, Chief Data Scientist at RStudio"
  },
  {
    "objectID": "slides/01-hello.html#for-the-love-of-all-that-is-good",
    "href": "slides/01-hello.html#for-the-love-of-all-that-is-good",
    "title": "Hello",
    "section": "For the love of all that is good",
    "text": "For the love of all that is good\n\nDo the weekly check-ins; they are free points\n\n\nGo to section, ask for help on Slack\n\n\nDo not miss homeworks in this class\n\n\nMissing one = leaving a big chunk of your final exam blank\n\n\nI want students who are working hard to do well, but I canâ€™t save you"
  },
  {
    "objectID": "slides/01-hello.html#grew-up-in-cali-colombia",
    "href": "slides/01-hello.html#grew-up-in-cali-colombia",
    "title": "Hello",
    "section": "Grew up in Cali, Colombiaâ€¦",
    "text": "Grew up in Cali, Colombiaâ€¦"
  },
  {
    "objectID": "slides/01-hello.html#and-ft.-lauderdale",
    "href": "slides/01-hello.html#and-ft.-lauderdale",
    "title": "Hello",
    "section": "â€¦and Ft. Lauderdale",
    "text": "â€¦and Ft. Lauderdale\nWent to UF (go gata)â€¦"
  },
  {
    "objectID": "slides/01-hello.html#north-carolina",
    "href": "slides/01-hello.html#north-carolina",
    "title": "Hello",
    "section": "North Carolina",
    "text": "North Carolina\n\n\nPhD at Duke University in Durham, NCâ€¦\nI specialize in political violence, development, and Latin America"
  },
  {
    "objectID": "slides/01-hello.html#south-carolina",
    "href": "slides/01-hello.html#south-carolina",
    "title": "Hello",
    "section": "South Carolina",
    "text": "South Carolina"
  },
  {
    "objectID": "slides/01-hello.html#the-baby",
    "href": "slides/01-hello.html#the-baby",
    "title": "Hello",
    "section": "â€¦The baby",
    "text": "â€¦The baby\n\n\nDue: 10/4 (any day now)\nBirthday on 10/6"
  },
  {
    "objectID": "slides/01-hello.html#the-tas",
    "href": "slides/01-hello.html#the-tas",
    "title": "Hello",
    "section": "The TAs",
    "text": "The TAs\nğŸ‘¨â€ğŸ“ Haley Darstaad\nğŸ‘©â€ğŸ“ RyuGyung (Rio) Park\nğŸ‘¨â€ğŸ“ Jack Rametta"
  },
  {
    "objectID": "slides/01-hello.html#what-year-are-you",
    "href": "slides/01-hello.html#what-year-are-you",
    "title": "Hello",
    "section": "What year are you?",
    "text": "What year are you?"
  },
  {
    "objectID": "slides/01-hello.html#where-are-you-from",
    "href": "slides/01-hello.html#where-are-you-from",
    "title": "Hello",
    "section": "Where are you from?",
    "text": "Where are you from?\n\n\n\n\n\n\nRiyadh, Saudi Arabia\n\n\nSanta Clarita, CA\n\n\nSan francisco / Malaysia\n\n\nPittsburg, CA\n\n\nRoseville, California\n\n\nLA, CA\n\n\nSan Jose, California\n\n\nWatsonville, California\n\n\nDavis, CA\n\n\nFairfield, California\n\n\nSan Ramon, CA\n\n\nFontana, California\n\n\nSan Jose, CA\n\n\nConcord, CA\n\n\nIrvine California\n\n\nPorterville, CA\n\n\nSan Diego, CA\n\n\nSan Ramon, CA\n\n\nSanta Rosa, California\n\n\nDallas, Texas\n\n\nCloverdale, CA\n\n\nAntioch, California\n\n\nSan Lorenzo, CA\n\n\nWoodland, California\n\n\nBakersfield, California\n\n\nSunnyvale, California\n\n\nFairfield, CA\n\n\nSeoul, South Korea\n\n\nSan Jose, CA\n\n\nFremont, California"
  },
  {
    "objectID": "slides/01-hello.html#everyones-in-the-same-boat",
    "href": "slides/01-hello.html#everyones-in-the-same-boat",
    "title": "Hello",
    "section": "Everyoneâ€™s in the same boat",
    "text": "Everyoneâ€™s in the same boat"
  },
  {
    "objectID": "slides/01-hello.html#lots-of-cool-stuff",
    "href": "slides/01-hello.html#lots-of-cool-stuff",
    "title": "Hello",
    "section": "Lots of cool stuff",
    "text": "Lots of cool stuff\n\n\n\n\n\n\nSomething cool about you?\n\n\n\n\nOne of my favorite hobbies is skiing, and I am on the Davis ski team\n\n\nI love gambling\n\n\nI have 6 pairs of crocs and a large squishmallow collection\n\n\nI really enjoy playing guitar and the violin.\n\n\nI can play most songs after listening to them\n\n\nNever satisfied at the current conditions\n\n\nI am a volleyball referee, and a player, and a coach :)\n\n\nI play on the lacrosse team here at UCD! I have been playing lacrosse since I was 7 years old.\n\n\nI love nature and doing activities in nature such as camping, hiking, and rafting.\n\n\nI make world maps in my free time.\n\n\nI work two jobs while in school\n\n\nim a black belt in karate\n\n\nI'm a soccer fan and I don't like Messi.\n\n\nI used to have pink hair :)\n\n\nI'm a dj and events director for kdvs\n\n\nI can't really think of anything cool, I have lived a fun life and had lots of amazing experiences but I can't think of specific details I would say make me cool\n\n\nI make my own jewelry.\n\n\nI love baking and sewing\n\n\nI have six pet birds.\n\n\nI enjoy dirt biking as a hobby.\n\n\nI can drive stick shift!\n\n\nI went to Romania this summer.\n\n\nI have a small Snoopy collection\n\n\nMy biggest hobby is playing and watching soccer.\n\n\nI know how to speak Chinese(Is that something cool?)\n\n\nI used to do boxing and kickboxing\n\n\nI have a cat named Lucky\n\n\nI used to live in Dubai for two years\n\n\nI do jiu-jitsu. However, I've yet to find a gym in Davis.\n\n\nim left handed"
  },
  {
    "objectID": "slides/01-hello.html#divided-on-euthanasia",
    "href": "slides/01-hello.html#divided-on-euthanasia",
    "title": "Hello",
    "section": "Divided on euthanasia",
    "text": "Divided on euthanasia"
  },
  {
    "objectID": "slides/01-hello.html#best-number",
    "href": "slides/01-hello.html#best-number",
    "title": "Hello",
    "section": "Best number",
    "text": "Best number"
  },
  {
    "objectID": "slides/01-hello.html#worst-number",
    "href": "slides/01-hello.html#worst-number",
    "title": "Hello",
    "section": "Worst number",
    "text": "Worst number"
  },
  {
    "objectID": "slides/01-hello.html#not-enough-kids",
    "href": "slides/01-hello.html#not-enough-kids",
    "title": "Hello",
    "section": "Not enough kids",
    "text": "Not enough kids"
  },
  {
    "objectID": "slides/01-hello.html#tail-of",
    "href": "slides/01-hello.html#tail-of",
    "title": "Hello",
    "section": "Tail ofâ€¦",
    "text": "Tail ofâ€¦"
  },
  {
    "objectID": "slides/01-hello.html#true-crime",
    "href": "slides/01-hello.html#true-crime",
    "title": "Hello",
    "section": "True crime",
    "text": "True crime\n\n\n\n\n\n\nWhy is true crime so popular?\n\n\n\n\nA lot of Americans live in a pretty high standard of safety and heinous crimes are rarely experienced in their lives. However, news media does a particularly good job of sensationalizing violence and the horrific crimes of serial killers, murderers, etc., placing people in a high state of fear. This fear, however, turns into fascination and deep curiosity, and I think the gore and violence of true crime becomes something that provides stimulation to people.\n\n\nBecause ordinary people can't do these things in the real world, they're against the law\n\n\nPerhaps people like stuff thatâ€™s weird, taboo, extreme, bc it goes against whatâ€™s societally accepted or expected. Maybe itâ€™s so detached from their everyday lives and routines that it excites/ interests them. Death and murder have also been a natural part of humanity. Probably a multitude of factors as to why people are into it..\n\n\nI love this question. I think there are multiple reasons for the \"true crime\" genre's popularity. Some people want to know the details of a famous/unsolved murder to potentially be prepared if they encounter a situation like that in the future. Some people are detached from reality and view true crime as a collection of fictional stories, which is gross. True crime can also be sensationalized and exploitative towards the victims if not discussed with proper care, and I think some people get way too caught up in the sensationalization of real people's murders. Of course, there's also simple \"morbid curiosity,\" where you're horrified by the details but just can't stop watching/listening.\n\n\nWe want to solve mysteries and puzzles, so true crime catches our attention.\n\n\nI think because people are one event away from turning to crimes . Or people genuinely think those crimes are cool.. But also I think the way media portrays them are screwed and doesn't really neccessarily show the devastating affects that it had on people in real life. They just make them suspenceful and entertaining.\n\n\nI think people are interested in what could drive someone to commit a murder. It is (in my opinion) the most extreme act a human can commit, so I think people are highly fascinated with the details of these stories and how it could conclude with murder.\n\n\nPeople are usually interested in areas they don't understand.\n\n\nIt is because people like the exhilarating emotions that these shows and podcasts put into the stories, and people are fascinated by these stories because they either want to know why, or because they have an unhealthy obsession with soft gore.\n\n\nI think its just because of morbid curiosity to see some of the darkest things that people are capable of. I also think people just like to be scared\n\n\nMaybe because it is outside of most people's comfort zones so it is like a breath if fresh air for them\n\n\nI think there's a very deep rooted interest in dark and twisted content in today's society easily accessed on the internet. I believe true crime also has an appeal due to the fact that the stories being broadcasted could happen to anyone and therefore strikes its audiences in a very intriguing way.\n\n\nIt often brings out whatever dark thoughts a person may have but do not/or can not act on.\n\n\nI think because it allows people to seemingly experience the most ruthless and often senseless kinds of crime in a way that allows them to not be harmed, and from the safety of their own home. I think it has a lot to do with curiosity about the taboo, and many of the most famous true crime stories focus on crimes that are unusual and quite fascinating to learn about.\n\n\npoeple like the shock i guess\n\n\nBecause humans are invested in thrills and fear\n\n\nI believe people are fascinated by these stories because of the interest in learning why these serial killers did what they did. For example, what was going through the murderers head that they deliberately felt satisfaction in ending a persons life. Another interest people might have about it is the serial killers upbringing which is talked about a lot in podcasts and shows, so I feel people are also interested in the events that lead serial killers to commit the crimes they did.\n\n\nI love to watch videos about murders, too. I think it's because this famous or unsolved murders let people give their imagination to them, especially for unsolved ones. I have seen people made up many answers to one unsolved murder. (but I don't like unsolved murders; a murder that I cannot know the truth can't fulfill my curiosity.) The reason of their popularity may be similar to the reason of the popularity of detective movies or novels.\n\n\nI think because no one truly understands the perspective and reasoning why murderers murder or cannibals commit cannibalism for example. These shows allow the average viewer/ordinary person to see the other side of the story and I think this fascinates people since itâ€™s a glimpse into the mind of a criminal and just how smart they can be.\n\n\nI believe that knowing and learning about true crime stories is a way to stay informed and also delve into the minds of murderers which is what makes it so fascinating: the psychological differences between the mind of a criminal and the average person. From a sociological standpoint, it's also interesting to see how the public, media, and the authorities react and take action on these issues."
  },
  {
    "objectID": "slides/01-hello.html#what-is-hair-metal",
    "href": "slides/01-hello.html#what-is-hair-metal",
    "title": "Hello",
    "section": "What is hair metal?",
    "text": "What is hair metal?"
  },
  {
    "objectID": "slides/01-hello.html#guns-and-roses",
    "href": "slides/01-hello.html#guns-and-roses",
    "title": "Hello",
    "section": "Guns and Roses",
    "text": "Guns and Roses"
  },
  {
    "objectID": "slides/01-hello.html#weak-tv-consensus-riverdale",
    "href": "slides/01-hello.html#weak-tv-consensus-riverdale",
    "title": "Hello",
    "section": "weak TV consensus: Riverdale",
    "text": "weak TV consensus: Riverdale"
  },
  {
    "objectID": "slides/01-hello.html#but-im-a-creep",
    "href": "slides/01-hello.html#but-im-a-creep",
    "title": "Hello",
    "section": "But iâ€™m a creepâ€¦",
    "text": "But iâ€™m a creepâ€¦"
  },
  {
    "objectID": "slides/03-viz.html#what-kind-of-variable-do-i-have",
    "href": "slides/03-viz.html#what-kind-of-variable-do-i-have",
    "title": "Data visualization II",
    "section": "What kind of variable do I have?",
    "text": "What kind of variable do I have?\n\n\n\n\nGeneral Social Survey\n\n\nid\nage\ndegree\nrace\nnum_kids\n\n\n\n\n1\n47\nBachelor\nWhite\n3\n\n\n2\n61\nHigh School\nWhite\n0\n\n\n3\n72\nBachelor\nWhite\n2\n\n\n4\n43\nHigh School\nWhite\n4\n\n\n5\n55\nGraduate\nWhite\n2\n\n\n\n\n\n\n\n\nContinuous variables take on lots of values (GDP, population, income, age, etc.)"
  },
  {
    "objectID": "slides/03-viz.html#what-kind-of-variable-do-i-have-1",
    "href": "slides/03-viz.html#what-kind-of-variable-do-i-have-1",
    "title": "Data visualization II",
    "section": "What kind of variable do I have?",
    "text": "What kind of variable do I have?\n\n\n\n\nGeneral Social Survey\n\n\nid\nage\ndegree\nrace\nnum_kids\n\n\n\n\n1\n47\nBachelor\nWhite\n3\n\n\n2\n61\nHigh School\nWhite\n0\n\n\n3\n72\nBachelor\nWhite\n2\n\n\n4\n43\nHigh School\nWhite\n4\n\n\n5\n55\nGraduate\nWhite\n2\n\n\n\n\n\n\n\n\nDiscrete or categorical variables takes on a few values, often â€œqualitativeâ€ (yes/no, 1/0, race, etc.)"
  },
  {
    "objectID": "slides/03-viz.html#graph-1---the-scatterplot",
    "href": "slides/03-viz.html#graph-1---the-scatterplot",
    "title": "Data visualization II",
    "section": "Graph 1 - the scatterplot",
    "text": "Graph 1 - the scatterplot\n\n\nThe scatterplot visualizes the relationship between two continuous variables\n\n\nShows every point in the data, reveals trends and outliers"
  },
  {
    "objectID": "slides/03-viz.html#the-grammar-of-scatterplots",
    "href": "slides/03-viz.html#the-grammar-of-scatterplots",
    "title": "Data visualization II",
    "section": "The grammar of scatterplots",
    "text": "The grammar of scatterplots\n\n\n\n\n\n\n\nThe data\n\n\ngdpPercap\nlifeExp\n\n\n\n\n974.58\n43.83\n\n\n5937.03\n76.42\n\n\n6223.37\n72.30\n\n\n4797.23\n42.73\n\n\n12779.38\n75.32\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point()\n\nTypically, we put the cause on the x-axis and the effect on the y-axis"
  },
  {
    "objectID": "slides/03-viz.html#scatterplots-are-for-continuous-variables",
    "href": "slides/03-viz.html#scatterplots-are-for-continuous-variables",
    "title": "Data visualization II",
    "section": "Scatterplots are for continuous variables",
    "text": "Scatterplots are for continuous variables\n\nPlot is uninformative because continent is discrete (i.e., a category)"
  },
  {
    "objectID": "slides/03-viz.html#graph-2-the-time-series",
    "href": "slides/03-viz.html#graph-2-the-time-series",
    "title": "Data visualization II",
    "section": "Graph 2: the time series",
    "text": "Graph 2: the time series\n\nThe time series uses a line to show you how a variable (y-axis) moves over time (x-axis)"
  },
  {
    "objectID": "slides/03-viz.html#the-grammar-of-time-series",
    "href": "slides/03-viz.html#the-grammar-of-time-series",
    "title": "Data visualization II",
    "section": "The grammar of time series",
    "text": "The grammar of time series\n\n\n\n\n\n\n\nThe data\n\n\nyear\navg_yrs\n\n\n\n\n1952\n49.06\n\n\n1957\n51.51\n\n\n1962\n53.61\n\n\n1967\n55.68\n\n\n1972\n57.65\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nyear\nx\ngeom_line()\n\n\navg_yrs\ny\ngeom_line()\n\n\n\n\n\n\n\n\n\n\n\n\n\nNotice the new geometry, geom_line()"
  },
  {
    "objectID": "slides/03-viz.html#the-time-series",
    "href": "slides/03-viz.html#the-time-series",
    "title": "Data visualization II",
    "section": "The time series",
    "text": "The time series\n\nggplot(life_yr, aes(x = year, y = avg_yrs)) +\n  geom_line()"
  },
  {
    "objectID": "slides/03-viz.html#your-turn-recession",
    "href": "slides/03-viz.html#your-turn-recession",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: ğŸ’¸RecessionğŸ’¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’¸RecessionğŸ’¸ ğŸš¨\n\nLook at the economics dataset from the tidyverse package\nType and run economics to see the data\nType and run ?economics to read about the data\nMake a time series of unemployment over time\nCan you identify the recessions?\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/03-viz.html#multiple-time-series",
    "href": "slides/03-viz.html#multiple-time-series",
    "title": "Data visualization II",
    "section": "Multiple time series",
    "text": "Multiple time series\nSometimes we observe multiple units over time; how can we visualize these?\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nBolivia\nAmericas\n1977\n50.023\n5079716\n3548.098\n\n\nEgypt\nAfrica\n1997\n67.217\n66134291\n4173.182\n\n\nUnited States\nAmericas\n1977\n73.380\n220239000\n24072.632\n\n\nUnited States\nAmericas\n1997\n76.810\n272911760\n35767.433\n\n\nGermany\nEurope\n1982\n73.800\n78335266\n22031.533"
  },
  {
    "objectID": "slides/03-viz.html#start-from-scratch",
    "href": "slides/03-viz.html#start-from-scratch",
    "title": "Data visualization II",
    "section": "Start from scratch",
    "text": "Start from scratch\n\nggplot(data = gapminder_sample)"
  },
  {
    "objectID": "slides/03-viz.html#add-aesthetics",
    "href": "slides/03-viz.html#add-aesthetics",
    "title": "Data visualization II",
    "section": "Add aesthetics",
    "text": "Add aesthetics\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp))"
  },
  {
    "objectID": "slides/03-viz.html#add-geometry",
    "href": "slides/03-viz.html#add-geometry",
    "title": "Data visualization II",
    "section": "Add geometry: ğŸ¤¢",
    "text": "Add geometry: ğŸ¤¢\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp)) +\n  geom_line()"
  },
  {
    "objectID": "slides/03-viz.html#using-color-to-separate-lines",
    "href": "slides/03-viz.html#using-color-to-separate-lines",
    "title": "Data visualization II",
    "section": "using color to separate lines",
    "text": "using color to separate lines\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp, color = country)) + \n  geom_line()"
  },
  {
    "objectID": "slides/03-viz.html#multiple-time-series-1",
    "href": "slides/03-viz.html#multiple-time-series-1",
    "title": "Data visualization II",
    "section": "Multiple time series",
    "text": "Multiple time series\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp, color = country)) + \n  geom_line()\n\n\n\nThese are useful for comparing trends across units (countries, places, people, etc)"
  },
  {
    "objectID": "slides/03-viz.html#graph-3-the-histogram",
    "href": "slides/03-viz.html#graph-3-the-histogram",
    "title": "Data visualization II",
    "section": "Graph 3: the histogram",
    "text": "Graph 3: the histogram\n\nA histogram shows you how a continuous variable is distributed"
  },
  {
    "objectID": "slides/03-viz.html#interpreting-histograms",
    "href": "slides/03-viz.html#interpreting-histograms",
    "title": "Data visualization II",
    "section": "Interpreting histograms",
    "text": "Interpreting histograms\n\n\nWhat do we see here?"
  },
  {
    "objectID": "slides/03-viz.html#the-grammar-of-histograms",
    "href": "slides/03-viz.html#the-grammar-of-histograms",
    "title": "Data visualization II",
    "section": "The grammar of histograms",
    "text": "The grammar of histograms\n\n\n\n\n\n\n\nThe data\n\n\nlifeExp\n\n\n\n\n43.83\n\n\n76.42\n\n\n72.30\n\n\n42.73\n\n\n75.32\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nlifeExp\nx\ngeom_histogram()\n\n\n\n\n\n\n\n\n\n\n\n\n\nNotice the new geometry, geom_histogram(); and that a histogram only uses the x-axis!"
  },
  {
    "objectID": "slides/03-viz.html#the-histogram",
    "href": "slides/03-viz.html#the-histogram",
    "title": "Data visualization II",
    "section": "The histogram",
    "text": "The histogram\n\nggplot(gap_07, aes(x = lifeExp)) + geom_histogram()"
  },
  {
    "objectID": "slides/03-viz.html#your-turn-organs",
    "href": "slides/03-viz.html#your-turn-organs",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨",
    "text": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨\n\n\nIn some countries, when you die it is assumed you want to donate your organs\n\nTo not donate, you have to opt out\nIn other countries, when you die it is assumed you do not want to donate your organs\nTo not donate, you have to opt in\n\n\n\n\n\n\nSample from organdata\n\n\ncountry\ndonors\nopt\n\n\n\n\nIreland\n18.2\nIn\n\n\nDenmark\n14.0\nIn\n\n\nGermany\n13.9\nIn\n\n\nGermany\n12.8\nIn\n\n\nSpain\nNA\nOut"
  },
  {
    "objectID": "slides/03-viz.html#your-turn-organs-1",
    "href": "slides/03-viz.html#your-turn-organs-1",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨",
    "text": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨\nUsing the organdata dataset:\n\nMake a histogram of countryâ€™s organ donation rate (donors)\nThen set the fill aesthetic to opt, whether donors have to opt in or opt out of donating. How does the graph change?\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/03-viz.html#graph-4-the-barplot",
    "href": "slides/03-viz.html#graph-4-the-barplot",
    "title": "Data visualization II",
    "section": "Graph 4: the barplot",
    "text": "Graph 4: the barplot\n\n\nBarplots place a category (place, country, person, etc) on one axis and a quantity (amount, average, median, etc.) on another\n\n\nUseful for making comparisons, highlighting differences\n\nWhy would there be differences across TV consumption?"
  },
  {
    "objectID": "slides/03-viz.html#the-grammar-of-barplots",
    "href": "slides/03-viz.html#the-grammar-of-barplots",
    "title": "Data visualization II",
    "section": "The grammar of barplots",
    "text": "The grammar of barplots\n\n\n\n\n\n\n\nThe data\n\n\nmarital\ntv\n\n\n\n\nNo answer\n2.56\n\n\nNever married\n3.11\n\n\nSeparated\n3.55\n\n\nDivorced\n3.09\n\n\nWidowed\n3.91\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ntv\nx\ngeom_col()\n\n\nmarital\ny\ngeom_col()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nYou could switch the x and y mapping around, but I think categories look better on the y-axis"
  },
  {
    "objectID": "slides/03-viz.html#the-barplot",
    "href": "slides/03-viz.html#the-barplot",
    "title": "Data visualization II",
    "section": "The barplot",
    "text": "The barplot\n\nggplot(tv, aes(y = marital, x = tv)) + \n  geom_col()"
  },
  {
    "objectID": "slides/03-viz.html#graph-5-the-boxplot",
    "href": "slides/03-viz.html#graph-5-the-boxplot",
    "title": "Data visualization II",
    "section": "Graph 5: the boxplot",
    "text": "Graph 5: the boxplot\n\n\nBoxplots compare distributions of continuous variables across groups\n\nthey show us more than the barplot which only gives us a quantity for each group"
  },
  {
    "objectID": "slides/03-viz.html#compare-distributions-the-boxplot",
    "href": "slides/03-viz.html#compare-distributions-the-boxplot",
    "title": "Data visualization II",
    "section": "Compare distributions: the boxplot",
    "text": "Compare distributions: the boxplot\n\n\nBoxplots contain a lot of info ğŸ¥µ:\n\nbold line is the median observation\nbox is the middle 50% of observations\nthin lines show you min and max value, exceptâ€¦\nthe dots, which are outlier observations\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ninterpret"
  },
  {
    "objectID": "slides/03-viz.html#the-grammar-of-boxplots",
    "href": "slides/03-viz.html#the-grammar-of-boxplots",
    "title": "Data visualization II",
    "section": "The grammar of boxplots",
    "text": "The grammar of boxplots\n\n\n\n\n\n\n\nThe data\n\n\ncontinent\nlifeExp\n\n\n\n\nAsia\n43.83\n\n\nEurope\n76.42\n\n\nAfrica\n72.30\n\n\nAfrica\n42.73\n\n\nAmericas\n75.32\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ncontient\ny\ngeom_boxplot()\n\n\nlifeExp\nx\ngeom_boxplot()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nYou could switch the x and y mapping around, but I think categories look better on the y-axis"
  },
  {
    "objectID": "slides/03-viz.html#the-boxplot",
    "href": "slides/03-viz.html#the-boxplot",
    "title": "Data visualization II",
    "section": "The boxplot",
    "text": "The boxplot\n\nggplot(gapminder, aes(y = continent, x = lifeExp)) + geom_boxplot()"
  },
  {
    "objectID": "slides/03-viz.html#the-five-ish-graphs",
    "href": "slides/03-viz.html#the-five-ish-graphs",
    "title": "Data visualization II",
    "section": "The five(-ish) graphs",
    "text": "The five(-ish) graphs\n\n\n\n\n\n\nGraph\naes()\ngeom_\nPurpose\n\n\n\n\nScatterplot\nx = cause, y = effect\npoint()\nRelationships\n\n\nTime series\nx = date, y = variable\nline()\nTrends\n\n\nHistogram\nx = cont. variable\nhistogram()\nDistributions\n\n\nBarplot\ny = category, x = quantity\ncol()\nCompare amounts\n\n\nBoxplot\ny = category, x = cont. variable\nboxplot()\nCompare distributions\n\n\n\n\n\n\n\n\n\nKnow how and when to use which!"
  },
  {
    "objectID": "slides/03-viz.html#showing-movement-using-panels",
    "href": "slides/03-viz.html#showing-movement-using-panels",
    "title": "Data visualization II",
    "section": "Showing â€œmovementâ€ using panels",
    "text": "Showing â€œmovementâ€ using panels\n\n\nWe can use panels to show movement of a variable across time, space, etc.\n\nWhat is this graph showing us?"
  },
  {
    "objectID": "slides/03-viz.html#using-facet_wrap",
    "href": "slides/03-viz.html#using-facet_wrap",
    "title": "Data visualization II",
    "section": "Using facet_wrap",
    "text": "Using facet_wrap\n\nggplot(gapminder, aes(x = lifeExp)) + geom_histogram()"
  },
  {
    "objectID": "slides/03-viz.html#using-facet_wrap-1",
    "href": "slides/03-viz.html#using-facet_wrap-1",
    "title": "Data visualization II",
    "section": "Using facet_wrap",
    "text": "Using facet_wrap\n\nggplot(gapminder, aes(x = lifeExp)) + geom_histogram() + \n  facet_wrap(vars(year)) \n\n\n\n\n\n\n\n\nNote\n\n\nMake sure the facetting variable is wrapped in vars()!"
  },
  {
    "objectID": "slides/03-viz.html#make-aesthetics-static",
    "href": "slides/03-viz.html#make-aesthetics-static",
    "title": "Data visualization II",
    "section": "Make aesthetics static",
    "text": "Make aesthetics static\n\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) + \n  geom_point(size = 4, color = \"orange\", shape = 2) \n\n\nTake your aesthetics out of aes() and into geom() to make them static"
  },
  {
    "objectID": "slides/03-viz.html#ridge-plots-better-than-grouped-histograms",
    "href": "slides/03-viz.html#ridge-plots-better-than-grouped-histograms",
    "title": "Data visualization II",
    "section": "Ridge plots (better than grouped histograms)",
    "text": "Ridge plots (better than grouped histograms)\n\nlibrary(ggridges)\nggplot(gapminder, aes(y = continent, x = lifeExp)) + geom_density_ridges() \n\n\nEase visual comparison + kinda looks like the Joy Division album"
  },
  {
    "objectID": "slides/03-viz.html#beeswarm-plots-alternative-boxplots",
    "href": "slides/03-viz.html#beeswarm-plots-alternative-boxplots",
    "title": "Data visualization II",
    "section": "Beeswarm plots (alternative boxplots)",
    "text": "Beeswarm plots (alternative boxplots)\n\nlibrary(ggbeeswarm)\nggplot(gapminder, aes(y = continent, x = lifeExp)) +  geom_quasirandom() \n\n\nBeeswarm plots tell us something boxplots donâ€™t: the number observations by group; used recently by the NYT"
  },
  {
    "objectID": "slides/03-viz.html#use-different-color-and-fill-scales",
    "href": "slides/03-viz.html#use-different-color-and-fill-scales",
    "title": "Data visualization II",
    "section": "Use different color and fill scales",
    "text": "Use different color and fill scales\n\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + \n  scale_fill_brewer(palette = \"Blues\") \n\n\nscale_fill_brewer() for fill, scale_color_brewer for color"
  },
  {
    "objectID": "slides/03-viz.html#my-favorite-scale-right-now",
    "href": "slides/03-viz.html#my-favorite-scale-right-now",
    "title": "Data visualization II",
    "section": "My favorite scale (right now)",
    "text": "My favorite scale (right now)\n\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + \n  scale_fill_viridis_d(option = \"magma\") \n\n\nscale_fill_viridis_d for discrete variables, scale_fill_viridis_d for continuous"
  },
  {
    "objectID": "slides/03-viz.html#many-other-themes",
    "href": "slides/03-viz.html#many-other-themes",
    "title": "Data visualization II",
    "section": "Many other themes",
    "text": "Many other themes\n\ntheme_spongeBob() from tvthemes package, many more online"
  },
  {
    "objectID": "slides/03-viz.html#coding-challenge",
    "href": "slides/03-viz.html#coding-challenge",
    "title": "Data visualization II",
    "section": "ğŸ”¥ Coding challenge ğŸ”¥",
    "text": "ğŸ”¥ Coding challenge ğŸ”¥\nRight now you probably canâ€™t make a nice graph, so:\n\nMake the ugliest graph you can\nPost it on Slack\nWinner will get a shockingly small amount of extra credit\n\n\n\n\nâˆ’+\n20:00"
  },
  {
    "objectID": "slides/05-wrangle.html#using-objects",
    "href": "slides/05-wrangle.html#using-objects",
    "title": "Data wrangling II",
    "section": "Using objects",
    "text": "Using objects\n\nggplot(gapminder, aes(x = gdpPercap, y = lifeExp)) + geom_point()\n\n\n\nWhat if I wanted to make this same plot, but only looking at Asian countries?"
  },
  {
    "objectID": "slides/05-wrangle.html#subset-to-asia",
    "href": "slides/05-wrangle.html#subset-to-asia",
    "title": "Data wrangling II",
    "section": "Subset to Asia",
    "text": "Subset to Asia\nI can use filter() to subset the data to Asia, store it as a new object gap_asia, and use that new object to make a plot\n\ngap_asia = gapminder |&gt; filter(continent == \"Asia\")\n\nggplot(gap_asia, aes(x = gdpPercap, y = lifeExp)) + geom_point()"
  },
  {
    "objectID": "slides/05-wrangle.html#using-the-new-object",
    "href": "slides/05-wrangle.html#using-the-new-object",
    "title": "Data wrangling II",
    "section": "Using the new object",
    "text": "Using the new object\nNotice how I need to use the new object\nthe original gapminder does not have what I want\n\n\n\n\nggplot(gap_asia, aes(x = gdpPercap, \n                       y = lifeExp)) + \n  geom_point()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder, aes(x = gdpPercap, \n                      y = lifeExp)) + \n  geom_point()"
  },
  {
    "objectID": "slides/05-wrangle.html#filter-and-variables-types",
    "href": "slides/05-wrangle.html#filter-and-variables-types",
    "title": "Data wrangling II",
    "section": "filter() and variables types",
    "text": "filter() and variables types\nFiltering requires knowing the type of variable you are working with\n\nNumerical variables do not use quotes\n\ngapminder |&gt; filter(year &gt; 2000)\n\n\n\nCategorical variables use quotes, and spelling must be exact\nâœ…\n\ngapminder |&gt; filter(continent == \"Asia\")\n\n\n\nâŒ\n\ngapminder |&gt; filter(continent == \"asia\")\n\n\n\nTRUE/FALSE variables are all-caps, no quotes\n\ngapminder |&gt; filter(is_asia == TRUE)"
  },
  {
    "objectID": "slides/05-wrangle.html#what-values-does-a-variable-take-on",
    "href": "slides/05-wrangle.html#what-values-does-a-variable-take-on",
    "title": "Data wrangling II",
    "section": "What values does a variable take on?",
    "text": "What values does a variable take on?\nTo figure out what values a variable can take on, you can use distinct()\n\n\nbot |&gt; \n  distinct(religion)\n\n# A tibble: 13 Ã— 1\n   religion                 \n   &lt;fct&gt;                    \n 1 Roman Catholic           \n 2 Protestant               \n 3 Jewish                   \n 4 Nothing in particular    \n 5 Agnostic                 \n 6 Atheist                  \n 7 Something else           \n 8 Mormon                   \n 9 Hindu                    \n10 Muslim                   \n11 Eastern or Greek Orthodox\n12 Buddhist                 \n13 &lt;NA&gt;"
  },
  {
    "objectID": "slides/05-wrangle.html#homicides-in-2019",
    "href": "slides/05-wrangle.html#homicides-in-2019",
    "title": "Data wrangling II",
    "section": "Homicides in 2019",
    "text": "Homicides in 2019\n\n\n\n\n\n\nstate\ncity\npopulation\nmurder_total\n\n\n\n\nAlabama\nMobile\n248431\n50\n\n\nAlaska\nAnchorage\n296188\n27\n\n\nArizona\nChandler\n249355\n5\n\n\nArizona\nGilbert\n242090\n5\n\n\nArizona\nGlendale\n249273\n12\n\n\nArizona\nMesa\n492268\n23"
  },
  {
    "objectID": "slides/05-wrangle.html#most-violent-cities-in-america",
    "href": "slides/05-wrangle.html#most-violent-cities-in-america",
    "title": "Data wrangling II",
    "section": "Most violent cities in America?",
    "text": "Most violent cities in America?"
  },
  {
    "objectID": "slides/05-wrangle.html#fewer-deaths-in-towns-with-less-people",
    "href": "slides/05-wrangle.html#fewer-deaths-in-towns-with-less-people",
    "title": "Data wrangling II",
    "section": "Fewer deaths in towns with less people",
    "text": "Fewer deaths in towns with less people"
  },
  {
    "objectID": "slides/05-wrangle.html#normalizing-variables",
    "href": "slides/05-wrangle.html#normalizing-variables",
    "title": "Data wrangling II",
    "section": "Normalizing variables",
    "text": "Normalizing variables\nTo compare across cities we need to take into account differences in population\n\nWe want to know how many murders have taken place (or drug overdoses, or crimes, or COVID cases, orâ€¦) per person in the city (per capita)\n\n\nThis is called normalizing a variable; changing it so that we can make units more comparable"
  },
  {
    "objectID": "slides/05-wrangle.html#murder-rate",
    "href": "slides/05-wrangle.html#murder-rate",
    "title": "Data wrangling II",
    "section": "Murder rate",
    "text": "Murder rate\nIn math terms this is just dividing the number of murders by population:\n\\(Murders_{capita} = \\frac{Murders}{Population}\\) = â€œhow many murders per personâ€\n\n\nSince this fraction is tiny, the convention is to multiply by a number that makes sense\n\n\nfor the population of a city, say 100,000 people\n\n\n\\(Murders_{per 100k} = \\frac{Murders}{Population} \\times 100,000\\) = â€œhow many murders per 100,000 peopleâ€"
  },
  {
    "objectID": "slides/05-wrangle.html#comparing-murder-rates",
    "href": "slides/05-wrangle.html#comparing-murder-rates",
    "title": "Data wrangling II",
    "section": "Comparing murder rates",
    "text": "Comparing murder rates\nIf we look at murder rates, the picture changes:"
  },
  {
    "objectID": "slides/05-wrangle.html#using-mutate",
    "href": "slides/05-wrangle.html#using-mutate",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#using-mutate-1",
    "href": "slides/05-wrangle.html#using-mutate-1",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt; \n  mutate()\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#using-mutate-2",
    "href": "slides/05-wrangle.html#using-mutate-2",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt; \n  mutate(murder_capita = murder_total / population)\n\n# A tibble: 100 Ã— 5\n   state      city       population murder_total murder_capita\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201 \n 2 Alaska     Anchorage      296188        27.0      0.0000912\n 3 Arizona    Chandler       249355         5.01     0.0000201\n 4 Arizona    Gilbert        242090         5.01     0.0000207\n 5 Arizona    Glendale       249273        12.0      0.0000481\n 6 Arizona    Mesa           492268        23.0      0.0000467\n 7 Arizona    Phoenix       1608139       154.       0.0000955\n 8 Arizona    Scottsdale     251840         5.01     0.0000199\n 9 Arizona    Tucson         532323        46.0      0.0000864\n10 California Anaheim        353400        10.0      0.0000283\n# â„¹ 90 more rows\n\n\nNotice that I named a new variable, murder_capita"
  },
  {
    "objectID": "slides/05-wrangle.html#using-mutate-3",
    "href": "slides/05-wrangle.html#using-mutate-3",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt; \n  mutate(murder_capita = murder_total / population, \n         murder_rate = murder_capita * 100000)\n\n# A tibble: 100 Ã— 6\n   state      city       population murder_total murder_capita murder_rate\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201        20.1 \n 2 Alaska     Anchorage      296188        27.0      0.0000912        9.12\n 3 Arizona    Chandler       249355         5.01     0.0000201        2.01\n 4 Arizona    Gilbert        242090         5.01     0.0000207        2.07\n 5 Arizona    Glendale       249273        12.0      0.0000481        4.81\n 6 Arizona    Mesa           492268        23.0      0.0000467        4.67\n 7 Arizona    Phoenix       1608139       154.       0.0000955        9.55\n 8 Arizona    Scottsdale     251840         5.01     0.0000199        1.99\n 9 Arizona    Tucson         532323        46.0      0.0000864        8.64\n10 California Anaheim        353400        10.0      0.0000283        2.83\n# â„¹ 90 more rows\n\n\nNotice the new columns"
  },
  {
    "objectID": "slides/05-wrangle.html#forgetting-to-store",
    "href": "slides/05-wrangle.html#forgetting-to-store",
    "title": "Data wrangling II",
    "section": "Forgetting to store",
    "text": "Forgetting to store\nIf you donâ€™t store your changes, they will melt away, like tears in the rain\n\nmurder_set |&gt; \n  mutate(murder_capita = murder_total / population, \n         murder_rate = murder_capita * 100000)\n\n\n\nmurder_set\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#new-object-or-overwite-the-old-one",
    "href": "slides/05-wrangle.html#new-object-or-overwite-the-old-one",
    "title": "Data wrangling II",
    "section": "New object, or overwite the old one?",
    "text": "New object, or overwite the old one?\n\nYou can make a new object:\n\nmurder_rates = murder_set |&gt;\n  mutate(murder_capita = murder_total / population, \n         murder_rate = murder_capita * 100000)\n\n\n\nOr overwrite the old one\n\nmurder_set = murder_set |&gt;\n  mutate(murder_capita = murder_total / population, \n         murder_rate = murder_capita * 100000)\n\n\n\nIn general, overwriting when you are adding stuff to your data (mutate) is fine\n\nmurder_set\n\n# A tibble: 100 Ã— 6\n   state      city       population murder_total murder_capita murder_rate\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201        20.1 \n 2 Alaska     Anchorage      296188        27.0      0.0000912        9.12\n 3 Arizona    Chandler       249355         5.01     0.0000201        2.01\n 4 Arizona    Gilbert        242090         5.01     0.0000207        2.07\n 5 Arizona    Glendale       249273        12.0      0.0000481        4.81\n 6 Arizona    Mesa           492268        23.0      0.0000467        4.67\n 7 Arizona    Phoenix       1608139       154.       0.0000955        9.55\n 8 Arizona    Scottsdale     251840         5.01     0.0000199        1.99\n 9 Arizona    Tucson         532323        46.0      0.0000864        8.64\n10 California Anaheim        353400        10.0      0.0000283        2.83\n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#new-object-or-overwite-the-old-one-1",
    "href": "slides/05-wrangle.html#new-object-or-overwite-the-old-one-1",
    "title": "Data wrangling II",
    "section": "New object, or overwite the old one?",
    "text": "New object, or overwite the old one?\nOverwriting when you are removing information from the data can be bad\n\nFor example, when we filter()\n\n\n\ngapminder = gapminder |&gt; \n  filter(continent == \"Africa\")\ngapminder\n\n# A tibble: 624 Ã— 6\n   country continent  year lifeExp      pop gdpPercap\n   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1 Algeria Africa     1952    43.1  9279525     2449.\n 2 Algeria Africa     1957    45.7 10270856     3014.\n 3 Algeria Africa     1962    48.3 11000948     2551.\n 4 Algeria Africa     1967    51.4 12760499     3247.\n 5 Algeria Africa     1972    54.5 14760787     4183.\n 6 Algeria Africa     1977    58.0 17152804     4910.\n 7 Algeria Africa     1982    61.4 20033753     5745.\n 8 Algeria Africa     1987    65.8 23254956     5681.\n 9 Algeria Africa     1992    67.7 26298373     5023.\n10 Algeria Africa     1997    69.2 29072015     4797.\n# â„¹ 614 more rows\n\n\n\n\nThis is bad, since we lose the original gapminder data"
  },
  {
    "objectID": "slides/05-wrangle.html#your-turn-climate-change",
    "href": "slides/05-wrangle.html#your-turn-climate-change",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨\n\n\n\n\nSample from climate dataset\n\n\ncountry\nyear\npopulation\nco2\n\n\n\n\nCyprus\n1986\n712335\n3.61\n\n\nJordan\n1958\n832979\n0.52\n\n\nSlovenia\n2020\n2078931\n12.56\n\n\nTurkey\n1921\n14102330\n0.84\n\n\nPeru\n1888\n3287640\n0.01"
  },
  {
    "objectID": "slides/05-wrangle.html#your-turn-climate-change-1",
    "href": "slides/05-wrangle.html#your-turn-climate-change-1",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨\nUsing climate, make the following two plots looking only at Germany, USA, China, India:\n\nA grouped time-series of co2 emissions over time (separate country by color)\nA grouped time-series of co2 emissions per capita over time (separate country by color)\nWhoâ€™s to â€œblameâ€ for climate change? And where should we focus environmental efforts?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/05-wrangle.html#creating-categories-with-case_when",
    "href": "slides/05-wrangle.html#creating-categories-with-case_when",
    "title": "Data wrangling II",
    "section": "Creating categories with case_when()",
    "text": "Creating categories with case_when()\n\nSometimes we want to create categorical variables (tall, short, poor, rich, Republican-leaning, Democrat-leaning, etc.)\n\n\nWe can use case_when(), which goes within mutate()\n\n\nLike filter(), case_when() also relies on logical operators"
  },
  {
    "objectID": "slides/05-wrangle.html#who-won-the-county",
    "href": "slides/05-wrangle.html#who-won-the-county",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\n\n\n\n\nsample from elections dataset\n\n\nname\nstate\nper_gop_2020\nper_dem_2020\n\n\n\n\nHinsdale County\nCO\n0.56\n0.40\n\n\nUnion County\nSD\n0.67\n0.31\n\n\nCurry County\nOR\n0.57\n0.41\n\n\nLa Plata County\nCO\n0.40\n0.58\n\n\nWaller County\nTX\n0.63\n0.36\n\n\nHood County\nTX\n0.81\n0.17\n\n\nRandolph County\nAR\n0.79\n0.18\n\n\nBenton County\nWA\n0.59\n0.38\n\n\nWood County\nTX\n0.84\n0.15\n\n\nNewton County\nMS\n0.69\n0.30"
  },
  {
    "objectID": "slides/05-wrangle.html#who-won-the-county-1",
    "href": "slides/05-wrangle.html#who-won-the-county-1",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections\n\n# A tibble: 3,152 Ã— 4\n   name            state per_gop_2020 per_dem_2020\n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;\n 1 Autauga County  AL           0.714       0.270 \n 2 Baldwin County  AL           0.762       0.224 \n 3 Barbour County  AL           0.535       0.458 \n 4 Bibb County     AL           0.784       0.207 \n 5 Blount County   AL           0.896       0.0957\n 6 Bullock County  AL           0.248       0.747 \n 7 Butler County   AL           0.575       0.418 \n 8 Calhoun County  AL           0.688       0.298 \n 9 Chambers County AL           0.573       0.416 \n10 Cherokee County AL           0.860       0.132 \n# â„¹ 3,142 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#who-won-the-county-2",
    "href": "slides/05-wrangle.html#who-won-the-county-2",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections |&gt; \n  mutate(who_won = case_when(per_gop_2020 &gt; per_dem_2020 ~ \"Republicans\"))\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020 who_won    \n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;      \n 1 Autauga County  AL           0.714       0.270  Republicans\n 2 Baldwin County  AL           0.762       0.224  Republicans\n 3 Barbour County  AL           0.535       0.458  Republicans\n 4 Bibb County     AL           0.784       0.207  Republicans\n 5 Blount County   AL           0.896       0.0957 Republicans\n 6 Bullock County  AL           0.248       0.747  &lt;NA&gt;       \n 7 Butler County   AL           0.575       0.418  Republicans\n 8 Calhoun County  AL           0.688       0.298  Republicans\n 9 Chambers County AL           0.573       0.416  Republicans\n10 Cherokee County AL           0.860       0.132  Republicans\n# â„¹ 3,142 more rows\n\n\n\n\n\n\n\n\nNote\n\n\nRemember when we mutate() we have to name the new variable\n\n\n\n\npoint out the NA"
  },
  {
    "objectID": "slides/05-wrangle.html#who-won-the-county-3",
    "href": "slides/05-wrangle.html#who-won-the-county-3",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections |&gt; \n  mutate(who_won = case_when(per_gop_2020 &gt; per_dem_2020 ~ \"Republicans\",\n                             per_dem_2020 &gt; per_gop_2020 ~ \"Democrats\"))\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020 who_won    \n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;      \n 1 Autauga County  AL           0.714       0.270  Republicans\n 2 Baldwin County  AL           0.762       0.224  Republicans\n 3 Barbour County  AL           0.535       0.458  Republicans\n 4 Bibb County     AL           0.784       0.207  Republicans\n 5 Blount County   AL           0.896       0.0957 Republicans\n 6 Bullock County  AL           0.248       0.747  Democrats  \n 7 Butler County   AL           0.575       0.418  Republicans\n 8 Calhoun County  AL           0.688       0.298  Republicans\n 9 Chambers County AL           0.573       0.416  Republicans\n10 Cherokee County AL           0.860       0.132  Republicans\n# â„¹ 3,142 more rows\n\n\n\nHow would I add condition for tie?"
  },
  {
    "objectID": "slides/05-wrangle.html#ok-but-by-how-much",
    "href": "slides/05-wrangle.html#ok-but-by-how-much",
    "title": "Data wrangling II",
    "section": "OK but by how much?",
    "text": "OK but by how much?\nOur categories can be more complex, for instance the win margin\n\nStep 1: calculate the win margin\n\nsmall_elections |&gt; \n  mutate(margin = per_gop_2020 - per_dem_2020)\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020  margin\n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;   &lt;dbl&gt;\n 1 Autauga County  AL           0.714       0.270   0.444 \n 2 Baldwin County  AL           0.762       0.224   0.538 \n 3 Barbour County  AL           0.535       0.458   0.0766\n 4 Bibb County     AL           0.784       0.207   0.577 \n 5 Blount County   AL           0.896       0.0957  0.800 \n 6 Bullock County  AL           0.248       0.747  -0.499 \n 7 Butler County   AL           0.575       0.418   0.157 \n 8 Calhoun County  AL           0.688       0.298   0.390 \n 9 Chambers County AL           0.573       0.416   0.156 \n10 Cherokee County AL           0.860       0.132   0.728 \n# â„¹ 3,142 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#ok-but-by-how-much-1",
    "href": "slides/05-wrangle.html#ok-but-by-how-much-1",
    "title": "Data wrangling II",
    "section": "OK but by how much?",
    "text": "OK but by how much?\nStep 2: add the categories\n\nsmall_elections |&gt; \n  mutate(margin = per_gop_2020 - per_dem_2020) |&gt; \n  mutate(who_won = case_when(margin &gt; 0 & margin &lt; .1 ~ \"R &lt; 10\"))\n\n# A tibble: 3,152 Ã— 6\n   name            state per_gop_2020 per_dem_2020  margin who_won\n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  \n 1 Autauga County  AL           0.714       0.270   0.444  &lt;NA&gt;   \n 2 Baldwin County  AL           0.762       0.224   0.538  &lt;NA&gt;   \n 3 Barbour County  AL           0.535       0.458   0.0766 R &lt; 10 \n 4 Bibb County     AL           0.784       0.207   0.577  &lt;NA&gt;   \n 5 Blount County   AL           0.896       0.0957  0.800  &lt;NA&gt;   \n 6 Bullock County  AL           0.248       0.747  -0.499  &lt;NA&gt;   \n 7 Butler County   AL           0.575       0.418   0.157  &lt;NA&gt;   \n 8 Calhoun County  AL           0.688       0.298   0.390  &lt;NA&gt;   \n 9 Chambers County AL           0.573       0.416   0.156  &lt;NA&gt;   \n10 Cherokee County AL           0.860       0.132   0.728  &lt;NA&gt;   \n# â„¹ 3,142 more rows"
  },
  {
    "objectID": "slides/05-wrangle.html#ok-but-by-how-much-2",
    "href": "slides/05-wrangle.html#ok-but-by-how-much-2",
    "title": "Data wrangling II",
    "section": "OK but by how much?",
    "text": "OK but by how much?\nStep 3: keep adding categories\n\nsmall_elections |&gt; \n  mutate(margin = per_gop_2020 - per_dem_2020) |&gt; \n  mutate(who_won = case_when(margin &gt; 0 & margin &lt; .1 ~ \"R &lt; 10\",\n                             margin &gt;= .1 & margin &lt; .2 ~ \"R + 10\"))\n\n# A tibble: 3,152 Ã— 6\n   name            state per_gop_2020 per_dem_2020  margin who_won\n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  \n 1 Autauga County  AL           0.714       0.270   0.444  &lt;NA&gt;   \n 2 Baldwin County  AL           0.762       0.224   0.538  &lt;NA&gt;   \n 3 Barbour County  AL           0.535       0.458   0.0766 R &lt; 10 \n 4 Bibb County     AL           0.784       0.207   0.577  &lt;NA&gt;   \n 5 Blount County   AL           0.896       0.0957  0.800  &lt;NA&gt;   \n 6 Bullock County  AL           0.248       0.747  -0.499  &lt;NA&gt;   \n 7 Butler County   AL           0.575       0.418   0.157  R + 10 \n 8 Calhoun County  AL           0.688       0.298   0.390  &lt;NA&gt;   \n 9 Chambers County AL           0.573       0.416   0.156  R + 10 \n10 Cherokee County AL           0.860       0.132   0.728  &lt;NA&gt;   \n# â„¹ 3,142 more rows\n\n\n\nAnd so onâ€¦"
  },
  {
    "objectID": "slides/05-wrangle.html#your-turn",
    "href": "slides/05-wrangle.html#your-turn",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸš¨\nUsing the elections dataset:\n\nCreate a variable that tells you what happened in the 2016 election in each county. The variable should incorporate four possibilities:\n\nDEMS won in 2012 and in 2016 (â€œblueâ€)\nREPS won in 2012 and in 2016 (â€œredâ€)\nthe county flipped from blue to red (â€œblue to redâ€)\nthe county flipped from red to blue (â€œred to blueâ€)\n\nMake a boxplot that compares household income (x-axis) across this variable (y-axis)\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/07-relationships.html#the-feeling-thermometer",
    "href": "slides/07-relationships.html#the-feeling-thermometer",
    "title": "Relationships II",
    "section": "The feeling thermometer",
    "text": "The feeling thermometer\nWe can use summarise() to measure average support for specific groups:\n\ntherm %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  avg_police\n       &lt;dbl&gt;\n1       75.7"
  },
  {
    "objectID": "slides/07-relationships.html#feeling-thermometer",
    "href": "slides/07-relationships.html#feeling-thermometer",
    "title": "Relationships II",
    "section": "Feeling thermometer",
    "text": "Feeling thermometer\nWe can compare where support is highest and lowest:\n\ntherm %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 6\n  avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n       &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1       75.7       50.0      76.1      61.9    52.1      71.3\n\n\n\npatterns"
  },
  {
    "objectID": "slides/07-relationships.html#breaking-down-support",
    "href": "slides/07-relationships.html#breaking-down-support",
    "title": "Relationships II",
    "section": "Breaking down support",
    "text": "Breaking down support\nWe can look for patterns by using group_by() to separate average support by respondent characteristics:\n\n\ntherm %&gt;% \n  group_by(party_id) %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE))\n\n# A tibble: 5 Ã— 7\n  party_id    avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n  &lt;fct&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1 Democrat          67.8       64.6      74.1      71.7    73.9      78.3\n2 Republican        87.6       33.3      81.7      50.2    30.3      65.6\n3 Independent       74.2       49.0      74.1      61.5    48.3      69.1\n4 Other             72.7       45.1      71.1      65.4    40.7      70.2\n5 Not sure          70.1       47.1      70.8      56.9    54.0      66.7\n\n\n\ntake code and iteratively change it"
  },
  {
    "objectID": "slides/07-relationships.html#breaking-down-support-1",
    "href": "slides/07-relationships.html#breaking-down-support-1",
    "title": "Relationships II",
    "section": "Breaking down support",
    "text": "Breaking down support\nWe can use filter() to focus our comparison on fewer categories:\n\n\ntherm_by_party = therm %&gt;% \n  filter(party_id %in% c(\"Democrat\", \"Republican\")) %&gt;% \n  group_by(party_id) %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE))\ntherm_by_party\n\n# A tibble: 2 Ã— 7\n  party_id   avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n  &lt;fct&gt;           &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1 Democrat         67.8       64.6      74.1      71.7    73.9      78.3\n2 Republican       87.6       33.3      81.7      50.2    30.3      65.6\n\n\n\nWhere are the biggest partisan gaps? Whatâ€™s going on with immigrants? Is this really an apples-to-apples comparison?"
  },
  {
    "objectID": "slides/07-relationships.html#the-immigration-gap",
    "href": "slides/07-relationships.html#the-immigration-gap",
    "title": "Relationships II",
    "section": "The immigration gap",
    "text": "The immigration gap\n\nWhat explains this gap? How much is it about each partyâ€™s ideology and how much is about who is in each party?\n\n\nImmigrants in the USA are more likely to identify as Democrat\n\n\nHow much of the difference we are observing across parties solely about parties and how much is it about demographic differences?\n\n\nIt might be, for instance, that the attitudes of non-migrants donâ€™t differ much across parties\n\n\nthat is, the big gap we see is all because immigrants are both more likely to be Democrats and have stronger views of own community"
  },
  {
    "objectID": "slides/07-relationships.html#making-sense-of-the-immigration-gap",
    "href": "slides/07-relationships.html#making-sense-of-the-immigration-gap",
    "title": "Relationships II",
    "section": "Making sense of the immigration gap",
    "text": "Making sense of the immigration gap\nWe want an apples to apples comparison: White Dems vs.Â White Reps, Asian Dems vs.Â Asian Reps, and so on\n\nWe can â€œtestâ€ this concern by breaking the data down further, by race:\n\n\n\ntherm %&gt;% \n  filter(party_id %in% c(\"Democrat\", \"Republican\")) %&gt;%\n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))\n\n# A tibble: 14 Ã— 3\n# Groups:   party_id [2]\n   party_id   race            avg_imm\n   &lt;fct&gt;      &lt;fct&gt;             &lt;dbl&gt;\n 1 Democrat   White              71.2\n 2 Democrat   Black              71.1\n 3 Democrat   Hispanic           76.2\n 4 Democrat   Asian              75.5\n 5 Democrat   Native American    62.9\n 6 Democrat   Mixed              74.6\n 7 Democrat   Other              84.1\n 8 Republican White              49.8\n 9 Republican Black              54.6\n10 Republican Hispanic           58.0\n11 Republican Asian              54.7\n12 Republican Native American    47.4\n13 Republican Mixed              51.4\n14 Republican Other              42.3"
  },
  {
    "objectID": "slides/07-relationships.html#making-sense-of-the-immigration-gap-1",
    "href": "slides/07-relationships.html#making-sense-of-the-immigration-gap-1",
    "title": "Relationships II",
    "section": "Making sense of the immigration gap",
    "text": "Making sense of the immigration gap\nWe can filter to focus on fewer races:\n\n\ntherm %&gt;% \n  filter(party_id %in% c(\"Democrat\", \"Republican\")) %&gt;%\n  filter(race %in% c(\"White\", \"Black\", \"Hispanic\", \"Asian\")) |&gt; \n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))\n\n# A tibble: 8 Ã— 3\n# Groups:   party_id [2]\n  party_id   race     avg_imm\n  &lt;fct&gt;      &lt;fct&gt;      &lt;dbl&gt;\n1 Democrat   White       71.2\n2 Democrat   Black       71.1\n3 Democrat   Hispanic    76.2\n4 Democrat   Asian       75.5\n5 Republican White       49.8\n6 Republican Black       54.6\n7 Republican Hispanic    58.0\n8 Republican Asian       54.7"
  },
  {
    "objectID": "slides/07-relationships.html#visualizing-the-pattern",
    "href": "slides/07-relationships.html#visualizing-the-pattern",
    "title": "Relationships II",
    "section": "Visualizing the pattern",
    "text": "Visualizing the pattern\nWe can create a new object to make a nice plot:\n\ntherm_party_immig = therm %&gt;% \n  filter(party_id %in% c(\"Democrat\", \"Republican\")) %&gt;%\n  filter(race %in% c(\"White\", \"Black\", \"Hispanic\", \"Asian\")) |&gt; \n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))"
  },
  {
    "objectID": "slides/07-relationships.html#the-immigration-attitudes-gap",
    "href": "slides/07-relationships.html#the-immigration-attitudes-gap",
    "title": "Relationships II",
    "section": "The immigration attitudes gap",
    "text": "The immigration attitudes gap\n\n\ncomparing apples to apples, the gap persists"
  },
  {
    "objectID": "slides/07-relationships.html#non-differences-can-be-surprsing-too",
    "href": "slides/07-relationships.html#non-differences-can-be-surprsing-too",
    "title": "Relationships II",
    "section": "Non-differences can be surprsing too",
    "text": "Non-differences can be surprsing too\n\ntherm %&gt;% \n  summarise(avg_dems = mean(ft_dem, na.rm = TRUE), \n            avg_reps = mean(ft_rep, na.rm = TRUE))\n\n# A tibble: 1 Ã— 2\n  avg_dems avg_reps\n     &lt;dbl&gt;    &lt;dbl&gt;\n1     49.4     43.3\n\n\n\nPretty neutral feelings; mass polarization is dead!"
  },
  {
    "objectID": "slides/07-relationships.html#oh",
    "href": "slides/07-relationships.html#oh",
    "title": "Relationships II",
    "section": "Ohâ€¦",
    "text": "Ohâ€¦\nBreaking down data says something different\n\n\ntherm %&gt;% \n  group_by(party_id) %&gt;% #&lt;&lt;\n  summarise(dems = mean(ft_dem, na.rm = TRUE), \n            reps = mean(ft_rep, na.rm = TRUE))\n\n# A tibble: 5 Ã— 3\n  party_id     dems  reps\n  &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Democrat     79.9  22.1\n2 Republican   21.5  72.4\n3 Independent  41.2  39.6\n4 Other        31.9  38.7\n5 Not sure     43.2  42.3"
  },
  {
    "objectID": "slides/07-relationships.html#negative-polarization",
    "href": "slides/07-relationships.html#negative-polarization",
    "title": "Relationships II",
    "section": "Negative polarization",
    "text": "Negative polarization"
  },
  {
    "objectID": "slides/07-relationships.html#dummy-variables-1",
    "href": "slides/07-relationships.html#dummy-variables-1",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nOften, categorical variables are coded 0/1 to represent â€œyes/noâ€ or â€œpresence/absenceâ€\n\n\n\n\n\nsample from leaders dataset\n\n\ncountry\nleader\nmil_service\ncombat\n\n\n\n\nBOT\nKhama\n0\n0\n\n\nRUS\nNicholas II\n1\n0\n\n\nMEX\nSalinas\n0\n0\n\n\nMAA\nSidi Ahmed Taya\n1\n1\n\n\nCHL\nFrei Montalva\n0\n0\n\n\nLEB\nChamoun\n0\n0\n\n\nGRC\nTsokhatzopulos\n0\n0\n\n\nCOL\nNel Ospina\n1\n1\n\n\nOMA\nTaimur ibn Faysal\n0\n0\n\n\nBNG\nHasina Wazed\nNA\nNA"
  },
  {
    "objectID": "slides/07-relationships.html#dummy-proportions",
    "href": "slides/07-relationships.html#dummy-proportions",
    "title": "Relationships II",
    "section": "Dummy proportions",
    "text": "Dummy proportions\nDummy variables are useful for lots of reasons\n\nOne is that when you take the average of a dummy variable you get a proportion\n\n\nCoffee today? 1, 0, 0, 0, 1\n\n\nAverage of coffee = \\(\\frac{1 + 0 + 0 + 0 + 1}{5} = .40\\)\n\n\nWe can think about that proportion as a probability or likelihood\n\n\nWhat is the probability a random student in class has had coffee? 2/5 = 40%"
  },
  {
    "objectID": "slides/07-relationships.html#dummy-variables-2",
    "href": "slides/07-relationships.html#dummy-variables-2",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nWhen you take the average of a dummy variable you get a proportion:\n\nleader %&gt;% \n  summarise(combat = mean(combat, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  combat\n   &lt;dbl&gt;\n1  0.246\n\n\nApproximately 24% of world leaders have combat experience, or\n\nthereâ€™s a 24% chance a randomly selected leader has combat experience"
  },
  {
    "objectID": "slides/07-relationships.html#dummy-variables-3",
    "href": "slides/07-relationships.html#dummy-variables-3",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nLike with anything else, we can take averages by groups\n\nFor example, combat experience by country\n\n\n\nleader %&gt;% \n  group_by(country) %&gt;%\n  summarise(combat = mean(combat, na.rm = TRUE)) |&gt; \n  arrange(desc(combat))\n\n# A tibble: 189 Ã— 2\n   country combat\n   &lt;chr&gt;    &lt;dbl&gt;\n 1 AUH      0.958\n 2 TAJ      0.857\n 3 BFO      0.817\n 4 TOG      0.816\n 5 NIG      0.780\n 6 PRK      0.723\n 7 BEN      0.683\n 8 EQG      0.673\n 9 NIR      0.667\n10 CON      0.667\n# â„¹ 179 more rows\n\n\nNote that arrange(desc(variable)) arranges the dataset in descending order"
  },
  {
    "objectID": "slides/07-relationships.html#dummy-variables-4",
    "href": "slides/07-relationships.html#dummy-variables-4",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nWe can store as an object, to make a plot:\n\n\ncombat_country = leader %&gt;% \n  group_by(country) %&gt;%\n  # proportion who've seen combat\n  summarise(combat = mean(combat, na.rm = TRUE)) |&gt; \n  # subset to just the top 10 in terms of combat experience\n  slice_max(order_by = combat, n = 10)\n\nggplot(combat_country, aes(y = reorder(country, combat),\n                           x = combat)) + \n  geom_col()"
  },
  {
    "objectID": "slides/07-relationships.html#your-turn-bob-ross",
    "href": "slides/07-relationships.html#your-turn-bob-ross",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨\n\n\n\n\n\n\nepisode\nseason\nepisode_num\ntitle\napple_frame\naurora_borealis\nbarn\nbeach\nboat\nbridge\nbuilding\nbushes\ncabin\ncactus\ncircle_frame\ncirrus\ncliff\nclouds\nconifer\ncumulus\ndeciduous\ndiane_andre\ndock\ndouble_oval_frame\nfarm\nfence\nfire\nflorida_frame\nflowers\nfog\nframed\ngrass\nguest\nhalf_circle_frame\nhalf_oval_frame\nhills\nlake\nlakes\nlighthouse\nmill\nmoon\nmountain\nmountains\nnight\nocean\noval_frame\npalm_trees\npath\nperson\nportrait\nrectangle_3d_frame\nrectangular_frame\nriver\nrocks\nseashell_frame\nsnow\nsnowy_mountain\nsplit_frame\nsteve_ross\nstructure\nsun\ntomb_frame\ntree\ntrees\ntriple_frame\nwaterfall\nwaves\nwindmill\nwindow_frame\nwinter\nwood_framed\n\n\n\n\nS01E01\n1\n1\nA WALK IN THE WOODS\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E02\n1\n2\nMT. MCKINLEY\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0\n\n\nS01E03\n1\n3\nEBONY SUNSET\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0\n\n\nS01E04\n1\n4\nWINTER MIST\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E05\n1\n5\nQUIET STREAM\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E06\n1\n6\nWINTER MOON\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n1\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0"
  },
  {
    "objectID": "slides/07-relationships.html#your-turn-bob-ross-1",
    "href": "slides/07-relationships.html#your-turn-bob-ross-1",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨\nUsing the bob_ross data from fivethirtyeight package\n\nHow likely was Bob Ross to include a happy little tree in one of his paintings?\nHow has the frequency with which Bob Ross included clouds in his paintings changed across the showâ€™s seasons? Make a time series to illustrate.\nIf there is a mountain in a Bob Ross painting, how likely is it that mountain is snowy (snowy_mountain)?\nHow much more likely was Steve Ross (steve) to paint a lake (lake) than his dad?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/07-relationships.html#analyzing-categorical-data-1",
    "href": "slides/07-relationships.html#analyzing-categorical-data-1",
    "title": "Relationships II",
    "section": "Analyzing categorical data",
    "text": "Analyzing categorical data\n\nSome variables have values that are categories (race, sex, etc.)\n\n\nCanâ€™t take the mean of a category!\n\n\nBut we can look at the proportions of observations in each category, and look for patterns there"
  },
  {
    "objectID": "slides/07-relationships.html#pokemon-types",
    "href": "slides/07-relationships.html#pokemon-types",
    "title": "Relationships II",
    "section": "Pokemon types",
    "text": "Pokemon types\nHow many Pokemon are there of each type? What are the most and least common types?\n\n\n\n\n\n\nname\ntype1\n\n\n\n\nVaporeon\nwater\n\n\nClawitzer\nwater\n\n\nRegirock\nrock\n\n\nTorterra\ngrass\n\n\nSalandit\npoison\n\n\nMareep\nelectric\n\n\nBlaziken\nfire"
  },
  {
    "objectID": "slides/07-relationships.html#counting-categories",
    "href": "slides/07-relationships.html#counting-categories",
    "title": "Relationships II",
    "section": "Counting categories",
    "text": "Counting categories\nWe can use a new function tally(), in combination with group_by(), to count how many observations are in each category:\n\npokemon\n\n# A tibble: 801 Ã— 14\n   name       type1 type2  height_m weight_kg capture_rate    hp attack defense\n   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1 Bulbasaur  grass poison      0.7       6.9           45    45     49      49\n 2 Ivysaur    grass poison      1        13             45    60     62      63\n 3 Venusaur   grass poison      2       100             45    80    100     123\n 4 Charmander fire  &lt;NA&gt;        0.6       8.5           45    39     52      43\n 5 Charmeleon fire  &lt;NA&gt;        1.1      19             45    58     64      58\n 6 Charizard  fire  flying      1.7      90.5           45    78    104      78\n 7 Squirtle   water &lt;NA&gt;        0.5       9             45    44     48      65\n 8 Wartortle  water &lt;NA&gt;        1        22.5           45    59     63      80\n 9 Blastoise  water &lt;NA&gt;        1.6      85.5           45    79    103     120\n10 Caterpie   bug   &lt;NA&gt;        0.3       2.9          255    45     30      35\n# â„¹ 791 more rows\n# â„¹ 5 more variables: sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,\n#   generation &lt;dbl&gt;, is_legendary &lt;dbl&gt;"
  },
  {
    "objectID": "slides/07-relationships.html#counting-categories-1",
    "href": "slides/07-relationships.html#counting-categories-1",
    "title": "Relationships II",
    "section": "Counting categories",
    "text": "Counting categories\nWe can use a new function tally(), in combination with group_by(), to count how many observations are in each category:\n\npokemon %&gt;% \n  group_by(type1) \n\n# A tibble: 801 Ã— 14\n# Groups:   type1 [18]\n   name       type1 type2  height_m weight_kg capture_rate    hp attack defense\n   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1 Bulbasaur  grass poison      0.7       6.9           45    45     49      49\n 2 Ivysaur    grass poison      1        13             45    60     62      63\n 3 Venusaur   grass poison      2       100             45    80    100     123\n 4 Charmander fire  &lt;NA&gt;        0.6       8.5           45    39     52      43\n 5 Charmeleon fire  &lt;NA&gt;        1.1      19             45    58     64      58\n 6 Charizard  fire  flying      1.7      90.5           45    78    104      78\n 7 Squirtle   water &lt;NA&gt;        0.5       9             45    44     48      65\n 8 Wartortle  water &lt;NA&gt;        1        22.5           45    59     63      80\n 9 Blastoise  water &lt;NA&gt;        1.6      85.5           45    79    103     120\n10 Caterpie   bug   &lt;NA&gt;        0.3       2.9          255    45     30      35\n# â„¹ 791 more rows\n# â„¹ 5 more variables: sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,\n#   generation &lt;dbl&gt;, is_legendary &lt;dbl&gt;"
  },
  {
    "objectID": "slides/07-relationships.html#counting-categories-2",
    "href": "slides/07-relationships.html#counting-categories-2",
    "title": "Relationships II",
    "section": "Counting categories",
    "text": "Counting categories\nWe can use a new function tally(), in combination with group_by(), to count how many observations are in each category:\n\npokemon %&gt;% \n  group_by(type1) %&gt;% \n  tally() \n\n# A tibble: 18 Ã— 2\n   type1        n\n   &lt;chr&gt;    &lt;int&gt;\n 1 bug         72\n 2 dark        29\n 3 dragon      27\n 4 electric    39\n 5 fairy       18\n 6 fighting    28\n 7 fire        52\n 8 flying       3\n 9 ghost       27\n10 grass       78\n11 ground      32\n12 ice         23\n13 normal     105\n14 poison      32\n15 psychic     53\n16 rock        45\n17 steel       24\n18 water      114"
  },
  {
    "objectID": "slides/07-relationships.html#from-counts-to-percents",
    "href": "slides/07-relationships.html#from-counts-to-percents",
    "title": "Relationships II",
    "section": "From counts to percents",
    "text": "From counts to percents\nWe can can then use mutate() to calculate the percent in each group:\n\npokemon %&gt;% \n  group_by(type1) %&gt;% \n  tally() %&gt;% \n  mutate(percent = n / sum(n) * 100) \n\n# A tibble: 18 Ã— 3\n   type1        n percent\n   &lt;chr&gt;    &lt;int&gt;   &lt;dbl&gt;\n 1 bug         72   8.99 \n 2 dark        29   3.62 \n 3 dragon      27   3.37 \n 4 electric    39   4.87 \n 5 fairy       18   2.25 \n 6 fighting    28   3.50 \n 7 fire        52   6.49 \n 8 flying       3   0.375\n 9 ghost       27   3.37 \n10 grass       78   9.74 \n11 ground      32   4.00 \n12 ice         23   2.87 \n13 normal     105  13.1  \n14 poison      32   4.00 \n15 psychic     53   6.62 \n16 rock        45   5.62 \n17 steel       24   3.00 \n18 water      114  14.2  \n\n\n\nstop to show the n/sum(n)"
  },
  {
    "objectID": "slides/07-relationships.html#group_by-tally",
    "href": "slides/07-relationships.html#group_by-tally",
    "title": "Relationships II",
    "section": "group_by + tally()",
    "text": "group_by + tally()\nWe can then store as object for plotting:\n\ntype_pct = pokemon %&gt;% \n  group_by(type1) %&gt;% \n  tally() %&gt;% \n  mutate(percent = n/sum(n) * 100)"
  },
  {
    "objectID": "slides/07-relationships.html#group_by-tally-1",
    "href": "slides/07-relationships.html#group_by-tally-1",
    "title": "Relationships II",
    "section": "group_by + tally()",
    "text": "group_by + tally()\nWe can then store as object for plotting:\n\nggplot(type_pct, aes(y = reorder(type1, percent), \n                     x = percent)) + \n  geom_col(color = \"white\", fill = \"darkblue\") + \n  # suppress legend\n  theme(legend.position = \"none\")"
  },
  {
    "objectID": "slides/07-relationships.html#your-turn-flying-etiquette",
    "href": "slides/07-relationships.html#your-turn-flying-etiquette",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ’º Flying etiquette ğŸ’º ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’º Flying etiquette ğŸ’º ğŸš¨\nA survey of whatâ€™s rude to do on a plane:\n\n\n\n\n\nSample from the flying dataset\n\n\ngender\nage\nheight\nchildren_under_18\nhousehold_income\neducation\nlocation\nfrequency\nrecline_frequency\nrecline_obligation\nrecline_rude\nrecline_eliminate\nswitch_seats_friends\nswitch_seats_family\nwake_up_bathroom\nwake_up_walk\nbaby\nunruly_child\ntwo_arm_rests\nmiddle_arm_rest\nshade\nunsold_seat\ntalk_stranger\nget_up\nelectronics\nsmoked\n\n\n\n\nFemale\n18-29\n5'6\"\nFALSE\n$50,000 - $99,999\nHigh school degree\nWest North Central\nOnce a year or less\nOnce in a while\nTRUE\nSomewhat\nFALSE\nNo\nNo\nNo\nNo\nSomewhat\nVery\nWhoever puts their arm on the arm rest first\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nNo\nNo\nThree times\nFALSE\nFALSE\n\n\nFemale\n30-44\n5'10\"\nFALSE\nNA\nBachelor degree\nEast North Central\nOnce a year or less\nAlways\nTRUE\nNo\nFALSE\nNo\nNo\nNo\nNo\nNo\nSomewhat\nThe person in the middle seat gets both arm rests\nThe arm rests should be shared\nEveryone in the row should have some say\nNo\nSomewhat\nMore than five times times\nFALSE\nFALSE\n\n\nFemale\n&gt; 60\n5'2\"\nFALSE\n$25,000 - $49,999\nBachelor degree\nSouth Atlantic\nOnce a year or less\nOnce in a while\nTRUE\nSomewhat\nFALSE\nNo\nNo\nNo\nSomewhat\nNo\nVery\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nSomewhat\nSomewhat\nTwice\nFALSE\nFALSE\n\n\nFemale\n30-44\n5'7\"\nFALSE\n$50,000 - $99,999\nSome college or Associate degree\nMountain\nOnce a month or less\nAbout half the time\nTRUE\nNo\nFALSE\nNo\nNo\nSomewhat\nVery\nSomewhat\nVery\nThe arm rests should be shared\nWhoever puts their arm on the arm rest first\nEveryone in the row should have some say\nVery\nSomewhat\nTwice\nFALSE\nFALSE\n\n\nMale\n&gt; 60\n6'4\"\nFALSE\n$50,000 - $99,999\nSome college or Associate degree\nEast North Central\nOnce a year or less\nUsually\nTRUE\nNo\nTRUE\nNo\nNo\nNo\nNo\nNo\nSomewhat\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nNo\nNo\nThree times\nFALSE\nFALSE\n\n\nFemale\n&gt; 60\n5'5\"\nFALSE\n$25,000 - $49,999\nGraduate degree\nMiddle Atlantic\nOnce a year or less\nAlways\nTRUE\nNo\nFALSE\nNo\nNo\nNo\nVery\nNo\nNo\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nNo\nNo\nTwice\nFALSE\nFALSE\n\n\nMale\n30-44\n5'6\"\nFALSE\n$50,000 - $99,999\nBachelor degree\nWest South Central\nOnce a month or less\nAbout half the time\nFALSE\nNo\nFALSE\nSomewhat\nSomewhat\nSomewhat\nSomewhat\nSomewhat\nVery\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nSomewhat\nNo\nTwice\nFALSE\nFALSE\n\n\nMale\n&gt; 60\n5'9\"\nFALSE\n$50,000 - $99,999\nGraduate degree\nSouth Atlantic\nOnce a year or less\nUsually\nFALSE\nNo\nFALSE\nNo\nNo\nNo\nNo\nNo\nVery\nThe arm rests should be shared\nWhoever puts their arm on the arm rest first\nThe person in the window seat should have exclusive control\nNo\nNo\nThree times\nFALSE\nFALSE\n\n\nMale\n&gt; 60\n6'0\"\nFALSE\n$50,000 - $99,999\nSome college or Associate degree\nSouth Atlantic\nOnce a year or less\nOnce in a while\nTRUE\nNo\nFALSE\nNo\nNo\nNo\nSomewhat\nNo\nSomewhat\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nNo\nNo\nMore than five times times\nFALSE\nFALSE\n\n\nFemale\n18-29\n5'11\"\nFALSE\n$50,000 - $99,999\nBachelor degree\nWest South Central\nOnce a month or less\nNever\nTRUE\nSomewhat\nTRUE\nNo\nNo\nNo\nSomewhat\nNo\nSomewhat\nThe arm rests should be shared\nWhoever puts their arm on the arm rest first\nEveryone in the row should have some say\nNo\nNo\nTwice\nTRUE\nFALSE"
  },
  {
    "objectID": "slides/07-relationships.html#your-turn-flying-etiquette-1",
    "href": "slides/07-relationships.html#your-turn-flying-etiquette-1",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ’º flying etiquette ğŸ’º ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’º flying etiquette ğŸ’º ğŸš¨\nUsing the flying data from fivethirtyeight\n\nIn a row of three seats, who should get to use the middle arm rest (two_arm_rests)? Make a barplot of the percent of respondents who gave each answer.\nIn general, is it rude to knowingly bring unruly children on a plane? Make a barplot of the percent who gave each answer, but separated by whether the respondent has a kid or not.\nMake a barplot of responses to an etiquette dilemma of your liking. Bonus points if you break it down by a respondent characteristic.\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/09-models.html#uses-of-models",
    "href": "slides/09-models.html#uses-of-models",
    "title": "Modeling II",
    "section": "Uses of models",
    "text": "Uses of models\n\n\nWhat we want out of our model:\n\nDoes TV news make people more energized to vote? Or does it turn them off from politics?\nHow much does an additional hour of TV increase (or decrease) the likelihood that someone votes?\nWhat level of Y (voter turnout) should we expect for a given level of X (exposure to the news)?"
  },
  {
    "objectID": "slides/09-models.html#how-does-car-weight-impact-fuel-efficiency",
    "href": "slides/09-models.html#how-does-car-weight-impact-fuel-efficiency",
    "title": "Modeling II",
    "section": "How does car weight impact fuel efficiency?",
    "text": "How does car weight impact fuel efficiency?\n\n\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nHornet Sportabout\n18.7\n8\n360.0\n175\n3.1\n3.4\n17.0\n0\n0\n3\n2\n\n\nHornet 4 Drive\n21.4\n6\n258.0\n110\n3.1\n3.2\n19.4\n1\n0\n3\n1\n\n\nMazda RX4\n21.0\n6\n160.0\n110\n3.9\n2.6\n16.5\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160.0\n110\n3.9\n2.9\n17.0\n0\n1\n4\n4\n\n\nDuster 360\n14.3\n8\n360.0\n245\n3.2\n3.6\n15.8\n0\n0\n3\n4\n\n\nDatsun 710\n22.8\n4\n108.0\n93\n3.9\n2.3\n18.6\n1\n1\n4\n1\n\n\nMerc 240D\n24.4\n4\n146.7\n62\n3.7\n3.2\n20.0\n1\n0\n4\n2"
  },
  {
    "objectID": "slides/09-models.html#how-does-car-weight-impact-fuel-efficiency-1",
    "href": "slides/09-models.html#how-does-car-weight-impact-fuel-efficiency-1",
    "title": "Modeling II",
    "section": "How does car weight impact fuel efficiency?",
    "text": "How does car weight impact fuel efficiency?\nRemember, we want to estimate \\(\\beta_0\\) (intercept) and \\(\\beta_1\\) (slope)\n\n\\(mpg = \\beta_0 + \\beta1 \\times weight\\)"
  },
  {
    "objectID": "slides/09-models.html#fit-the-model",
    "href": "slides/09-models.html#fit-the-model",
    "title": "Modeling II",
    "section": "Fit the model",
    "text": "Fit the model\nWe can use lm() to fit models in R using this general formula:\n\nlm(Outcome ~ X1 + X2 + â€¦, data = DATA)\n\n\n\nweight_model = lm(mpg ~ wt, data = mtcars)\n\n\n\nNotice that I saved as an object, and the placement of the variables\n\n\nThe outcome always goes on the left hand side"
  },
  {
    "objectID": "slides/09-models.html#extract-the-model",
    "href": "slides/09-models.html#extract-the-model",
    "title": "Modeling II",
    "section": "Extract the model",
    "text": "Extract the model\nWe can extract our estimates of \\(\\beta_0\\) and \\(\\beta_1\\) with tidy(), from the broom package\n\ntidy(weight_model)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    37.3      1.88      19.9  8.24e-19\n2 wt             -5.34     0.559     -9.56 1.29e-10"
  },
  {
    "objectID": "slides/09-models.html#making-sense-of-the-table",
    "href": "slides/09-models.html#making-sense-of-the-table",
    "title": "Modeling II",
    "section": "Making sense of the table",
    "text": "Making sense of the table\n\\(mpg = \\beta_0 + \\beta_1 \\times weight\\)\n\ntidy(weight_model)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    37.3      1.88      19.9  8.24e-19\n2 wt             -5.34     0.559     -9.56 1.29e-10\n\n\n\nThe estimate column gives us \\(\\beta_0\\) (intercept) and \\(\\beta_1\\) (slope for weight)\n\n\nNote! We only care about the first two columns of tidy() so far"
  },
  {
    "objectID": "slides/09-models.html#extract-the-model-1",
    "href": "slides/09-models.html#extract-the-model-1",
    "title": "Modeling II",
    "section": "Extract the model",
    "text": "Extract the model\n\\(mpg = \\beta_0 + \\beta_1 \\times weight\\)\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n37.29\n1.88\n19.86\n0\n\n\nwt\n-5.34\n0.56\n-9.56\n0\n\n\n\n\n\n\n\n\n\nThe intercept ( \\(\\beta_0\\) ) = 37.29\n\n\nThe slope ( \\(\\beta_1\\) ) = -5.3\n\n\nThe model: \\(mpg = 37.29 + -5.3 \\times weight\\)"
  },
  {
    "objectID": "slides/09-models.html#back-to-the-cars",
    "href": "slides/09-models.html#back-to-the-cars",
    "title": "Modeling II",
    "section": "Back to the cars",
    "text": "Back to the cars\nThe model: \\(mpg = 37.29 + -5.3 \\times weight\\)\nHow do we interpret the slope on weight?"
  },
  {
    "objectID": "slides/09-models.html#interpretation-continuous-variables",
    "href": "slides/09-models.html#interpretation-continuous-variables",
    "title": "Modeling II",
    "section": "Interpretation: continuous variables",
    "text": "Interpretation: continuous variables\n\n\n\nAs you turn the dimmer (treatment variable) the light (outcome variable) changes\nTurn the dimmer up, the light increases by SLOPE amount\nTurn the dimmer down, the light decreases by SLOPE amount\nThe change is gradual"
  },
  {
    "objectID": "slides/09-models.html#interpretation-the-slope",
    "href": "slides/09-models.html#interpretation-the-slope",
    "title": "Modeling II",
    "section": "Interpretation: the slope",
    "text": "Interpretation: the slope\n\\(mpg = 37.2 + \\color{red}{-5.3} \\times weight\\)\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n37.29\n1.88\n19.86\n0\n\n\nwt\n-5.34\n0.56\n-9.56\n0\n\n\n\n\n\n\n\n\n\nGeneral: for every unit increase in X, Y changes by \\(\\color{red}{5.3}\\) units\n\n\nSpecific: for every ton of weight you add to a car, you lose \\(\\color{red}{5.3}\\) miles per gallon of fuel efficiency"
  },
  {
    "objectID": "slides/09-models.html#interpretation-the-intercept",
    "href": "slides/09-models.html#interpretation-the-intercept",
    "title": "Modeling II",
    "section": "Interpretation: the intercept",
    "text": "Interpretation: the intercept\n\\(mpg = 37.2 + -5.3 \\times weight\\)\n\nRemember that the Y-intercept is the value of Y when X = 0\n\\[\n\\begin{aligned}\nY = 6 + 2x \\\\\nX = 0 \\\\\nY = 6 + 2 \\times 0 \\\\\nY = 6\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "slides/09-models.html#interpretation-the-intercept-1",
    "href": "slides/09-models.html#interpretation-the-intercept-1",
    "title": "Modeling II",
    "section": "Interpretation: the intercept",
    "text": "Interpretation: the intercept\nTake the formula: \\(mpg = 37.2 + -5.3 \\times weight\\)\n\nSet X (weight) equal to 0 \\(\\rightarrow\\) \\(\\color{red}{37.2} + (-5.3 \\times 0) = \\color{red}{37.2}\\)\n\n\nGeneral: The estimated value of Y, when X equals zero, is \\(\\color{red}{37.2}\\) units\n\n\nSpecific: The estimated fuel efficiency for a car that weighs 0 tons is \\(\\color{red}{37.2}\\) miles per gallon"
  },
  {
    "objectID": "slides/09-models.html#spot-the-intercept",
    "href": "slides/09-models.html#spot-the-intercept",
    "title": "Modeling II",
    "section": "Spot the intercept",
    "text": "Spot the intercept\n\\(mpg = 37.29 + -5.3 \\times weight\\)\n\nWe can confirm weâ€™re not crazy if we zoom out; the line crosses y-axis at 37.2"
  },
  {
    "objectID": "slides/09-models.html#nonsense-intercepts",
    "href": "slides/09-models.html#nonsense-intercepts",
    "title": "Modeling II",
    "section": "Nonsense intercepts",
    "text": "Nonsense intercepts\n\\(mpg = 37.2 + -5.3 \\times weight\\)\nInterpretation of the intercept:\n\n\nThe average fuel efficiency for a car that weighs nothing is 37.2 miles per gallon\n\n\n\nThis is nonsense: a car cannot weigh zero tons\n\n\nYou will run into this often: donâ€™t let it confuse you!\n\n\nthe intercept will rarely be useful on its own; But we need it to make predictions"
  },
  {
    "objectID": "slides/09-models.html#another-example-gapminder",
    "href": "slides/09-models.html#another-example-gapminder",
    "title": "Modeling II",
    "section": "Another example: gapminder",
    "text": "Another example: gapminder\nWhatâ€™s the relationship between GDP per capita and life expectancy?"
  },
  {
    "objectID": "slides/09-models.html#another-example-gapminder-1",
    "href": "slides/09-models.html#another-example-gapminder-1",
    "title": "Modeling II",
    "section": "Another example: gapminder",
    "text": "Another example: gapminder\nWhatâ€™s the relationship between GDP per capita and life expectancy?\n\n\n\n\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nTurkey\nEurope\n2002\n71\n67308928\n6508\n\n\nNorway\nEurope\n1957\n73\n3491938\n11654\n\n\nChile\nAmericas\n1967\n61\n8858908\n5107\n\n\nMauritius\nAfrica\n1952\n51\n516556\n1968\n\n\nHaiti\nAmericas\n1952\n38\n3201488\n1840\n\n\n\n\n\n\n\n\n\nNotice the units: life expectancy in years, GDP in dollars per capita"
  },
  {
    "objectID": "slides/09-models.html#the-model",
    "href": "slides/09-models.html#the-model",
    "title": "Modeling II",
    "section": "The model",
    "text": "The model\nWe fit the model using lm()\n\nwealth_mod = lm(lifeExp ~ gdpPercap, data = gapminder)\n\n\nWe extract the coefficient estimates using tidy()\n\ntidy(wealth_mod)\n\n# A tibble: 2 Ã— 5\n  term         estimate std.error statistic   p.value\n  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept) 54.0      0.315         171.  0        \n2 gdpPercap    0.000765 0.0000258      29.7 3.57e-156"
  },
  {
    "objectID": "slides/09-models.html#interpreting-the-estimates",
    "href": "slides/09-models.html#interpreting-the-estimates",
    "title": "Modeling II",
    "section": "Interpreting the estimates",
    "text": "Interpreting the estimates\n\\(LifeExp = \\beta_0 + \\beta_1 \\times gdpPercap\\)\n\n\n# A tibble: 2 Ã— 5\n  term         estimate std.error statistic   p.value\n  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept) 54.0      0.315         171.  0        \n2 gdpPercap    0.000765 0.0000258      29.7 3.57e-156\n\n\n\n\\(\\beta_1\\), the slope = for every additional dollar of GDP, a countryâ€™s life expectancy rises by .0007 years\n\n\n\\(\\beta_0\\), the intercept = the average life expectancy for a country with no economic activity (GDP = 0) is 54 years"
  },
  {
    "objectID": "slides/09-models.html#the-scale-of-the-coefficients",
    "href": "slides/09-models.html#the-scale-of-the-coefficients",
    "title": "Modeling II",
    "section": "The scale of the coefficients",
    "text": "The scale of the coefficients\n\\(LifeExp = 54 + .0007 \\times gdpPercap\\)\nSlope: for every dollar increase in GDP, life expectancy increases by 0.0007 years\n\nTiny! Does this mean a countryâ€™s wealth has little to do with their health?\n\n\nNo! It is a problem with the scale that GDP is in\n\n\none dollar differences in GDP are tiny, meaningless\n\n\nGDP changes by much more from year to year"
  },
  {
    "objectID": "slides/09-models.html#variable-scales",
    "href": "slides/09-models.html#variable-scales",
    "title": "Modeling II",
    "section": "Variable scales",
    "text": "Variable scales\nWe can rescale GDP so that itâ€™s in 10s of thousands of dollars:\n\ngapminder = gapminder %&gt;%\n  mutate(gdp_10k = gdpPercap/10000)\n\n\n\n# A tibble: 1,704 Ã— 7\n   country     continent  year lifeExp      pop gdpPercap gdp_10k\n   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n 1 Afghanistan Asia       1952    28.8  8425333      779.  0.0779\n 2 Afghanistan Asia       1957    30.3  9240934      821.  0.0821\n 3 Afghanistan Asia       1962    32.0 10267083      853.  0.0853\n 4 Afghanistan Asia       1967    34.0 11537966      836.  0.0836\n 5 Afghanistan Asia       1972    36.1 13079460      740.  0.0740\n 6 Afghanistan Asia       1977    38.4 14880372      786.  0.0786\n 7 Afghanistan Asia       1982    39.9 12881816      978.  0.0978\n 8 Afghanistan Asia       1987    40.8 13867957      852.  0.0852\n 9 Afghanistan Asia       1992    41.7 16317921      649.  0.0649\n10 Afghanistan Asia       1997    41.8 22227415      635.  0.0635\n# â„¹ 1,694 more rows"
  },
  {
    "objectID": "slides/09-models.html#variable-scales-1",
    "href": "slides/09-models.html#variable-scales-1",
    "title": "Modeling II",
    "section": "Variable scales",
    "text": "Variable scales\nNote the variable is the same; only thing that has changed is the scale!"
  },
  {
    "objectID": "slides/09-models.html#re-fit-the-model",
    "href": "slides/09-models.html#re-fit-the-model",
    "title": "Modeling II",
    "section": "Re-fit the model",
    "text": "Re-fit the model\n\nwealth_mod_10k = lm(lifeExp ~ gdp_10k, data = gapminder)\ntidy(wealth_mod_10k)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic   p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)    54.0      0.315     171.  0        \n2 gdp_10k         7.65     0.258      29.7 3.57e-156\n\n\n\nSlope (\\(\\beta_1\\)): for every additional $10,000 of GDP, a country gains about 7.65 years\n\n\nMind your scales: if a coefficient is tiny, ask yourself if the scale makes sense"
  },
  {
    "objectID": "slides/09-models.html#who-trades",
    "href": "slides/09-models.html#who-trades",
    "title": "Modeling II",
    "section": "ğŸš¨ ğŸš¢ Who trades? ğŸš¢ ğŸš¨",
    "text": "ğŸš¨ ğŸš¢ Who trades? ğŸš¢ ğŸš¨\nFit a model that estimates how much a country exports, using a treatment variable of your choosing. Interpret the model output.\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/09-models.html#categorical-variables",
    "href": "slides/09-models.html#categorical-variables",
    "title": "Modeling II",
    "section": "Categorical variables",
    "text": "Categorical variables\nWe can also use categorical variables in our models\n\nThe simplest categorical variable is a binary variable: Men vs.Â women, young vs.Â old, has a policy in place (vs.Â not), TRUE/FALSE\n\n\nLetâ€™s look at data on the relationship between organ donation laws and how frequently people donate their organs\n\n\norgan donation laws in this data are binary: in some countries, people have to opt out of donating their organs\n\n\nIn other countries, people have to opt in (like in the US)"
  },
  {
    "objectID": "slides/09-models.html#organ-donation",
    "href": "slides/09-models.html#organ-donation",
    "title": "Modeling II",
    "section": "Organ donation",
    "text": "Organ donation\n\n\n\n\nfrom socviz::organdata\n\n\ncountry\nyear\ndonors\nopt\n\n\n\n\nNetherlands\n1995-01-01\n15.2\nIn\n\n\nAustralia\n1998-01-01\n10.5\nIn\n\n\nSweden\n1996-01-01\n11.9\nOut\n\n\nItaly\n1998-01-01\n12.3\nIn\n\n\nIreland\n1999-01-01\n18.7\nIn"
  },
  {
    "objectID": "slides/09-models.html#binary-variables-in-models",
    "href": "slides/09-models.html#binary-variables-in-models",
    "title": "Modeling II",
    "section": "Binary variables in models",
    "text": "Binary variables in models\nI can include the binary variable in a regression model:\n\ndonor_mod = lm(donors ~ opt, data = organdata)\n\n\nAnd look at the output:\n\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    14.3      0.446     32.1  7.10e-76\n2 optOut          5.50     0.705      7.80 5.00e-13\n\n\n\n\nBut how do we interpret the â€œslopeâ€ of a binary variable?"
  },
  {
    "objectID": "slides/09-models.html#binary-variables",
    "href": "slides/09-models.html#binary-variables",
    "title": "Modeling II",
    "section": "Binary variables",
    "text": "Binary variables\nRemember, with categorical variables we are comparing groups"
  },
  {
    "objectID": "slides/09-models.html#binary-variables-fitting-the-model",
    "href": "slides/09-models.html#binary-variables-fitting-the-model",
    "title": "Modeling II",
    "section": "Binary variables: fitting the model",
    "text": "Binary variables: fitting the model\nWe can think about a line running â€œacrossâ€ the groups, with each endpoint being optimally located to minimize the squared distances within each group"
  },
  {
    "objectID": "slides/09-models.html#binary-variables-the-slope",
    "href": "slides/09-models.html#binary-variables-the-slope",
    "title": "Modeling II",
    "section": "Binary variables: the slope",
    "text": "Binary variables: the slope\nThe height of one endpoint relative to the other, or the slope of the line, tells us how much higher or lower one group is, on average, than the other\n\n\nIn this case it is 5.5 \\(\\rightarrow\\) how many more organ donors countries with an â€œopt outâ€ policy have, on average, than countries with an â€œopt inâ€ policy"
  },
  {
    "objectID": "slides/09-models.html#back-to-the-regression-output",
    "href": "slides/09-models.html#back-to-the-regression-output",
    "title": "Modeling II",
    "section": "Back to the regression output",
    "text": "Back to the regression output\nNote that this is exactly what the model output is giving us:\n\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    14.3      0.446     32.1  7.10e-76\n2 optOut          5.50     0.705      7.80 5.00e-13\n\n\n\nThe model is picking one of the categories (â€œOpt inâ€) and treating it as a baseline category\n\n\nIt tells us how much higher/lower on average, the other category is (â€œOpt outâ€)"
  },
  {
    "objectID": "slides/09-models.html#how-to-interpret-categorical-variables",
    "href": "slides/09-models.html#how-to-interpret-categorical-variables",
    "title": "Modeling II",
    "section": "How to interpret categorical variables?",
    "text": "How to interpret categorical variables?\n\n\n\nTurn the light on (opt goes from â€œInâ€ to â€œOutâ€), the light increases by SLOPE\nTurn the light off (opt goes from â€œOutâ€ to â€œInâ€), the light decreases by SLOPE\nThe change is instant"
  },
  {
    "objectID": "slides/09-models.html#interpreting-categories",
    "href": "slides/09-models.html#interpreting-categories",
    "title": "Modeling II",
    "section": "Interpreting categories",
    "text": "Interpreting categories\n\\(\\operatorname{\\widehat{donors}} = \\color{red}{14.31} + \\color{blue}{5.5}(\\operatorname{opt}_{\\operatorname{Out}})\\)\n\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)    14.3      0.446     32.1  7.10e-76\n2 optOut          5.50     0.705      7.80 5.00e-13\n\n\nSlope: Country-years where people have to OPT OUT of donating their organs have, on average, 5.5 more donations per million residents than country-years where people have to OPT IN\n\nIntercept (set optOut = 0 or â€œoffâ€, i.e., countries where opt == \"in\"):\n\n\nCountry-years where people have to OPT IN to organ donation have, on average, 14.31 donations per million residents"
  },
  {
    "objectID": "slides/09-models.html#more-complicated-categorical-variables",
    "href": "slides/09-models.html#more-complicated-categorical-variables",
    "title": "Modeling II",
    "section": "More complicated categorical variables",
    "text": "More complicated categorical variables\nMost of the variables we care about are not just binary\n\nThey take on many values\n\n\nE.g., education levels, sex, race, religion, etc.\n\n\nWhat happens when we include one of these in a model?\n\n\nSay we wanted to look at how being in a particular continent shapes a countryâ€™s life expectancy"
  },
  {
    "objectID": "slides/09-models.html#the-model-1",
    "href": "slides/09-models.html#the-model-1",
    "title": "Modeling II",
    "section": "The model",
    "text": "The model\nWe can estimate the model, same as before:\n\ncontinent_mod = lm(lifeExp ~ continent, data = gapminder)\ntidy(continent_mod)\n\n# A tibble: 5 Ã— 5\n  term              estimate std.error statistic   p.value\n  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)           48.9     0.370     132.  0        \n2 continentAmericas     15.8     0.649      24.3 1.38e-112\n3 continentAsia         11.2     0.593      18.9 2.44e- 72\n4 continentEurope       23.0     0.611      37.7 1.38e-226\n5 continentOceania      25.5     1.92       13.3 2.99e- 38\n\n\n\nNow we get more coefficients! What do they mean?"
  },
  {
    "objectID": "slides/09-models.html#look-at-the-data",
    "href": "slides/09-models.html#look-at-the-data",
    "title": "Modeling II",
    "section": "Look at the data",
    "text": "Look at the data\nWith complex categorical variables, we are also comparing across groups\n\nWe can also identify the value within each group that minimizes \\((Y_i - \\hat{Y_i})^2\\)\n\nBut how to draw a â€œlineâ€ across all these groups?"
  },
  {
    "objectID": "slides/09-models.html#multiple-categories",
    "href": "slides/09-models.html#multiple-categories",
    "title": "Modeling II",
    "section": "Multiple categories",
    "text": "Multiple categories\nJust like before, R will pick one of the groups to treat as the â€œbaselineâ€\n\nIt will then tell us how much higher/lower the other categories are, on average, relative to that baseline category\n\n\n\n\n# A tibble: 5 Ã— 5\n  term              estimate std.error statistic   p.value\n  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)           48.9     0.370     132.  0        \n2 continentAmericas     15.8     0.649      24.3 1.38e-112\n3 continentAsia         11.2     0.593      18.9 2.44e- 72\n4 continentEurope       23.0     0.611      37.7 1.38e-226\n5 continentOceania      25.5     1.92       13.3 2.99e- 38\n\n\nWhat group is the baseline here?"
  },
  {
    "objectID": "slides/09-models.html#interpretation",
    "href": "slides/09-models.html#interpretation",
    "title": "Modeling II",
    "section": "Interpretation",
    "text": "Interpretation\n\n\n# A tibble: 5 Ã— 5\n  term              estimate std.error statistic   p.value\n  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)           48.9     0.370     132.  0        \n2 continentAmericas     15.8     0.649      24.3 1.38e-112\n3 continentAsia         11.2     0.593      18.9 2.44e- 72\n4 continentEurope       23.0     0.611      37.7 1.38e-226\n5 continentOceania      25.5     1.92       13.3 2.99e- 38\n\n\n\ncontinentAmericas = countries in the Americas have, on average, 15.8 years more life expectancy than countries in Africa (the baseline)\ncontinentAsia = countries in Asia have, on average, 11.2 years more life expectancy than countries in Africa\nIntercept = (set Americas = 0, Asia = 0, Europe = 0, Oceania = 0) \\(\\rightarrow\\) the average life expectancy in Africa is 48.9 years"
  },
  {
    "objectID": "slides/09-models.html#interpretation-formula",
    "href": "slides/09-models.html#interpretation-formula",
    "title": "Modeling II",
    "section": "Interpretation formula",
    "text": "Interpretation formula\n\n\n\n\n\n\nType\nApproach\nIntercept\n\n\n\n\nContinuous\nA one unit increase in X, SLOPE unit change in Y\nAverage value of Y when X = 0\n\n\nCategory\nThe category is SLOPE units higher/lower than the intercept\nAverage value of Y for baseline (missing) category\n\n\n\n\n\n\n\n\nInterpreting coefficients is pretty confusing; it just requires practice"
  },
  {
    "objectID": "slides/09-models.html#were-on-our-way",
    "href": "slides/09-models.html#were-on-our-way",
    "title": "Modeling II",
    "section": "Weâ€™re on our way",
    "text": "Weâ€™re on our way\nWe now know (sort of) how to interpret the coefficients on those big tables:"
  },
  {
    "objectID": "slides/09-models.html#your-turn-kids",
    "href": "slides/09-models.html#your-turn-kids",
    "title": "Modeling II",
    "section": "ğŸš¨ Your turn: ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ Kids ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ Kids ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ ğŸš¨\nUsing the gss_sm dataset:\n\nDo happier people tend to have more or fewer kids than less happy people? Regress childs (outcome) against happy (treatment). Interpret the output.\nHow does religion affect family size? Regress the number of siblings sibs (outcome) against respondent religion relig. Based on the output: which religion has the largest families, on average?\n\n\n\n\n\n\n\nNote\n\n\nRemember: to figure out what values a categorical variable takes on, use the distinct() function, like so: data %&gt;% distinct(variable)\n\n\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/11-causality.html#why-predict",
    "href": "slides/11-causality.html#why-predict",
    "title": "Causality I",
    "section": "Why predict",
    "text": "Why predict\nWe donâ€™t know whatâ€™s going to happen in the future\n\nOr in places/cases where we donâ€™t have data\n\n\nEven if in cases where we have data â€“ whatâ€™s our best guess?\n\n\nWe can use models to make decisions informed by patterns in the data"
  },
  {
    "objectID": "slides/11-causality.html#prediction-is-for-making-decisions",
    "href": "slides/11-causality.html#prediction-is-for-making-decisions",
    "title": "Causality I",
    "section": "Prediction is for making decisions",
    "text": "Prediction is for making decisions\nWorld Bank: what would happen to Jamaica if their GDP went up by 10k? We can use models to make an educated guess"
  },
  {
    "objectID": "slides/11-causality.html#moving-forward",
    "href": "slides/11-causality.html#moving-forward",
    "title": "Causality I",
    "section": "Moving forward",
    "text": "Moving forward\n\n\n\nThere are lots of prediction resources online\nKaggle hosts prediction competitions with interesting data\nGive it a shot!"
  },
  {
    "objectID": "slides/11-causality.html#first-half-of-course",
    "href": "slides/11-causality.html#first-half-of-course",
    "title": "Causality I",
    "section": "First half of course",
    "text": "First half of course\n\n\n\nHow to program, visualize data, modeling, relationships, etc.\nLook at all the functions you â€œlearnedâ€:\n\n\ngroup_by, tally, summarise, filter, mutate, %&gt;%, distinct, lm, augment, tidy, ggplot, facet_wrapâ€¦\n\n\nThere are thousands more!"
  },
  {
    "objectID": "slides/11-causality.html#first-half-of-course-1",
    "href": "slides/11-causality.html#first-half-of-course-1",
    "title": "Causality I",
    "section": "First half of course",
    "text": "First half of course\nUse models to estimate the relationship between X and Y:\n\nmod = lm(lifeExp ~ gdpPercap, data = gapminder)\ntidy(mod)\n\n# A tibble: 2 Ã— 5\n  term         estimate std.error statistic   p.value\n  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept) 54.0      0.315         171.  0        \n2 gdpPercap    0.000765 0.0000258      29.7 3.57e-156\n\n\n\nBut is this relationship causal? Would an increase in GDP cause an increase in life expectancy, on average?"
  },
  {
    "objectID": "slides/11-causality.html#second-half-of-the-course",
    "href": "slides/11-causality.html#second-half-of-the-course",
    "title": "Causality I",
    "section": "Second half of the course",
    "text": "Second half of the course\n\n\n\nâ€œHow do we know if X causes y?â€\nAre our estimates causal? Academics fight about this all day!\nThis question is at center of causal inference\nWe will learn why it is so difficult to establish causality with data\nWe will also learn potential solutions\n\n\n\n\n\n\n\nPictured: audience at a research presentation"
  },
  {
    "objectID": "slides/11-causality.html#but-not-all",
    "href": "slides/11-causality.html#but-not-all",
    "title": "Causality I",
    "section": "But not all",
    "text": "But not all\nMany of the interesting questions people want to answer with data are causal\n\nSome are not:\nInstagram might want to know: â€œIs there a person in this photo?â€\nBut not care about what factors cause the picture to be a photo of a person\nDepends on the question; most why questions are causal"
  },
  {
    "objectID": "slides/11-causality.html#the-value-of-causality",
    "href": "slides/11-causality.html#the-value-of-causality",
    "title": "Causality I",
    "section": "The value of causality",
    "text": "The value of causality\n\n\nOne of our comparative advantages\nNot just academic; companies, governments, NGOs also need to answer â€œwhyâ€ questions\nDoes this policy work (or not)? Did it do what was intended? How effective or counterproductive was it?"
  },
  {
    "objectID": "slides/11-causality.html#what-do-we-mean-by-causality",
    "href": "slides/11-causality.html#what-do-we-mean-by-causality",
    "title": "Causality I",
    "section": "What do we mean by causality?",
    "text": "What do we mean by causality?\n\n\nIn this class, we say X causes Y ifâ€¦\nAn intervention that changes the value of X produces a probabilistic change in Y\n\nIntervention = X is being changed or altered\nProbabilistic = Y should change, on average, but need not in every instance"
  },
  {
    "objectID": "slides/11-causality.html#interventions-and-probability",
    "href": "slides/11-causality.html#interventions-and-probability",
    "title": "Causality I",
    "section": "Interventions and probability",
    "text": "Interventions and probability\nHow do the two parts of our definition fit here?\n\nAspirin causes a reduction in fever symptoms\n\n\nIntervention = someone takes aspirin, we administer aspirin, we sneak it into someoneâ€™s food, etc.\n\n\nOutcome = Taking aspirin doesnâ€™t work 100% of the time; but in general, on average, more often than not, etc., taking aspirin \\(\\rightarrow\\) less fever\n\n\nWhat about this example? Democratic institutions reduce the incidence of interstate war"
  },
  {
    "objectID": "slides/11-causality.html#terminology",
    "href": "slides/11-causality.html#terminology",
    "title": "Causality I",
    "section": "Terminology",
    "text": "Terminology\nWeâ€™ve seen this before:\n\n\n\n\n\n\nVariable\nMeaning\nExamples\n\n\n\n\nY\nThe thing that is affected by a treatment\nEmployment, turnout, violence\n\n\nX\nThe thing changing an outcome\nMin. wage laws, voter ID laws, peacekeepers"
  },
  {
    "objectID": "slides/11-causality.html#obviously-causal-relationships",
    "href": "slides/11-causality.html#obviously-causal-relationships",
    "title": "Causality I",
    "section": "Obviously causal relationships",
    "text": "Obviously causal relationships\nA heavier car has to work harder to get from A to B"
  },
  {
    "objectID": "slides/11-causality.html#obviously-causal-relationships-1",
    "href": "slides/11-causality.html#obviously-causal-relationships-1",
    "title": "Causality I",
    "section": "Obviously causal relationships",
    "text": "Obviously causal relationships\nA bigger house is more desirable"
  },
  {
    "objectID": "slides/11-causality.html#not-obvious-education-and-earnings",
    "href": "slides/11-causality.html#not-obvious-education-and-earnings",
    "title": "Causality I",
    "section": "Not obvious: education and earnings",
    "text": "Not obvious: education and earnings\n\n\n\nPositive correlation between education and earnings, yet\nPeople who are already wealthy (or likely to become wealthy) get more education than people who are not wealthy\nIn other words: people self-select into education levels"
  },
  {
    "objectID": "slides/11-causality.html#not-obvious-voter-id-and-turnout",
    "href": "slides/11-causality.html#not-obvious-voter-id-and-turnout",
    "title": "Causality I",
    "section": "Not obvious: voter ID and turnout",
    "text": "Not obvious: voter ID and turnout\nStates that pass these laws are different from states that donâ€™t pass these laws"
  },
  {
    "objectID": "slides/11-causality.html#spurious-correlation",
    "href": "slides/11-causality.html#spurious-correlation",
    "title": "Causality I",
    "section": "Spurious correlation",
    "text": "Spurious correlation\nTo make matters worse, correlation is common-place in nature:"
  },
  {
    "objectID": "slides/11-causality.html#the-trouble-with-causality",
    "href": "slides/11-causality.html#the-trouble-with-causality",
    "title": "Causality I",
    "section": "The trouble with causality",
    "text": "The trouble with causality\n\nWe canâ€™t directly observe a change in X causing a change in Y\n\n\nThis is true even in experiments, where we directly manipulate stuff\n\n\nAll we can see are correlations between X and Y\n\n\nSome of those correlations are causal; some are not; how can we tell?"
  },
  {
    "objectID": "slides/11-causality.html#first-step-yes-we-can-tell-sometimes",
    "href": "slides/11-causality.html#first-step-yes-we-can-tell-sometimes",
    "title": "Causality I",
    "section": "First step: yes, we can tell (sometimes)",
    "text": "First step: yes, we can tell (sometimes)\nStudents are obsessed with â€œcorrelation does not mean causationâ€\nBut sometimes it does! thatâ€™s the tricky part"
  },
  {
    "objectID": "slides/11-causality.html#make-up-simulate-data-to-convince-ourselves",
    "href": "slides/11-causality.html#make-up-simulate-data-to-convince-ourselves",
    "title": "Causality I",
    "section": "Make up (simulate) data to convince ourselves",
    "text": "Make up (simulate) data to convince ourselves\n\n\n\nA good way to see that we correlation can equal causation is to make up (simulate) data where we know that X causes Y\nWe can make up data in R with the rnorm() function\nrnorm() draws random numbers from a normal distribution\nThe numbers it makes up are pretty close to some mean, plus or minus a standard deviation"
  },
  {
    "objectID": "slides/11-causality.html#drawing-from-a-normal-distribution",
    "href": "slides/11-causality.html#drawing-from-a-normal-distribution",
    "title": "Causality I",
    "section": "Drawing from a normal distribution",
    "text": "Drawing from a normal distribution\nGenerate 10 random numbers, most of which are +/- 2 away from 10:\n\nrnorm(n = 10, mean = 10, sd = 2)\n\n [1] 11.004337  9.883146 12.011349 13.167754 11.311374 10.809138 13.301516\n [8]  7.286678  8.691910  8.584861\n\n\n\nGenerate 5 random numbers, most of which are +/- 10 away from 50:\n\nrnorm(n = 5, mean = 50, sd = 10)\n\n[1] 27.24622 67.12566 46.66466 67.91253 44.00744\n\n\n\n\nGenerate 4 random numbers, most of which are +/- 100 away from -10:\n\nrnorm(n = 4, mean = -10, sd = 100)\n\n[1]  -27.30363  -85.51981 -170.48762  277.85953\n\n\n\n\n\n\n\n\nNote\n\n\nn = number of draws, mean = average, sd = standard deviation"
  },
  {
    "objectID": "slides/11-causality.html#do-winners-keep-winning",
    "href": "slides/11-causality.html#do-winners-keep-winning",
    "title": "Causality I",
    "section": "Do winners keep winning?",
    "text": "Do winners keep winning?\n\nSay we wanted to simulate data to show that doing well in elections (treatment) causes increases in campaign fundraising (outcome)\n\n\nThat is, that funders reward winners\n\n\nFirst step is generating fake elections results (treatment)\n\n\nLetâ€™s say we have 500 fake elections that are pretty close to 50 (a tie), plus or minus 5 points"
  },
  {
    "objectID": "slides/11-causality.html#faking-simulating-the-treatment",
    "href": "slides/11-causality.html#faking-simulating-the-treatment",
    "title": "Causality I",
    "section": "Faking (simulating) the treatment",
    "text": "Faking (simulating) the treatment\nWe can use tibble() and rnorm() to simulate variables\n\nelections (treatment) = 500 elections, vote share is 50% of the vote on average, +/- 5%\n\n\n\nfake_election = tibble(party_share = rnorm(n = 500, mean = 50, sd = 5))\nfake_election\n\n# A tibble: 500 Ã— 1\n   party_share\n         &lt;dbl&gt;\n 1        53.4\n 2        46.1\n 3        56.7\n 4        41.1\n 5        51.5\n 6        50.9\n 7        46.3\n 8        43.9\n 9        54.8\n10        50.4\n# â„¹ 490 more rows"
  },
  {
    "objectID": "slides/11-causality.html#and-we-can-plot-it",
    "href": "slides/11-causality.html#and-we-can-plot-it",
    "title": "Causality I",
    "section": "And we can plot it",
    "text": "And we can plot it"
  },
  {
    "objectID": "slides/11-causality.html#making-the-outcome",
    "href": "slides/11-causality.html#making-the-outcome",
    "title": "Causality I",
    "section": "Making the outcome",
    "text": "Making the outcome\nNext we want to make up campaign fundraising (outcome)\n\nLetâ€™s say parties raise about 20k on average, plus or minus 4k\n\n\n\nfake_election = tibble(party_share = rnorm(n = 500, mean = 50, sd = 5), \n                       funding = rnorm(n = 500, mean = 20000, sd = 4000))\nfake_election\n\n# A tibble: 500 Ã— 2\n   party_share funding\n         &lt;dbl&gt;   &lt;dbl&gt;\n 1        62.2  14742.\n 2        47.2  17415.\n 3        52.0  12808.\n 4        55.6  21241.\n 5        54.2  25790.\n 6        49.6  22222.\n 7        59.9  23076.\n 8        64.3  16842.\n 9        47.0  29356.\n10        46.5  18352.\n# â„¹ 490 more rows"
  },
  {
    "objectID": "slides/11-causality.html#and-we-can-plot-it-1",
    "href": "slides/11-causality.html#and-we-can-plot-it-1",
    "title": "Causality I",
    "section": "And we can plot it",
    "text": "And we can plot it"
  },
  {
    "objectID": "slides/11-causality.html#making-x-cause-y",
    "href": "slides/11-causality.html#making-x-cause-y",
    "title": "Causality I",
    "section": "Making X cause Y",
    "text": "Making X cause Y\n\nWe want to make it so that getting more votes increases campaign donations (winners attract funding)\n\n\nSay for every percent of the vote a party gets, they get 2,000 (USD) more in donations\n\n\nthis is the causal effect of vote share (treatment) on campaign donations (outcome) \\(\\rightarrow\\)\n\n\n2,000 (USD) per percent of the vote a party gets in an election"
  },
  {
    "objectID": "slides/11-causality.html#making-x-cause-y-1",
    "href": "slides/11-causality.html#making-x-cause-y-1",
    "title": "Causality I",
    "section": "Making X cause Y",
    "text": "Making X cause Y\nWe can do this in R like so:\n\nfake_election = tibble(party_share = rnorm(n = 500, mean = 50, sd = 5), \n                       funding = rnorm(n = 500, mean = 20000, sd = 4000) + 2000 * party_share)\nfake_election\n\n# A tibble: 500 Ã— 2\n   party_share funding\n         &lt;dbl&gt;   &lt;dbl&gt;\n 1        56.9 127179.\n 2        46.5 107465.\n 3        48.5 115635.\n 4        46.6 111400.\n 5        48.5 118418.\n 6        45.2 117334.\n 7        48.9 117183.\n 8        55.7 134937.\n 9        60.0 141212.\n10        56.1 135144.\n# â„¹ 490 more rows\n\n\n\nAs an equation, this looks like: \\(Donations_{i} = Party\\_share_{i} \\times 2000\\)"
  },
  {
    "objectID": "slides/11-causality.html#eyeballing-it",
    "href": "slides/11-causality.html#eyeballing-it",
    "title": "Causality I",
    "section": "Eyeballing it",
    "text": "Eyeballing it\nIs our fake data convincing? We can plot it to see:"
  },
  {
    "objectID": "slides/11-causality.html#can-we-get-the-causal-estimate-back",
    "href": "slides/11-causality.html#can-we-get-the-causal-estimate-back",
    "title": "Causality I",
    "section": "Can we get the causal estimate back?",
    "text": "Can we get the causal estimate back?\nWe know the effect of vote share on campaign donations: itâ€™s 2k per percent of the vote\n\nCan we use a model to get that estimate back?\n\n\nYes!\n\nmod = lm(funding ~ party_share, data = fake_election)\ntidy(mod)\n\n# A tibble: 2 Ã— 5\n  term        estimate std.error statistic   p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)   21371.    1866.       11.5 3.98e- 27\n2 party_share    1968.      37.3      52.7 5.36e-206"
  },
  {
    "objectID": "slides/11-causality.html#hope",
    "href": "slides/11-causality.html#hope",
    "title": "Causality I",
    "section": "Hope?",
    "text": "Hope?\n\n\n\nThere are at least some scenarios where X causes Y, and\n\nThis effect will be reflected in the data\nAnd we can estimate the effect with a model"
  },
  {
    "objectID": "slides/11-causality.html#your-turn-michael-lacour",
    "href": "slides/11-causality.html#your-turn-michael-lacour",
    "title": "Causality I",
    "section": "ğŸ•µï¸ Your turn: Michael Lacour ğŸ•µï¸",
    "text": "ğŸ•µï¸ Your turn: Michael Lacour ğŸ•µï¸\n\n\n\nLacour published a big study in Science\nStudy showed talking to LGBT canvasser \\(\\rightarrow\\) huge improvements in attitudes towards LGBT policy (gay marriage)\nData was completely fabricated, using some of the same functions I showed you"
  },
  {
    "objectID": "slides/11-causality.html#your-turn-michael-lacour-1",
    "href": "slides/11-causality.html#your-turn-michael-lacour-1",
    "title": "Causality I",
    "section": "ğŸ•µï¸ Your turn: Michael Lacour ğŸ•µï¸",
    "text": "ğŸ•µï¸ Your turn: Michael Lacour ğŸ•µï¸\nUsing the steps I just went through above, make up some data that pre-confirms some pattern about the world you wish were true:\n\nChange the treatment and outcome variables in the code to ones of your choosing\nAlter the parameters in rnorm() so the values make sense for your variables (e.g., what is a reasonable distribution for age?)\nMake a scatterplot with a trend line â€“ use labs() to help us make sense of the plot axes!\nPost your idea in Slack, winner (creativity + accuracy) will get small extra credit\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/11-causality.html#the-democratic-peace",
    "href": "slides/11-causality.html#the-democratic-peace",
    "title": "Causality I",
    "section": "The Democratic Peace?",
    "text": "The Democratic Peace?\nDoes the spread of democracy reduce international conflict?\n\nTheory: war is costly and the costs are borne by citizens; countries where citizens have more input \\(\\rightarrow\\) less conflict\n\n\nX here is whether the country is a democracy (versus autocracy)\nY is the number of wars the country is involved in\n\n\nIdeal, imaginary approach: take a country, look at Y when democracy = 1, and then when democracy = 0\n\n\nDo this for all countries, take the average"
  },
  {
    "objectID": "slides/11-causality.html#potential-outcomes",
    "href": "slides/11-causality.html#potential-outcomes",
    "title": "Causality I",
    "section": "Potential outcomes",
    "text": "Potential outcomes\nThis magical world where we can compare the number of wars when a country is a democracy versus when it is not is called the potential outcomes\n\n\n\n\n\n\ncountry\ndemocracy\nwar\n\n\n\n\nCanada\n0\n3\n\n\nCanada\n1\n4\n\n\nChina\n0\n4\n\n\nChina\n1\n3\n\n\nUSA\n0\n1\n\n\nUSA\n1\n1"
  },
  {
    "objectID": "slides/11-causality.html#the-fundamental-problem-of-causality",
    "href": "slides/11-causality.html#the-fundamental-problem-of-causality",
    "title": "Causality I",
    "section": "The fundamental problem of causality",
    "text": "The fundamental problem of causality\n\n\nIn reality, we can only observe democracy at one value for each country\nThe US is a democracy, we can observe wars when democracy = 1, but not when democracy = 0\nChina is not a democracy, we can observe wars when democracy = 0, but not when democracy = 1\n\n\n\n\n\n\n\ncountry\ndemocracy\nwar\n\n\n\n\nCanada\n0\n3\n\n\nCanada\n1\n4\n\n\nChina\n0\n4\n\n\nChina\n1\n3\n\n\nUSA\n0\n1\n\n\nUSA\n1\n1"
  },
  {
    "objectID": "slides/11-causality.html#potential-vs.-observed",
    "href": "slides/11-causality.html#potential-vs.-observed",
    "title": "Causality I",
    "section": "Potential vs.Â observed",
    "text": "Potential vs.Â observed\nWe only observe the world on the right, but not the left\n\n\n\n\n\n\nPotential outcomes world\n\n\ncountry\ndemocracy\nwar\n\n\n\n\nCanada\n0\n3\n\n\nCanada\n1\n4\n\n\nChina\n0\n4\n\n\nChina\n1\n3\n\n\nUSA\n0\n1\n\n\nUSA\n1\n1\n\n\n\n\n\n\n\n\n\n\n\n\n\nObserved outcomes world\n\n\ncountry\ndemocracy\nwar\n\n\n\n\nCanada\n0\nNA\n\n\nCanada\n1\n4\n\n\nChina\n0\n4\n\n\nChina\n1\nNA\n\n\nUSA\n0\nNA\n\n\nUSA\n1\n1"
  },
  {
    "objectID": "slides/11-causality.html#the-fundamental-problem-of-causality-1",
    "href": "slides/11-causality.html#the-fundamental-problem-of-causality-1",
    "title": "Causality I",
    "section": "The fundamental problem of causality",
    "text": "The fundamental problem of causality\n\nWe have missing data on â€œwhat would have happenedâ€ had the US been an autocracy\n\n\nâ€œwhat would have happenedâ€ \\(\\rightarrow\\) the counterfactual\n\n\nOur goal in causal inference is to make as good a guess as possible as to what Y would have been had democracy = 0 instead of 1 (and vice versa)"
  },
  {
    "objectID": "slides/11-causality.html#comparing-apples-and-oranges",
    "href": "slides/11-causality.html#comparing-apples-and-oranges",
    "title": "Causality I",
    "section": "Comparing apples and oranges",
    "text": "Comparing apples and oranges\nWhy not just compare the number of wars for countries where democracy = 0 (autocracies) versus the countries where democracy = 1 (democracies)?\n\nIf democracies fight less, then democracy reduces conflict\n\n\n\nobserved %&gt;% \n  group_by(democracy) %&gt;% \n  summarise(wars = mean(war, na.rm = TRUE))\n\n# A tibble: 2 Ã— 2\n  democracy  wars\n      &lt;dbl&gt; &lt;dbl&gt;\n1         0   4  \n2         1   2.5"
  },
  {
    "objectID": "slides/11-causality.html#comparing-apples-and-oranges-1",
    "href": "slides/11-causality.html#comparing-apples-and-oranges-1",
    "title": "Causality I",
    "section": "Comparing apples and oranges",
    "text": "Comparing apples and oranges\nImplicitly, this means we are saying the countries that are autocracies are good counterfactuals for the countries that are democracies (and vice versa)\n\nFor instance, that China is a good counterfactual for the US\n\n\nBut China and the US are different in so many ways! They are not good counterfactuals of one another\n\n\nWe will see exactly why this is a problem in the following weeks"
  },
  {
    "objectID": "slides/11-causality.html#why-experiments-work",
    "href": "slides/11-causality.html#why-experiments-work",
    "title": "Causality I",
    "section": "Why experiments work",
    "text": "Why experiments work\nIn an experiment, we randomly expose participants to some treatment, while others are exposed to nothing (or a placebo)\n\n\n\n\n\n\n\nPerson\nShown an ad?\nDemocrats thermometer\n\n\n\n\n1\nYes\n14.34\n\n\n2\nNo\n9.2\n\n\n3\nYes\n99.85\n\n\n4\nNo\n38.9\n\n\n5\nNo\n52.15\n\n\n\n\n\n\n\n\n\n\nWe then compare the outcome of those who did and didnâ€™t get the treatment"
  },
  {
    "objectID": "slides/11-causality.html#why-experiments-work-1",
    "href": "slides/11-causality.html#why-experiments-work-1",
    "title": "Causality I",
    "section": "Why experiments work",
    "text": "Why experiments work\nExperiments have the same â€œproblemâ€ as the democracy and war example: we canâ€™t observe the same person seeing and not seeing the ad\n\n\n\n\n\n\nPerson\nShown an ad?\nDemocrats thermometer\n\n\n\n\n1\nYes\n14.34\n\n\n2\nNo\n9.2\n\n\n\n\n\n\n\n\n\nBut since the experimental ad was randomly assigned, the people that did and didnâ€™t see the ad are good counterfactuals of one another\n\n\nit is, by definition, just as likely a person who received treatment could have instead received the control/placebo (note how this differs from democracy \\(\\rightarrow\\) war)"
  },
  {
    "objectID": "slides/11-causality.html#the-gold-standard",
    "href": "slides/11-causality.html#the-gold-standard",
    "title": "Causality I",
    "section": "The gold standard",
    "text": "The gold standard\nThis is why experiments are known as the gold standard of research\n\nWe have control over treatment, and we randomize it\n\n\nWith observational data that already exists in the world, we donâ€™t have control over treatment, and we canâ€™t randomize it\n\n\nExperiments are great, but not feasible or ethical in most cases\n\n\nSo weâ€™ll have to take other measures to try to overcome these problems with observational data"
  },
  {
    "objectID": "slides/11-causality.html#your-turn-counterfactuals",
    "href": "slides/11-causality.html#your-turn-counterfactuals",
    "title": "Causality I",
    "section": "ğŸ§© Your turn: counterfactuals ğŸ§©",
    "text": "ğŸ§© Your turn: counterfactuals ğŸ§©\nWith neighbor, think through the counterfactual scenarios in these examples. What is the implicit counterfactual? What would a good counterfactual look like?\n\nA study on whether international trade between two countries makes them more likely to form a defensive alliance.\nA study on whether being a victim of a crime makes someone more supportive of authoritarian leaders\nA study on whether those who served in the military are more likely to vote for â€œdovishâ€ or â€œhawkishâ€ candidates\nA study on whether post-Dobbs abortion restrictions reduced abortions\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/13-dags.html#why-dag",
    "href": "slides/13-dags.html#why-dag",
    "title": "DAGs I",
    "section": "Why DAG",
    "text": "Why DAG\nWe want to identify the effect of X (waffles) on Y (divorce)\n\nWe can use our model to identify that effect, BUT:\n\n\nWe also know that lurking variables might make things go awry (the South)"
  },
  {
    "objectID": "slides/13-dags.html#why-dag-1",
    "href": "slides/13-dags.html#why-dag-1",
    "title": "DAGs I",
    "section": "Why DAG",
    "text": "Why DAG\nWe know that the DAG on the left will produce the spurious correlation on the right\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegardless of whether or not waffles cause divorce"
  },
  {
    "objectID": "slides/13-dags.html#why-not-control-for-everything",
    "href": "slides/13-dags.html#why-not-control-for-everything",
    "title": "DAGs I",
    "section": "Why not control for everything?",
    "text": "Why not control for everything?\n\n\nControlling for the wrong thing can close a perplexing pipe â€“ this erases part or all of the effect that X has on Y\n\n\n\n\n\n\n\n\n\n\nOr open up an exploding collider â€“ creates weird correlation between X and Y"
  },
  {
    "objectID": "slides/13-dags.html#example-bias-in-police-use-of-force",
    "href": "slides/13-dags.html#example-bias-in-police-use-of-force",
    "title": "DAGs I",
    "section": "Example: Bias in police use of force",
    "text": "Example: Bias in police use of force\nAre the police more likely to use deadly force against people of color?\n\nBlack Americans are 3.23 times more likely than white Americans to be killed by police (Schwartz and Jahn, 2020)\n\n\nYet there are big debates about how exactly to estimate this bias (and the extent to which it exists)\n\n\nFryer (2019) finds that Blacks and Hispanics are 50% more likely to be stopped by police, but that conditional on being stopped by the police, there are no racial differences in officer-involved shootings"
  },
  {
    "objectID": "slides/13-dags.html#bias-in-use-of-force",
    "href": "slides/13-dags.html#bias-in-use-of-force",
    "title": "DAGs I",
    "section": "Bias in use of force",
    "text": "Bias in use of force\nFryer used extensive controls about the nature of the interaction, time of day, and hundreds of factors that Iâ€™ve captured with Confounds"
  },
  {
    "objectID": "slides/13-dags.html#bias-in-use-of-force-1",
    "href": "slides/13-dags.html#bias-in-use-of-force-1",
    "title": "DAGs I",
    "section": "Bias in use of force",
    "text": "Bias in use of force\nFryer shows that once you account for the indirect effect, the direct effect is basically not there â€“ once the police has stopped someone, they do not use deadly force more often against Minorities than Whites"
  },
  {
    "objectID": "slides/13-dags.html#bias-in-police-use-of-force",
    "href": "slides/13-dags.html#bias-in-police-use-of-force",
    "title": "DAGs I",
    "section": "Bias in police use of force",
    "text": "Bias in police use of force\nBut what if police are more likely to stop people they believe are â€œsuspiciousâ€ AND use force against people they find â€œsuspiciousâ€? THEN conditioning on the stop is equivalent to conditioning on a collider"
  },
  {
    "objectID": "slides/13-dags.html#tough",
    "href": "slides/13-dags.html#tough",
    "title": "DAGs I",
    "section": "Tough!",
    "text": "Tough!\nWeâ€™d like to know if Minorities are killed more than Whites in police interactions once they are stopped\nBut controlling for being stopped creates collider bias\nSuper tough to estimate the effect of race â¡ï¸ police abuse with observational data!"
  },
  {
    "objectID": "slides/13-dags.html#why-experiments-work",
    "href": "slides/13-dags.html#why-experiments-work",
    "title": "DAGs I",
    "section": "Why experiments work",
    "text": "Why experiments work\nDAGs can also help us see why experiments â€œworkâ€:\n\n\n\n\n\n\nPerson\nShown an ad?\nDemocrats thermometer\n\n\n\n\n1\nYes\n88.4\n\n\n2\nNo\n63.59\n\n\n3\nYes\n27.3\n\n\n4\nNo\n28.93\n\n\n5\nNo\n12.02"
  },
  {
    "objectID": "slides/13-dags.html#why-experiments-work-1",
    "href": "slides/13-dags.html#why-experiments-work-1",
    "title": "DAGs I",
    "section": "Why experiments work",
    "text": "Why experiments work\nExperiments seem simpleâ€¦"
  },
  {
    "objectID": "slides/13-dags.html#why-experiments-work-2",
    "href": "slides/13-dags.html#why-experiments-work-2",
    "title": "DAGs I",
    "section": "Why experiments work",
    "text": "Why experiments work\nBut the outcome can be very complex â€¦\nAnd yet we can still identify the effect because nothing causes you to receive the experimental treatment; it is random!"
  },
  {
    "objectID": "slides/13-dags.html#when-experiments-go-wrong",
    "href": "slides/13-dags.html#when-experiments-go-wrong",
    "title": "DAGs I",
    "section": "When experiments go wrong",
    "text": "When experiments go wrong\nSay the ad experiment was implemented on TikTok, and younger people are more likely to use TikTok than older people\n\nThis means Age is now a fork"
  },
  {
    "objectID": "slides/13-dags.html#front-doors-and-back-doors",
    "href": "slides/13-dags.html#front-doors-and-back-doors",
    "title": "DAGs I",
    "section": "Front-doors and back-doors",
    "text": "Front-doors and back-doors\n\n\n\nJudea Pearlâ€™s back-door criterion ties this all together\nConfounding caused by existence of an open â€œback doorâ€ path from X to Y\nA backdoor path is a non-causal path from X to Y\nNeed to close back-doors and keep front-doors open"
  },
  {
    "objectID": "slides/13-dags.html#backdoor-paths",
    "href": "slides/13-dags.html#backdoor-paths",
    "title": "DAGs I",
    "section": "Backdoor paths",
    "text": "Backdoor paths\nA backdoor path can involve a chain of variables â€“ like the fork, but with more steps\nHere we have a backdoor path between X and Y that runs through a, b, and m"
  },
  {
    "objectID": "slides/13-dags.html#breaking-the-path",
    "href": "slides/13-dags.html#breaking-the-path",
    "title": "DAGs I",
    "section": "Breaking the path",
    "text": "Breaking the path\nWe can identify X \\(\\rightarrow\\) Y by controlling for any variable in the backdoor path to break the chain: m, a, or b"
  },
  {
    "objectID": "slides/13-dags.html#solve-the-dag",
    "href": "slides/13-dags.html#solve-the-dag",
    "title": "DAGs I",
    "section": "Solve the DAG",
    "text": "Solve the DAG\n\n\nControl for A and I or A and S"
  },
  {
    "objectID": "slides/13-dags.html#solve-the-dag-1",
    "href": "slides/13-dags.html#solve-the-dag-1",
    "title": "DAGs I",
    "section": "Solve the DAG",
    "text": "Solve the DAG\n\n\nU1 and U2"
  },
  {
    "objectID": "slides/13-dags.html#solve-the-dag-2",
    "href": "slides/13-dags.html#solve-the-dag-2",
    "title": "DAGs I",
    "section": "Solve the DAG",
    "text": "Solve the DAG\n\n\nA, C, or U Whatâ€™s B here?"
  },
  {
    "objectID": "slides/13-dags.html#solve-the-dag-3",
    "href": "slides/13-dags.html#solve-the-dag-3",
    "title": "DAGs I",
    "section": "Solve the DAG",
    "text": "Solve the DAG\n\n\nV, W1, W2 W1, W2, Z1 W1, W2, Z2"
  },
  {
    "objectID": "slides/13-dags.html#solve-the-dag-4",
    "href": "slides/13-dags.html#solve-the-dag-4",
    "title": "DAGs I",
    "section": "Solve the DAG",
    "text": "Solve the DAG\n\n\nA,M or B,M What is M?"
  },
  {
    "objectID": "slides/13-dags.html#the-makings-of-a-dag",
    "href": "slides/13-dags.html#the-makings-of-a-dag",
    "title": "DAGs I",
    "section": "The makings of a DAG",
    "text": "The makings of a DAG\nWe can use the dagify() function, from ggdag, to make a DAG"
  },
  {
    "objectID": "slides/13-dags.html#the-makings-of-a-dag-1",
    "href": "slides/13-dags.html#the-makings-of-a-dag-1",
    "title": "DAGs I",
    "section": "The makings of a DAG",
    "text": "The makings of a DAG\nUsing same syntax as lm(), specify all of the causes of each of the variables in the dagify() function\n\ndagify(Y ~ X + P + A + I)\n\nâ€œY is caused by X, P, A and Iâ€"
  },
  {
    "objectID": "slides/13-dags.html#the-makings-of-a-dag-2",
    "href": "slides/13-dags.html#the-makings-of-a-dag-2",
    "title": "DAGs I",
    "section": "The makings of a DAG",
    "text": "The makings of a DAG\nUsing same syntax as lm(), specify all of the causes of each of the variables in the dagify() function\n\ndagify(Y ~ X + P + A + I,\n       X ~ P,\n       A ~ I + P)\n\nâ€œY is caused by X, P, A and Iâ€\nâ€œX is caused by Pâ€\nâ€œA is caused by I and Pâ€"
  },
  {
    "objectID": "slides/13-dags.html#the-makings-of-a-dag-3",
    "href": "slides/13-dags.html#the-makings-of-a-dag-3",
    "title": "DAGs I",
    "section": "The makings of a DAG",
    "text": "The makings of a DAG\n\ndag = dagify(Y ~ X + P + A + I,\n             X ~ P, \n             A ~ I + P,\n             exposure = \"X\", \n             outcome = \"Y\")\n\nFinally, tell R which variable is the treatment (â€œexposureâ€) and outcome\n\n\n\n\n\n\nNote\n\n\nstore the DAG as an object"
  },
  {
    "objectID": "slides/13-dags.html#plotting-with-ggdag",
    "href": "slides/13-dags.html#plotting-with-ggdag",
    "title": "DAGs I",
    "section": "Plotting with ggdag",
    "text": "Plotting with ggdag\nWe can plot our DAG object using ggdag\n\nggdag(dag)\n\n\n\n\n\n\n\n\nNote\n\n\nThe plots produced by ggdag will vary randomly"
  },
  {
    "objectID": "slides/13-dags.html#seeing-the-paths",
    "href": "slides/13-dags.html#seeing-the-paths",
    "title": "DAGs I",
    "section": "Seeing the paths",
    "text": "Seeing the paths\nWe can see all the paths from X to Y using ggdag_paths():\n\nggdag_paths(dag)\n\n\n\n\n\n\n\n\nNote\n\n\n1 is a front-door path, 2 and 3 are backdoor"
  },
  {
    "objectID": "slides/13-dags.html#what-to-control-for",
    "href": "slides/13-dags.html#what-to-control-for",
    "title": "DAGs I",
    "section": "What to control for?",
    "text": "What to control for?\nWe identify what to control for using ggdag_adjustment_set (in this case P):\n\nggdag_adjustment_set(dag)\n\n\n\n\n\n\n\n\nNote\n\n\nâ€œAdjust forâ€ and â€œcontrol forâ€ are synonyms"
  },
  {
    "objectID": "slides/13-dags.html#optional-clean-it-up",
    "href": "slides/13-dags.html#optional-clean-it-up",
    "title": "DAGs I",
    "section": "Optional: clean it up",
    "text": "Optional: clean it up\nCan add some extra code to make the graph nice:\n\nggdag(dag, text = FALSE, use_labels = \"name\") + theme_dag()"
  },
  {
    "objectID": "slides/13-dags.html#optional-words-instead-of-letters",
    "href": "slides/13-dags.html#optional-words-instead-of-letters",
    "title": "DAGs I",
    "section": "Optional: words instead of letters",
    "text": "Optional: words instead of letters\nWe can also use words (no spaces!) instead of letters\n\ndag2 = dagify(child ~ grandpa + parent + neighborhood, \n       parent ~ grandpa + neighborhood, \n       exposure = \"grandpa\",\n       outcome = \"child\")\nggdag(dag2, text = FALSE, use_labels = \"name\") + theme_dag()"
  },
  {
    "objectID": "slides/13-dags.html#a-variable-cannot-cause-itself",
    "href": "slides/13-dags.html#a-variable-cannot-cause-itself",
    "title": "DAGs I",
    "section": "A variable cannot cause itself",
    "text": "A variable cannot cause itself\nExplanation takes us into the weeds, but DAGs are acyclical, meaning: a variable cannot be its own cause (even indirectly):"
  },
  {
    "objectID": "slides/13-dags.html#a-variable-cannot-cause-itself-1",
    "href": "slides/13-dags.html#a-variable-cannot-cause-itself-1",
    "title": "DAGs I",
    "section": "A variable cannot cause itself",
    "text": "A variable cannot cause itself\nIf you have a cycle in your DAG, ggdag_adjustment_set() will return this:"
  },
  {
    "objectID": "slides/13-dags.html#your-turn-make-your-own-dag",
    "href": "slides/13-dags.html#your-turn-make-your-own-dag",
    "title": "DAGs I",
    "section": "ğŸ¶ Your turn: make your own DAG ğŸ¶",
    "text": "ğŸ¶ Your turn: make your own DAG ğŸ¶\nThereâ€™s (bad!) research out there that says having a dog increases a personâ€™s life expectancy. Think about all of the variables that affect each.\n\nMake a DAG to represent all of those relationships. Post your DAG in the Slack.\nUse the tools we learned to identify all the paths from one variable to the other.\nUse the tools to identify what backdoor paths need to be accounted for.\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/15-natural.html#garbage-can-models",
    "href": "slides/15-natural.html#garbage-can-models",
    "title": "Natural experiments",
    "section": "Garbage can models",
    "text": "Garbage can models\n\n\n\nfor a long time there was a tendency to estimate â€œgarbage canâ€ models\nthrow every variable under the sun into regression model, hope for the best\nin some cases, no pre-meditated treatment variable\nlittle recognition that of tradeoff between controlling for forks but avoiding pipes/colliders"
  },
  {
    "objectID": "slides/15-natural.html#an-empty-garbage-can-model",
    "href": "slides/15-natural.html#an-empty-garbage-can-model",
    "title": "Natural experiments",
    "section": "An empty-garbage-can model",
    "text": "An empty-garbage-can model\n\n\n\nSome studies donâ€™t even control for confounds\nFrom the dog ownership improves health article in the homework:\nâ€œA possible limitation was that the analyses were not adjusted for confounders.â€\nHuge confounds abound! A person who is too sick to care for a dog wonâ€™t get one"
  },
  {
    "objectID": "slides/15-natural.html#causal-inference",
    "href": "slides/15-natural.html#causal-inference",
    "title": "Natural experiments",
    "section": "Causal inference",
    "text": "Causal inference\n\n\n\nMore recently: a greater emphasis on worrying about causality\nRecognition that confounds are lurking everywhere, and we should worry about them\nRecognition that pipes and colliders means we shouldnâ€™t just throw every variable into a model"
  },
  {
    "objectID": "slides/15-natural.html#improvements-but-obvious-limits",
    "href": "slides/15-natural.html#improvements-but-obvious-limits",
    "title": "Natural experiments",
    "section": "Improvements but obvious limits",
    "text": "Improvements but obvious limits\n\nIF we can correctly specify our model (i.e., control for all backdoors, leave front-doors open) we will identify the effect of X on Y\n\n\nEasier said than done! Often there is some confound (like W) that we know exists but canâ€™t measure, or worse, donâ€™t know exists at all"
  },
  {
    "objectID": "slides/15-natural.html#the-causal-revolution",
    "href": "slides/15-natural.html#the-causal-revolution",
    "title": "Natural experiments",
    "section": "The causal revolution",
    "text": "The causal revolution\nHard to correctly specify the DAG and measure all the variables; what can we do?\n\nIdeal = an experiment â€“ where treatment is randomly assigned â€“ but this is rarely feasible"
  },
  {
    "objectID": "slides/15-natural.html#natural-experiments",
    "href": "slides/15-natural.html#natural-experiments",
    "title": "Natural experiments",
    "section": "Natural experiments",
    "text": "Natural experiments\n\n\n\nAlternative - find moments, situations, or weird, freak occurrences where some group is exposed to some treatment by chance while another group was not\nThese weird moments in history are called natural experiments\nAs though nature accidentally created an experiment"
  },
  {
    "objectID": "slides/15-natural.html#a-good-year-for-causality",
    "href": "slides/15-natural.html#a-good-year-for-causality",
    "title": "Natural experiments",
    "section": "A good year for causality",
    "text": "A good year for causality\n2021 Nobel Prize winners in economics pioneered quasi-experimental methods â€“ using research designs that leverage natural experiments"
  },
  {
    "objectID": "slides/15-natural.html#do-gifted-programs-pay-off",
    "href": "slides/15-natural.html#do-gifted-programs-pay-off",
    "title": "Natural experiments",
    "section": "Do gifted programs pay off?",
    "text": "Do gifted programs pay off?\n\n\n\nMillions of kids across the US placed in gifted programs\nParents/society have to weigh pros and cons; is this worth doing?\nFor instance: does being in gifted program increase your chances of success later in life?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nwhat does cause mean here?"
  },
  {
    "objectID": "slides/15-natural.html#the-fake-data",
    "href": "slides/15-natural.html#the-fake-data",
    "title": "Natural experiments",
    "section": "The (fake) data",
    "text": "The (fake) data\nGo out and collect data on people who were and were not in gifted:\n\n\n\n\n\n\nName\nAge\nGrade\ngifted\nearnings\n\n\n\n\nArav\n62\n92\nno\n54737.33....\n\n\nSterlyn\n35\n85\nno\n55713.01....\n\n\nAudreyna\n80\n87\nno\n87698.29....\n\n\nElizabella\n77\n89\nno\n85697.84....\n\n\nNilayah\n42\n82\nno\n114226.3....\n\n\nLivingston\n51\n89\nno\n68310.52....\n\n\nLailah\n19\n87\nno\n78689.92....\n\n\nTaketa\n89\n90\nno\n86963.07...."
  },
  {
    "objectID": "slides/15-natural.html#the-results",
    "href": "slides/15-natural.html#the-results",
    "title": "Natural experiments",
    "section": "The results",
    "text": "The results\nBig gifted program premium: $24,645.72 more in earnings\n\n\nDoes this mean gifted caused this, or even some of it?"
  },
  {
    "objectID": "slides/15-natural.html#the-problem",
    "href": "slides/15-natural.html#the-problem",
    "title": "Natural experiments",
    "section": "The problem",
    "text": "The problem\nSo many potential confounds, including ones that are really, really hard to measure (like ability) and others that are unknown"
  },
  {
    "objectID": "slides/15-natural.html#the-solution",
    "href": "slides/15-natural.html#the-solution",
    "title": "Natural experiments",
    "section": "The solution",
    "text": "The solution\n\n\n\nTo get into gifted you typically need a certain score on an aptitude/IQ test\nImagine that the cutoff score is 75/100; above youâ€™re in gifted, below you are not\nThis cutoff is known as the assignment mechanism = why some receive treatment (gifted program) or not\nHow was that cutoff chosen?"
  },
  {
    "objectID": "slides/15-natural.html#the-solution-1",
    "href": "slides/15-natural.html#the-solution-1",
    "title": "Natural experiments",
    "section": "The solution",
    "text": "The solution\nThe precise cutoff is completely arbitrary; could have been 74.5, or 76, or 80, or whatever\n\nThe arbitrary nature of the cutoff creates a natural experiment\n\n\nA student who a 76 and a student who got a 34 are probably very different;\n\n\nif one makes more money than the other today, is that because of gifted? or other factors (ability?)\n\n\nBut a student who got a 76 and one who got a 74 are probably interchangeable\n\n\nFew points difference might be function of: random error, luck, whatever"
  },
  {
    "objectID": "slides/15-natural.html#the-natural-experiment",
    "href": "slides/15-natural.html#the-natural-experiment",
    "title": "Natural experiments",
    "section": "The natural experiment",
    "text": "The natural experiment\nIf we look only at students who scored close to the 75 cutoff we have the makings of a natural experiment\n\nAround cutoff, essentially random whether you get treatment (gifted program) or not\n\n\nWhy? Score on test = ability + luck + measurement error\n\n\nExample: Joe got a 74 and Amy got a 76; if they took the test many times, how often would Joe score worse than Amy?\n\n\nâ€œNatural experimentsâ€: situations where some thing (often a rule) creates random assignment of treatment"
  },
  {
    "objectID": "slides/15-natural.html#looking-around-the-cutoff",
    "href": "slides/15-natural.html#looking-around-the-cutoff",
    "title": "Natural experiments",
    "section": "Looking around the cutoff",
    "text": "Looking around the cutoff\nIn analysis terms, (can be) simple: look only at students who scored close to 75, letâ€™s say +/- 2:\n\nsubset_students = fake_students %&gt;% \n  filter(test &gt;= 73 & test &lt;= 77)\n\n\nThen we estimate model on this group; letâ€™s also estimate in the full (confounded!) sample\n\nwrong_model = lm(earnings ~ gifted, data = fake_students)\ndiscon_model = lm(earnings ~ gifted, data = subset_students)\n\n\n\n\n\n\n\nNote\n\n\nThe difference between these two models is the sample the model is being fit to"
  },
  {
    "objectID": "slides/15-natural.html#the-results-1",
    "href": "slides/15-natural.html#the-results-1",
    "title": "Natural experiments",
    "section": "The results",
    "text": "The results\nOuch! Looks like being in gifted actually hurts students in the long-run:\n\n\n\n\n\n\n\nall students\nstudents near cutoff\n\n\n(Intercept)\n77321 ***\n114544 ***\n\n\n\n(391)\n(1942)\n\n\ngiftedyes\n24646 ***\n-26674 ***\n\n\n\n(793)\n(2732)\n\n\nnobs\n10000\n396\n\n\n*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05."
  },
  {
    "objectID": "slides/15-natural.html#visualize-it",
    "href": "slides/15-natural.html#visualize-it",
    "title": "Natural experiments",
    "section": "Visualize it",
    "text": "Visualize it\nPeople with higher aptitude/training/ability/etc. better off today:"
  },
  {
    "objectID": "slides/15-natural.html#the-cutoff",
    "href": "slides/15-natural.html#the-cutoff",
    "title": "Natural experiments",
    "section": "The cutoff",
    "text": "The cutoff"
  },
  {
    "objectID": "slides/15-natural.html#the-natural-experiment-1",
    "href": "slides/15-natural.html#the-natural-experiment-1",
    "title": "Natural experiments",
    "section": "The natural experiment",
    "text": "The natural experiment"
  },
  {
    "objectID": "slides/15-natural.html#the-discontinuity",
    "href": "slides/15-natural.html#the-discontinuity",
    "title": "Natural experiments",
    "section": "The discontinuity",
    "text": "The discontinuity\nThese are the students who, by chance, just barely made it (or not) into gifted"
  },
  {
    "objectID": "slides/15-natural.html#the-discontinuity-1",
    "href": "slides/15-natural.html#the-discontinuity-1",
    "title": "Natural experiments",
    "section": "The discontinuity",
    "text": "The discontinuity\nOn average, the students who by chance made it in make less money"
  },
  {
    "objectID": "slides/15-natural.html#the-payoff",
    "href": "slides/15-natural.html#the-payoff",
    "title": "Natural experiments",
    "section": "The payoff",
    "text": "The payoff\n\n\n\nIn the naive estimate we think gifted programs help students in the long-run;\nWith the discontinuity we see the opposite: gifted hurts\nArbitrary cutoff gets us clean estimates for free: no need to worry about backdoor paths"
  },
  {
    "objectID": "slides/15-natural.html#moral-hazard",
    "href": "slides/15-natural.html#moral-hazard",
    "title": "Natural experiments",
    "section": "Moral hazard",
    "text": "Moral hazard\n\n\n\nHow much moral hazard is there in insurance? E.g., if your insurance covers 10k in services, will provider charge you $10k even if you only need 8k in services?\nNaive estimate: lm(charge ~ insurance)\nWhatâ€™s wrong with the naive estimate?\n\n\n\n\n\n\nMoral hazard data\n\n\nhas insurance\nHospital charge\n\n\n\n\nFALSE\n56909\n\n\nTRUE\n22872\n\n\nFALSE\n46470\n\n\nTRUE\n51852\n\n\nFALSE\n21979\n\n\nTRUE\n25282\n\n\nFALSE\n19599\n\n\nFALSE\n16743"
  },
  {
    "objectID": "slides/15-natural.html#diamond-and-doyle",
    "href": "slides/15-natural.html#diamond-and-doyle",
    "title": "Natural experiments",
    "section": "Diamond and Doyle",
    "text": "Diamond and Doyle"
  },
  {
    "objectID": "slides/15-natural.html#baby-problems",
    "href": "slides/15-natural.html#baby-problems",
    "title": "Natural experiments",
    "section": "Baby problems",
    "text": "Baby problems\n\nInsurance will cover two nights in a hospital after delivery\nBut how long is â€œa nightâ€?\nNights counted by number of midnights (arbitrary cutoff)\nğŸ‘¶ born on Monday at 11:59pm = gets Tue + Wed in hospital\nğŸ‘¶ born on Tuesday at 12:01am = gets Tue + Wed + Thur in hospital (by chance, get extra minimum coverage)"
  },
  {
    "objectID": "slides/15-natural.html#finding",
    "href": "slides/15-natural.html#finding",
    "title": "Natural experiments",
    "section": "Finding",
    "text": "Finding\n1 in 4 babies born after midnight spend an extra night in hospital (ğŸ’µğŸ’µğŸ’µ), even when there is no health benefit to doing so"
  },
  {
    "objectID": "slides/15-natural.html#other-examples-mcnamara-and-the-whiz-kids",
    "href": "slides/15-natural.html#other-examples-mcnamara-and-the-whiz-kids",
    "title": "Natural experiments",
    "section": "Other examples: McNamara and the Whiz Kids",
    "text": "Other examples: McNamara and the Whiz Kids\n\n\n\nWhat effect did bombing raids in Vietnam have long-term?\nProblem: the places that were bombed are very different from the places that were never bombed\nBiggest confound: if bombing accurate, places that were most bombed had most Vietcong presence\n\n\n\n\n\n\nVietnam bombing data\n\n\nmonth\ncontrol\nbombs\n\n\n\n\nDecember\nPartial state\n0\n\n\nDecember\nPartial state\n0\n\n\nSeptember\nContested\n0\n\n\nOctober\nPartial rebel\n0\n\n\nJuly\nPartial state\n0"
  },
  {
    "objectID": "slides/15-natural.html#mcnamara-and-the-whiz-kids",
    "href": "slides/15-natural.html#mcnamara-and-the-whiz-kids",
    "title": "Natural experiments",
    "section": "McNamara and the Whiz Kids",
    "text": "McNamara and the Whiz Kids\n\n\n\nDecision to bomb based on threat scoring system (1, very secure, to 5, very insecure)\nFinal score based on average of sub-scores, then rounded to whole number so:\n4.4999 â€“&gt; 4, whereas 5.0001 -&gt; 5 (arbitrary cutoff)\nPaper shows long-term deleterious effects to bombing"
  },
  {
    "objectID": "slides/15-natural.html#how-do-we-know-we-have-a-natural-experiment",
    "href": "slides/15-natural.html#how-do-we-know-we-have-a-natural-experiment",
    "title": "Natural experiments",
    "section": "How do we know we have a natural experiment?",
    "text": "How do we know we have a natural experiment?\n\n\n\nIn a true experiment, the treatment and control group should look similar or balanced demographically\ni.e., if I put people into two groups at random, it should be very unlikely that the average person in the control is 22 years old and the average in treatment group is 55 years old\nOne thing we can do is compare the characteristics of the treatment and control group in our natural experiment; are they in fact similar?"
  },
  {
    "objectID": "slides/15-natural.html#are-they-similar-back-to-the-gifted-program",
    "href": "slides/15-natural.html#are-they-similar-back-to-the-gifted-program",
    "title": "Natural experiments",
    "section": "Are they similar? Back to the gifted program",
    "text": "Are they similar? Back to the gifted program\nIt looks like people close to the cutoff are pretty balanced\n\n\n\n\n\n\nGifted?\nAverage age\nPercent women\nAverage height\nPercent drug use\n\n\n\n\nno\n52.4\n43.4\n69.4\n50\n\n\nyes\n53.2\n45.0\n69.4\n53\n\n\n\n\n\n\n\n\nSome evidence we have a natural experiment"
  },
  {
    "objectID": "slides/15-natural.html#why-some-evidence",
    "href": "slides/15-natural.html#why-some-evidence",
    "title": "Natural experiments",
    "section": "Why some evidence?",
    "text": "Why some evidence?\n\n\n\nIf checking for balance is a way to see if we have a natural experiment, why canâ€™t we always do this?\nWant to know the effect of X on Y; test for balance on X; if balanced we are good to go / not confounded\nRemember the problem is often we donâ€™t know what confounds are out there! Or we know, but canâ€™t measure them!\nChecking for balance is suggestive, weak evidence that we have a natural experiment"
  },
  {
    "objectID": "slides/15-natural.html#big-picture",
    "href": "slides/15-natural.html#big-picture",
    "title": "Natural experiments",
    "section": "Big picture",
    "text": "Big picture\nNatural experiments are â€œstrongestâ€ causal tool, and regression discontinuity designs are probably the most convincing version\n\nEasy to implement; less worry about confounding; the tough part? Finding one! And collecting the data\n\n\nOften the result of some rule, boundary, or some other random, arbitrary process having a sudden impact in the world\n\n\nPremium on: specific knowledge of a particular region/area/issue"
  },
  {
    "objectID": "slides/15-natural.html#your-turn",
    "href": "slides/15-natural.html#your-turn",
    "title": "Natural experiments",
    "section": "ğŸš¨ Your turn: ğŸ§ ğŸ§ ğŸ§  ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ§ ğŸ§ ğŸ§  ğŸš¨\nWith the person to your right (or whatever):\n\nWrite down as many rules, demarcations, cutoffs, etc., out there in the world that you can think of.\nCan any of these create an opportunity for a natural experiment, where something happens to some people/countries/places but not to others as a result of this rule/cutoff/thing?\nWhat problem could that natural experiment help solve? In the gifted program case: the IQ test cutoff helps solve the problem of estimating the effect of gifted programs on future success.\nPost a summary in the Slack and if the idea is good enough I will steal it and publish it.\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/15-natural.html#no-free-lunch",
    "href": "slides/15-natural.html#no-free-lunch",
    "title": "Natural experiments",
    "section": "No free lunch",
    "text": "No free lunch\n\n\n\nNatural experiments are great but there are limitations:\nChanging estimate If we find a good one, the thing we are trying to estimate likely changes (is this bad? depends)\nSorting at the cutoff If thereâ€™s a rule out there that has consequences, people will do what they can to end up on the right side of it"
  },
  {
    "objectID": "slides/15-natural.html#limitations-changing-estimates",
    "href": "slides/15-natural.html#limitations-changing-estimates",
    "title": "Natural experiments",
    "section": "Limitations: changing estimates",
    "text": "Limitations: changing estimates\n\n\nBy focusing on units near cutoff, our estimate subtly changes:\n\neffect of putting a child in gifted on future earnings, on average\neffect of putting a child with roughly 75 IQ in gifted on earnings âœ…\nIs this a problem? Depends, but better to know one narrow(er) fact that nothing at all?"
  },
  {
    "objectID": "slides/15-natural.html#limitations-sorting-around-the-cutoff",
    "href": "slides/15-natural.html#limitations-sorting-around-the-cutoff",
    "title": "Natural experiments",
    "section": "Limitations: â€œsorting around the cutoffâ€",
    "text": "Limitations: â€œsorting around the cutoffâ€\nThere is also a risk that if people know about the cutoff they will behave strategically in ways that confound our estimate\n\nImagine that there is room to pressure/bully the school psychologist into turning a 74.9 into a 75 so little Timmy can be gifted\n\n\nAnd image wealthier/better-connected/etc parents are better bullies than poor parents\n\n\nIn that case, being gifted is no longer random\n\n\nwealthy parents cause you to get over the cutoff"
  },
  {
    "objectID": "slides/15-natural.html#sorting-around-the-cut-off",
    "href": "slides/15-natural.html#sorting-around-the-cut-off",
    "title": "Natural experiments",
    "section": "Sorting around the cut-off",
    "text": "Sorting around the cut-off\nIf parents can force almost-there kids into gifted, parents become a backdoor path to earnings (since your parents likely affect your earnings directly, or in other ways)"
  },
  {
    "objectID": "slides/15-natural.html#your-turn-sorting-around-the-cutoff",
    "href": "slides/15-natural.html#your-turn-sorting-around-the-cutoff",
    "title": "Natural experiments",
    "section": "ğŸš¨ Your turn: sorting around the cutoff ğŸš¨",
    "text": "ğŸš¨ Your turn: sorting around the cutoff ğŸš¨\nThink back to the arbitrary cutoff you came up with in the last exercise. Discuss again with your neighbor:\n\nCould someone â€œgameâ€ or sort around that cutoff?\nWhat would that look like?\nAnd how could it confound your estimate / ruin the natural experiment?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-problem",
    "href": "slides/17-uncertainty.html#the-problem",
    "title": "Uncertainty II",
    "section": "The problem",
    "text": "The problem\nWe know our analysis is based on samples, and different samples give different answers:\n\n\n\n\n\n\nSample\nAvg. num of kids in sample\n\n\n\n\n1\n1.2\n\n\n2\n2.5\n\n\n3\n2.2\n\n\n4\n2.4\n\n\n5\n1.7\n\n\n6\n1.9\n\n\n7\n2.5\n\n\n8\n1.4"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-way-out",
    "href": "slides/17-uncertainty.html#the-way-out",
    "title": "Uncertainty II",
    "section": "The way out",
    "text": "The way out\n\n\n\nTurns out that if our samples are representative of the population, then estimates from large samples will tend to be pretty damn close\nSo if sample is good âœ… and â€œbigâ€ âœ… then most of the time weâ€™ll be OK âœ…"
  },
  {
    "objectID": "slides/17-uncertainty.html#two-approaches",
    "href": "slides/17-uncertainty.html#two-approaches",
    "title": "Uncertainty II",
    "section": "Two approaches",
    "text": "Two approaches\n\n\nâŒ Statistical theory\n\nMake assumptions about distribution of samples from population\nDesign test based on those assumptions (t-test, z-test, etc.)\n\n\nâœ… Simulation\n\nSimulate different samples that look like ours\nUse distribution of simulated samples to quantify uncertainty\n\n\n\n\nIn some cases, both get you to the same answer, in others, only one works"
  },
  {
    "objectID": "slides/17-uncertainty.html#simulation",
    "href": "slides/17-uncertainty.html#simulation",
    "title": "Uncertainty II",
    "section": "Simulation",
    "text": "Simulation\nWe want a sense for how uncertain we should feel on estimates drawn from our sample\n\nOur sample is gss_sm, and we have 2,867 observations\n\n\n\n\ngss_sm\n\n\nyear\nid\nballot\nage\nchilds\nsibs\ndegree\nrace\n\n\n\n\n2016\n1274\n2\n29\n3\n1\nLt High School\nWhite\n\n\n2016\n392\n3\n41\n3\n8\nHigh School\nBlack\n\n\n2016\n1669\n3\n27\n0\n1\nBachelor\nWhite\n\n\n2016\n2430\n3\n62\n2\n2\nBachelor\nWhite\n\n\n2016\n796\n2\n33\n3\n4\nHigh School\nBlack\n\n\n\n\n\n\n\n\n\n\nHow confident are we in the estimate we get from this sample, given its size?"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-to-simulate",
    "href": "slides/17-uncertainty.html#how-to-simulate",
    "title": "Uncertainty II",
    "section": "How to simulate",
    "text": "How to simulate\nIf we take lots of samples of size 20 \\(\\rightarrow\\) uncertainty in a sample of 20\n\ngss_sm %&gt;%\n  rep_sample_n(size = 20, reps = 1000)"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-to-simulate-1",
    "href": "slides/17-uncertainty.html#how-to-simulate-1",
    "title": "Uncertainty II",
    "section": "How to simulate",
    "text": "How to simulate\nIf we take lots of samples of size 100 \\(\\rightarrow\\) uncertainty in a sample of 100\n\ngss_sm %&gt;%\n  rep_sample_n(size = 100, reps = 1000)"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-to-simulate-2",
    "href": "slides/17-uncertainty.html#how-to-simulate-2",
    "title": "Uncertainty II",
    "section": "How to simulate",
    "text": "How to simulate\nSo to see how uncertain we should feel about gss_sm, we should take many samples that are the same size as gss_sm\n\n\ngss_sm %&gt;% \n  rep_sample_n(size = 2867, reps = 1000)\n\n\n\n\n\n\n\n\n\nNote\n\n\nnrow(DATA) tells you how many observations in data object"
  },
  {
    "objectID": "slides/17-uncertainty.html#problem",
    "href": "slides/17-uncertainty.html#problem",
    "title": "Uncertainty II",
    "section": "Problem",
    "text": "Problem\nIf we have a dataset of 2,867 observations and ask R to randomly pick 2,867 observations, weâ€™ll just get a bunch of copies of the original dataset\n\ngss_sm %&gt;% \n  rep_sample_n(size = nrow(gss_sm), reps = 1000)\n\n\nSolution: sample with replacement \\(\\rightarrow\\) once we draw an observation it goes back into the dataset, ad can be sampled again\n\n\n\ngss_sm %&gt;% \n  rep_sample_n(size = nrow(gss_sm), reps = 1000, replace = TRUE)"
  },
  {
    "objectID": "slides/17-uncertainty.html#sampling-with-replacement",
    "href": "slides/17-uncertainty.html#sampling-with-replacement",
    "title": "Uncertainty II",
    "section": "Sampling with replacement",
    "text": "Sampling with replacement"
  },
  {
    "objectID": "slides/17-uncertainty.html#sampling-with-and-without-replacement",
    "href": "slides/17-uncertainty.html#sampling-with-and-without-replacement",
    "title": "Uncertainty II",
    "section": "Sampling with and without replacement",
    "text": "Sampling with and without replacement\nIf we were sampling 4 of these delicious fruits:\n\nfruits = c(\"Mango\", \"Pineapple\", \"Banana\", \"Blackberry\")\nfruits\n\n[1] \"Mango\"      \"Pineapple\"  \"Banana\"     \"Blackberry\"\n\n\n\nIt would look like this, with and without replacement:\n\n\n\n\n\n\nSample, no replace\nMango\nBanana\nPineapple\nBlackberry\n\n\nSample, replace\nPineapple\nPineapple\nBanana\nBlackberry"
  },
  {
    "objectID": "slides/17-uncertainty.html#bootstrapping",
    "href": "slides/17-uncertainty.html#bootstrapping",
    "title": "Uncertainty II",
    "section": "Bootstrapping",
    "text": "Bootstrapping\n\n\n\nGenerating many, same-sized samples with replacement is called bootstrapping\nReplacement lets us generate samples that randomly differ from ours\nUse the distribution of bootstrapped samples to quantify uncertainty\n\n\n\n\n\n\n\nOnly one sample? Pull yourself up by your bootstraps!"
  },
  {
    "objectID": "slides/17-uncertainty.html#back-to-the-kids",
    "href": "slides/17-uncertainty.html#back-to-the-kids",
    "title": "Uncertainty II",
    "section": "Back to the kids",
    "text": "Back to the kids\nHow uncertain should we be of our estimate of the avg. number of kids in the US, Given that itâ€™s based on our one sample, gss_sm? We can bootstrap:\n\nboot_kids = gss_sm %&gt;% \n  rep_sample_n(size = nrow(gss_sm), reps = 1000, replace = TRUE) %&gt;% \n  summarise(avg_kids = mean(childs, na.rm = TRUE))\nboot_kids\n\n\n\n\n\nreplicate\navg_kids\n\n\n1\n1.88\n\n\n2\n1.85\n\n\n3\n1.88\n\n\n4\n1.87\n\n\n5\n1.88\n\n\n6\n1.87\n\n\n7\n1.83\n\n\n8\n1.84\n\n\n9\n1.82\n\n\n10\n1.77\n\n\n11\n1.85\n\n\n12\n1.88\n\n\n13\n1.85\n\n\n14\n1.88\n\n\n15\n1.85\n\n\n16\n1.82\n\n\n17\n1.81\n\n\n18\n1.86\n\n\n19\n1.82\n\n\n20\n1.88\n\n\n21\n1.94\n\n\n22\n1.84\n\n\n23\n1.87\n\n\n24\n1.9Â \n\n\n25\n1.83\n\n\n26\n1.85\n\n\n27\n1.84\n\n\n28\n1.84\n\n\n29\n1.84\n\n\n30\n1.84\n\n\n31\n1.82\n\n\n32\n1.86\n\n\n33\n1.86\n\n\n34\n1.83\n\n\n35\n1.85\n\n\n36\n1.82\n\n\n37\n1.86\n\n\n38\n1.84\n\n\n39\n1.83\n\n\n40\n1.8Â \n\n\n41\n1.81\n\n\n42\n1.86\n\n\n43\n1.87\n\n\n44\n1.79\n\n\n45\n1.9Â \n\n\n46\n1.84\n\n\n47\n1.9Â \n\n\n48\n1.86\n\n\n49\n1.8Â \n\n\n50\n1.84\n\n\n51\n1.85\n\n\n52\n1.86\n\n\n53\n1.85\n\n\n54\n1.88\n\n\n55\n1.85\n\n\n56\n1.85\n\n\n57\n1.86\n\n\n58\n1.87\n\n\n59\n1.87\n\n\n60\n1.86\n\n\n61\n1.86\n\n\n62\n1.9Â \n\n\n63\n1.87\n\n\n64\n1.86\n\n\n65\n1.84\n\n\n66\n1.85\n\n\n67\n1.87\n\n\n68\n1.88\n\n\n69\n1.81\n\n\n70\n1.87\n\n\n71\n1.82\n\n\n72\n1.86\n\n\n73\n1.84\n\n\n74\n1.84\n\n\n75\n1.87\n\n\n76\n1.84\n\n\n77\n1.87\n\n\n78\n1.85\n\n\n79\n1.88\n\n\n80\n1.89\n\n\n81\n1.92\n\n\n82\n1.88\n\n\n83\n1.92\n\n\n84\n1.83\n\n\n85\n1.86\n\n\n86\n1.83\n\n\n87\n1.88\n\n\n88\n1.83\n\n\n89\n1.88\n\n\n90\n1.88\n\n\n91\n1.86\n\n\n92\n1.9Â \n\n\n93\n1.9Â \n\n\n94\n1.85\n\n\n95\n1.81\n\n\n96\n1.84\n\n\n97\n1.88\n\n\n98\n1.85\n\n\n99\n1.78\n\n\n100\n1.82\n\n\n101\n1.85\n\n\n102\n1.85\n\n\n103\n1.86\n\n\n104\n1.8Â \n\n\n105\n1.87\n\n\n106\n1.84\n\n\n107\n1.85\n\n\n108\n1.86\n\n\n109\n1.91\n\n\n110\n1.87\n\n\n111\n1.82\n\n\n112\n1.86\n\n\n113\n1.82\n\n\n114\n1.87\n\n\n115\n1.86\n\n\n116\n1.81\n\n\n117\n1.84\n\n\n118\n1.89\n\n\n119\n1.84\n\n\n120\n1.88\n\n\n121\n1.87\n\n\n122\n1.88\n\n\n123\n1.84\n\n\n124\n1.77\n\n\n125\n1.85\n\n\n126\n1.88\n\n\n127\n1.86\n\n\n128\n1.88\n\n\n129\n1.88\n\n\n130\n1.86\n\n\n131\n1.82\n\n\n132\n1.81\n\n\n133\n1.9Â \n\n\n134\n1.87\n\n\n135\n1.89\n\n\n136\n1.84\n\n\n137\n1.91\n\n\n138\n1.82\n\n\n139\n1.84\n\n\n140\n1.82\n\n\n141\n1.81\n\n\n142\n1.89\n\n\n143\n1.83\n\n\n144\n1.87\n\n\n145\n1.79\n\n\n146\n1.85\n\n\n147\n1.85\n\n\n148\n1.87\n\n\n149\n1.85\n\n\n150\n1.85\n\n\n151\n1.83\n\n\n152\n1.84\n\n\n153\n1.88\n\n\n154\n1.87\n\n\n155\n1.85\n\n\n156\n1.85\n\n\n157\n1.89\n\n\n158\n1.82\n\n\n159\n1.84\n\n\n160\n1.85\n\n\n161\n1.88\n\n\n162\n1.9Â \n\n\n163\n1.81\n\n\n164\n1.89\n\n\n165\n1.81\n\n\n166\n1.9Â \n\n\n167\n1.83\n\n\n168\n1.85\n\n\n169\n1.82\n\n\n170\n1.84\n\n\n171\n1.81\n\n\n172\n1.85\n\n\n173\n1.85\n\n\n174\n1.82\n\n\n175\n1.85\n\n\n176\n1.82\n\n\n177\n1.82\n\n\n178\n1.89\n\n\n179\n1.91\n\n\n180\n1.9Â \n\n\n181\n1.85\n\n\n182\n1.84\n\n\n183\n1.88\n\n\n184\n1.86\n\n\n185\n1.84\n\n\n186\n1.86\n\n\n187\n1.83\n\n\n188\n1.81\n\n\n189\n1.87\n\n\n190\n1.88\n\n\n191\n1.87\n\n\n192\n1.85\n\n\n193\n1.91\n\n\n194\n1.86\n\n\n195\n1.83\n\n\n196\n1.83\n\n\n197\n1.81\n\n\n198\n1.86\n\n\n199\n1.91\n\n\n200\n1.85\n\n\n201\n1.81\n\n\n202\n1.83\n\n\n203\n1.85\n\n\n204\n1.82\n\n\n205\n1.9Â \n\n\n206\n1.81\n\n\n207\n1.89\n\n\n208\n1.8Â \n\n\n209\n1.85\n\n\n210\n1.82\n\n\n211\n1.88\n\n\n212\n1.87\n\n\n213\n1.84\n\n\n214\n1.84\n\n\n215\n1.86\n\n\n216\n1.82\n\n\n217\n1.86\n\n\n218\n1.86\n\n\n219\n1.86\n\n\n220\n1.85\n\n\n221\n1.88\n\n\n222\n1.9Â \n\n\n223\n1.83\n\n\n224\n1.87\n\n\n225\n1.88\n\n\n226\n1.88\n\n\n227\n1.86\n\n\n228\n1.88\n\n\n229\n1.84\n\n\n230\n1.79\n\n\n231\n1.88\n\n\n232\n1.88\n\n\n233\n1.79\n\n\n234\n1.82\n\n\n235\n1.85\n\n\n236\n1.84\n\n\n237\n1.83\n\n\n238\n1.79\n\n\n239\n1.83\n\n\n240\n1.84\n\n\n241\n1.88\n\n\n242\n1.81\n\n\n243\n1.84\n\n\n244\n1.88\n\n\n245\n1.83\n\n\n246\n1.82\n\n\n247\n1.81\n\n\n248\n1.83\n\n\n249\n1.86\n\n\n250\n1.84\n\n\n251\n1.87\n\n\n252\n1.83\n\n\n253\n1.88\n\n\n254\n1.82\n\n\n255\n1.83\n\n\n256\n1.84\n\n\n257\n1.87\n\n\n258\n1.9Â \n\n\n259\n1.85\n\n\n260\n1.83\n\n\n261\n1.85\n\n\n262\n1.85\n\n\n263\n1.86\n\n\n264\n1.85\n\n\n265\n1.84\n\n\n266\n1.85\n\n\n267\n1.88\n\n\n268\n1.84\n\n\n269\n1.83\n\n\n270\n1.84\n\n\n271\n1.88\n\n\n272\n1.81\n\n\n273\n1.86\n\n\n274\n1.85\n\n\n275\n1.89\n\n\n276\n1.93\n\n\n277\n1.89\n\n\n278\n1.83\n\n\n279\n1.88\n\n\n280\n1.84\n\n\n281\n1.84\n\n\n282\n1.8Â \n\n\n283\n1.83\n\n\n284\n1.85\n\n\n285\n1.89\n\n\n286\n1.86\n\n\n287\n1.84\n\n\n288\n1.84\n\n\n289\n1.92\n\n\n290\n1.83\n\n\n291\n1.9Â \n\n\n292\n1.9Â \n\n\n293\n1.93\n\n\n294\n1.84\n\n\n295\n1.9Â \n\n\n296\n1.82\n\n\n297\n1.86\n\n\n298\n1.83\n\n\n299\n1.88\n\n\n300\n1.83\n\n\n301\n1.85\n\n\n302\n1.84\n\n\n303\n1.84\n\n\n304\n1.89\n\n\n305\n1.91\n\n\n306\n1.82\n\n\n307\n1.87\n\n\n308\n1.9Â \n\n\n309\n1.86\n\n\n310\n1.83\n\n\n311\n1.9Â \n\n\n312\n1.88\n\n\n313\n1.85\n\n\n314\n1.87\n\n\n315\n1.86\n\n\n316\n1.87\n\n\n317\n1.89\n\n\n318\n1.84\n\n\n319\n1.87\n\n\n320\n1.85\n\n\n321\n1.85\n\n\n322\n1.87\n\n\n323\n1.83\n\n\n324\n1.91\n\n\n325\n1.9Â \n\n\n326\n1.83\n\n\n327\n1.84\n\n\n328\n1.87\n\n\n329\n1.89\n\n\n330\n1.84\n\n\n331\n1.78\n\n\n332\n1.79\n\n\n333\n1.88\n\n\n334\n1.92\n\n\n335\n1.84\n\n\n336\n1.8Â \n\n\n337\n1.92\n\n\n338\n1.86\n\n\n339\n1.87\n\n\n340\n1.89\n\n\n341\n1.81\n\n\n342\n1.79\n\n\n343\n1.79\n\n\n344\n1.84\n\n\n345\n1.84\n\n\n346\n1.91\n\n\n347\n1.76\n\n\n348\n1.84\n\n\n349\n1.89\n\n\n350\n1.82\n\n\n351\n1.8Â \n\n\n352\n1.88\n\n\n353\n1.92\n\n\n354\n1.82\n\n\n355\n1.87\n\n\n356\n1.93\n\n\n357\n1.87\n\n\n358\n1.92\n\n\n359\n1.81\n\n\n360\n1.86\n\n\n361\n1.81\n\n\n362\n1.83\n\n\n363\n1.82\n\n\n364\n1.83\n\n\n365\n1.85\n\n\n366\n1.83\n\n\n367\n1.84\n\n\n368\n1.84\n\n\n369\n1.9Â \n\n\n370\n1.9Â \n\n\n371\n1.84\n\n\n372\n1.82\n\n\n373\n1.86\n\n\n374\n1.86\n\n\n375\n1.9Â \n\n\n376\n1.84\n\n\n377\n1.88\n\n\n378\n1.9Â \n\n\n379\n1.79\n\n\n380\n1.87\n\n\n381\n1.87\n\n\n382\n1.79\n\n\n383\n1.87\n\n\n384\n1.77\n\n\n385\n1.81\n\n\n386\n1.86\n\n\n387\n1.87\n\n\n388\n1.82\n\n\n389\n1.89\n\n\n390\n1.85\n\n\n391\n1.82\n\n\n392\n1.83\n\n\n393\n1.88\n\n\n394\n1.84\n\n\n395\n1.82\n\n\n396\n1.91\n\n\n397\n1.81\n\n\n398\n1.89\n\n\n399\n1.85\n\n\n400\n1.85\n\n\n401\n1.85\n\n\n402\n1.85\n\n\n403\n1.82\n\n\n404\n1.84\n\n\n405\n1.8Â \n\n\n406\n1.86\n\n\n407\n1.85\n\n\n408\n1.84\n\n\n409\n1.79\n\n\n410\n1.84\n\n\n411\n1.84\n\n\n412\n1.9Â \n\n\n413\n1.89\n\n\n414\n1.84\n\n\n415\n1.89\n\n\n416\n1.8Â \n\n\n417\n1.88\n\n\n418\n1.87\n\n\n419\n1.9Â \n\n\n420\n1.81\n\n\n421\n1.82\n\n\n422\n1.88\n\n\n423\n1.87\n\n\n424\n1.88\n\n\n425\n1.9Â \n\n\n426\n1.79\n\n\n427\n1.84\n\n\n428\n1.82\n\n\n429\n1.88\n\n\n430\n1.76\n\n\n431\n1.84\n\n\n432\n1.83\n\n\n433\n1.83\n\n\n434\n1.81\n\n\n435\n1.89\n\n\n436\n1.86\n\n\n437\n1.84\n\n\n438\n1.86\n\n\n439\n1.84\n\n\n440\n1.86\n\n\n441\n1.86\n\n\n442\n1.88\n\n\n443\n1.88\n\n\n444\n1.85\n\n\n445\n1.88\n\n\n446\n1.86\n\n\n447\n1.83\n\n\n448\n1.84\n\n\n449\n1.85\n\n\n450\n1.92\n\n\n451\n1.82\n\n\n452\n1.93\n\n\n453\n1.84\n\n\n454\n1.82\n\n\n455\n1.85\n\n\n456\n1.8Â \n\n\n457\n1.86\n\n\n458\n1.84\n\n\n459\n1.84\n\n\n460\n1.84\n\n\n461\n1.83\n\n\n462\n1.83\n\n\n463\n1.84\n\n\n464\n1.9Â \n\n\n465\n1.82\n\n\n466\n1.85\n\n\n467\n1.87\n\n\n468\n1.82\n\n\n469\n1.83\n\n\n470\n1.83\n\n\n471\n1.88\n\n\n472\n1.75\n\n\n473\n1.87\n\n\n474\n1.94\n\n\n475\n1.86\n\n\n476\n1.84\n\n\n477\n1.85\n\n\n478\n1.9Â \n\n\n479\n1.85\n\n\n480\n1.76\n\n\n481\n1.85\n\n\n482\n1.83\n\n\n483\n1.85\n\n\n484\n1.85\n\n\n485\n1.85\n\n\n486\n1.87\n\n\n487\n1.83\n\n\n488\n1.8Â \n\n\n489\n1.88\n\n\n490\n1.8Â \n\n\n491\n1.87\n\n\n492\n1.9Â \n\n\n493\n1.87\n\n\n494\n1.88\n\n\n495\n1.86\n\n\n496\n1.89\n\n\n497\n1.89\n\n\n498\n1.84\n\n\n499\n1.87\n\n\n500\n1.85\n\n\n501\n1.82\n\n\n502\n1.82\n\n\n503\n1.83\n\n\n504\n1.8Â \n\n\n505\n1.86\n\n\n506\n1.89\n\n\n507\n1.84\n\n\n508\n1.86\n\n\n509\n1.81\n\n\n510\n1.9Â \n\n\n511\n1.92\n\n\n512\n1.79\n\n\n513\n1.82\n\n\n514\n1.85\n\n\n515\n1.86\n\n\n516\n1.85\n\n\n517\n1.83\n\n\n518\n1.85\n\n\n519\n1.83\n\n\n520\n1.92\n\n\n521\n1.82\n\n\n522\n1.85\n\n\n523\n1.81\n\n\n524\n1.88\n\n\n525\n1.86\n\n\n526\n1.82\n\n\n527\n1.85\n\n\n528\n1.81\n\n\n529\n1.86\n\n\n530\n1.87\n\n\n531\n1.88\n\n\n532\n1.84\n\n\n533\n1.84\n\n\n534\n1.84\n\n\n535\n1.85\n\n\n536\n1.8Â \n\n\n537\n1.87\n\n\n538\n1.84\n\n\n539\n1.8Â \n\n\n540\n1.79\n\n\n541\n1.91\n\n\n542\n1.83\n\n\n543\n1.89\n\n\n544\n1.84\n\n\n545\n1.88\n\n\n546\n1.81\n\n\n547\n1.83\n\n\n548\n1.9Â \n\n\n549\n1.88\n\n\n550\n1.86\n\n\n551\n1.81\n\n\n552\n1.84\n\n\n553\n1.8Â \n\n\n554\n1.81\n\n\n555\n1.84\n\n\n556\n1.93\n\n\n557\n1.93\n\n\n558\n1.83\n\n\n559\n1.85\n\n\n560\n1.81\n\n\n561\n1.86\n\n\n562\n1.85\n\n\n563\n1.82\n\n\n564\n1.88\n\n\n565\n1.89\n\n\n566\n1.81\n\n\n567\n1.92\n\n\n568\n1.86\n\n\n569\n1.83\n\n\n570\n1.86\n\n\n571\n1.79\n\n\n572\n1.83\n\n\n573\n1.82\n\n\n574\n1.85\n\n\n575\n1.85\n\n\n576\n1.9Â \n\n\n577\n1.88\n\n\n578\n1.89\n\n\n579\n1.91\n\n\n580\n1.83\n\n\n581\n1.86\n\n\n582\n1.91\n\n\n583\n1.88\n\n\n584\n1.84\n\n\n585\n1.86\n\n\n586\n1.81\n\n\n587\n1.86\n\n\n588\n1.83\n\n\n589\n1.89\n\n\n590\n1.86\n\n\n591\n1.83\n\n\n592\n1.83\n\n\n593\n1.83\n\n\n594\n1.89\n\n\n595\n1.87\n\n\n596\n1.81\n\n\n597\n1.86\n\n\n598\n1.86\n\n\n599\n1.82\n\n\n600\n1.84\n\n\n601\n1.85\n\n\n602\n1.83\n\n\n603\n1.86\n\n\n604\n1.88\n\n\n605\n1.86\n\n\n606\n1.89\n\n\n607\n1.86\n\n\n608\n1.86\n\n\n609\n1.81\n\n\n610\n1.87\n\n\n611\n1.91\n\n\n612\n1.87\n\n\n613\n1.87\n\n\n614\n1.78\n\n\n615\n1.89\n\n\n616\n1.82\n\n\n617\n1.86\n\n\n618\n1.9Â \n\n\n619\n1.81\n\n\n620\n1.88\n\n\n621\n1.83\n\n\n622\n1.9Â \n\n\n623\n1.83\n\n\n624\n1.86\n\n\n625\n1.84\n\n\n626\n1.84\n\n\n627\n1.85\n\n\n628\n1.86\n\n\n629\n1.86\n\n\n630\n1.87\n\n\n631\n1.86\n\n\n632\n1.85\n\n\n633\n1.8Â \n\n\n634\n1.84\n\n\n635\n1.83\n\n\n636\n1.87\n\n\n637\n1.83\n\n\n638\n1.93\n\n\n639\n1.9Â \n\n\n640\n1.85\n\n\n641\n1.89\n\n\n642\n1.81\n\n\n643\n1.8Â \n\n\n644\n1.92\n\n\n645\n1.81\n\n\n646\n1.88\n\n\n647\n1.77\n\n\n648\n1.82\n\n\n649\n1.9Â \n\n\n650\n1.88\n\n\n651\n1.84\n\n\n652\n1.81\n\n\n653\n1.85\n\n\n654\n1.85\n\n\n655\n1.82\n\n\n656\n1.9Â \n\n\n657\n1.85\n\n\n658\n1.85\n\n\n659\n1.85\n\n\n660\n1.83\n\n\n661\n1.84\n\n\n662\n1.85\n\n\n663\n1.85\n\n\n664\n1.9Â \n\n\n665\n1.85\n\n\n666\n1.86\n\n\n667\n1.83\n\n\n668\n1.84\n\n\n669\n1.84\n\n\n670\n1.87\n\n\n671\n1.85\n\n\n672\n1.81\n\n\n673\n1.92\n\n\n674\n1.81\n\n\n675\n1.86\n\n\n676\n1.88\n\n\n677\n1.87\n\n\n678\n1.8Â \n\n\n679\n1.9Â \n\n\n680\n1.86\n\n\n681\n1.85\n\n\n682\n1.85\n\n\n683\n1.88\n\n\n684\n1.85\n\n\n685\n1.81\n\n\n686\n1.82\n\n\n687\n1.89\n\n\n688\n1.9Â \n\n\n689\n1.89\n\n\n690\n1.82\n\n\n691\n1.85\n\n\n692\n1.86\n\n\n693\n1.88\n\n\n694\n1.89\n\n\n695\n1.85\n\n\n696\n1.84\n\n\n697\n1.84\n\n\n698\n1.93\n\n\n699\n1.88\n\n\n700\n1.88\n\n\n701\n1.83\n\n\n702\n1.84\n\n\n703\n1.85\n\n\n704\n1.83\n\n\n705\n1.89\n\n\n706\n1.83\n\n\n707\n1.82\n\n\n708\n1.89\n\n\n709\n1.83\n\n\n710\n1.85\n\n\n711\n1.85\n\n\n712\n1.86\n\n\n713\n1.85\n\n\n714\n1.82\n\n\n715\n1.86\n\n\n716\n1.84\n\n\n717\n1.86\n\n\n718\n1.86\n\n\n719\n1.86\n\n\n720\n1.88\n\n\n721\n1.79\n\n\n722\n1.84\n\n\n723\n1.85\n\n\n724\n1.84\n\n\n725\n1.86\n\n\n726\n1.8Â \n\n\n727\n1.8Â \n\n\n728\n1.85\n\n\n729\n1.87\n\n\n730\n1.82\n\n\n731\n1.81\n\n\n732\n1.84\n\n\n733\n1.84\n\n\n734\n1.84\n\n\n735\n1.88\n\n\n736\n1.92\n\n\n737\n1.8Â \n\n\n738\n1.85\n\n\n739\n1.88\n\n\n740\n1.87\n\n\n741\n1.89\n\n\n742\n1.89\n\n\n743\n1.85\n\n\n744\n1.84\n\n\n745\n1.83\n\n\n746\n1.88\n\n\n747\n1.91\n\n\n748\n1.83\n\n\n749\n1.83\n\n\n750\n1.88\n\n\n751\n1.85\n\n\n752\n1.84\n\n\n753\n1.9Â \n\n\n754\n1.87\n\n\n755\n1.83\n\n\n756\n1.85\n\n\n757\n1.89\n\n\n758\n1.81\n\n\n759\n1.9Â \n\n\n760\n1.88\n\n\n761\n1.88\n\n\n762\n1.85\n\n\n763\n1.9Â \n\n\n764\n1.87\n\n\n765\n1.9Â \n\n\n766\n1.88\n\n\n767\n1.81\n\n\n768\n1.85\n\n\n769\n1.88\n\n\n770\n1.83\n\n\n771\n1.83\n\n\n772\n1.84\n\n\n773\n1.87\n\n\n774\n1.92\n\n\n775\n1.82\n\n\n776\n1.86\n\n\n777\n1.84\n\n\n778\n1.86\n\n\n779\n1.82\n\n\n780\n1.9Â \n\n\n781\n1.85\n\n\n782\n1.81\n\n\n783\n1.83\n\n\n784\n1.85\n\n\n785\n1.83\n\n\n786\n1.86\n\n\n787\n1.85\n\n\n788\n1.81\n\n\n789\n1.84\n\n\n790\n1.92\n\n\n791\n1.83\n\n\n792\n1.88\n\n\n793\n1.87\n\n\n794\n1.89\n\n\n795\n1.83\n\n\n796\n1.83\n\n\n797\n1.92\n\n\n798\n1.9Â \n\n\n799\n1.84\n\n\n800\n1.84\n\n\n801\n1.83\n\n\n802\n1.83\n\n\n803\n1.83\n\n\n804\n1.85\n\n\n805\n1.8Â \n\n\n806\n1.82\n\n\n807\n1.84\n\n\n808\n1.83\n\n\n809\n1.88\n\n\n810\n1.85\n\n\n811\n1.81\n\n\n812\n1.85\n\n\n813\n1.84\n\n\n814\n1.85\n\n\n815\n1.82\n\n\n816\n1.84\n\n\n817\n1.85\n\n\n818\n1.86\n\n\n819\n1.85\n\n\n820\n1.83\n\n\n821\n1.81\n\n\n822\n1.84\n\n\n823\n1.89\n\n\n824\n1.85\n\n\n825\n1.79\n\n\n826\n1.9Â \n\n\n827\n1.85\n\n\n828\n1.86\n\n\n829\n1.85\n\n\n830\n1.88\n\n\n831\n1.86\n\n\n832\n1.84\n\n\n833\n1.83\n\n\n834\n1.83\n\n\n835\n1.86\n\n\n836\n1.88\n\n\n837\n1.85\n\n\n838\n1.8Â \n\n\n839\n1.84\n\n\n840\n1.88\n\n\n841\n1.85\n\n\n842\n1.83\n\n\n843\n1.85\n\n\n844\n1.85\n\n\n845\n1.83\n\n\n846\n1.84\n\n\n847\n1.86\n\n\n848\n1.84\n\n\n849\n1.82\n\n\n850\n1.86\n\n\n851\n1.94\n\n\n852\n1.8Â \n\n\n853\n1.85\n\n\n854\n1.85\n\n\n855\n1.84\n\n\n856\n1.81\n\n\n857\n1.88\n\n\n858\n1.86\n\n\n859\n1.81\n\n\n860\n1.81\n\n\n861\n1.86\n\n\n862\n1.79\n\n\n863\n1.81\n\n\n864\n1.79\n\n\n865\n1.9Â \n\n\n866\n1.82\n\n\n867\n1.83\n\n\n868\n1.84\n\n\n869\n1.9Â \n\n\n870\n1.89\n\n\n871\n1.86\n\n\n872\n1.85\n\n\n873\n1.85\n\n\n874\n1.84\n\n\n875\n1.82\n\n\n876\n1.86\n\n\n877\n1.84\n\n\n878\n1.85\n\n\n879\n1.83\n\n\n880\n1.81\n\n\n881\n1.86\n\n\n882\n1.9Â \n\n\n883\n1.79\n\n\n884\n1.79\n\n\n885\n1.86\n\n\n886\n1.82\n\n\n887\n1.86\n\n\n888\n1.83\n\n\n889\n1.8Â \n\n\n890\n1.83\n\n\n891\n1.89\n\n\n892\n1.84\n\n\n893\n1.82\n\n\n894\n1.86\n\n\n895\n1.83\n\n\n896\n1.89\n\n\n897\n1.8Â \n\n\n898\n1.87\n\n\n899\n1.86\n\n\n900\n1.87\n\n\n901\n1.83\n\n\n902\n1.85\n\n\n903\n1.78\n\n\n904\n1.8Â \n\n\n905\n1.84\n\n\n906\n1.86\n\n\n907\n1.85\n\n\n908\n1.85\n\n\n909\n1.83\n\n\n910\n1.88\n\n\n911\n1.83\n\n\n912\n1.84\n\n\n913\n1.86\n\n\n914\n1.86\n\n\n915\n1.82\n\n\n916\n1.87\n\n\n917\n1.82\n\n\n918\n1.88\n\n\n919\n1.81\n\n\n920\n1.87\n\n\n921\n1.77\n\n\n922\n1.83\n\n\n923\n1.85\n\n\n924\n1.85\n\n\n925\n1.81\n\n\n926\n1.9Â \n\n\n927\n1.89\n\n\n928\n1.87\n\n\n929\n1.81\n\n\n930\n1.81\n\n\n931\n1.84\n\n\n932\n1.87\n\n\n933\n1.86\n\n\n934\n1.82\n\n\n935\n1.87\n\n\n936\n1.81\n\n\n937\n1.87\n\n\n938\n1.82\n\n\n939\n1.88\n\n\n940\n1.87\n\n\n941\n1.89\n\n\n942\n1.85\n\n\n943\n1.86\n\n\n944\n1.82\n\n\n945\n1.82\n\n\n946\n1.8Â \n\n\n947\n1.83\n\n\n948\n1.82\n\n\n949\n1.83\n\n\n950\n1.78\n\n\n951\n1.86\n\n\n952\n1.9Â \n\n\n953\n1.87\n\n\n954\n1.82\n\n\n955\n1.81\n\n\n956\n1.9Â \n\n\n957\n1.84\n\n\n958\n1.89\n\n\n959\n1.88\n\n\n960\n1.83\n\n\n961\n1.81\n\n\n962\n1.85\n\n\n963\n1.86\n\n\n964\n1.86\n\n\n965\n1.84\n\n\n966\n1.84\n\n\n967\n1.83\n\n\n968\n1.89\n\n\n969\n1.85\n\n\n970\n1.87\n\n\n971\n1.81\n\n\n972\n1.8Â \n\n\n973\n1.85\n\n\n974\n1.83\n\n\n975\n1.9Â \n\n\n976\n1.83\n\n\n977\n1.87\n\n\n978\n1.86\n\n\n979\n1.85\n\n\n980\n1.83\n\n\n981\n1.9Â \n\n\n982\n1.79\n\n\n983\n1.88\n\n\n984\n1.81\n\n\n985\n1.8Â \n\n\n986\n1.91\n\n\n987\n1.89\n\n\n988\n1.88\n\n\n989\n1.89\n\n\n990\n1.89\n\n\n991\n1.8Â \n\n\n992\n1.85\n\n\n993\n1.85\n\n\n994\n1.83\n\n\n995\n1.9Â \n\n\n996\n1.84\n\n\n997\n1.87\n\n\n998\n1.84\n\n\n999\n1.83\n\n\n1000\n1.86"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-distribution-of-bootstrapped-estimates",
    "href": "slides/17-uncertainty.html#the-distribution-of-bootstrapped-estimates",
    "title": "Uncertainty II",
    "section": "The distribution of bootstrapped estimates",
    "text": "The distribution of bootstrapped estimates\nOur estimate and how much simulated estimates might vary across bootstrapped samples that look like ours\n\nThe red is the distribution of bootstrapped sample estimates \\(\\rightarrow\\) the sampling distribution"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-to-quantify-uncertainty",
    "href": "slides/17-uncertainty.html#how-to-quantify-uncertainty",
    "title": "Uncertainty II",
    "section": "How to quantify uncertainty?",
    "text": "How to quantify uncertainty?\n\n\nThe red histogram is nice, but how can we communicate uncertainty in our estimates in a pithy, more comparable way?\nThree approaches:\n\nThe standard error\nThe confidence interval\nStatistical significance"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-standard-error",
    "href": "slides/17-uncertainty.html#the-standard-error",
    "title": "Uncertainty II",
    "section": "The standard error",
    "text": "The standard error\nOne way to quantify uncertainty would be to measure how â€œwideâ€ the distribution of bootstrapped sample estimates is\n\nAs we learned so long ago, one way to measure the â€œspreadâ€ of a distribution (i.e., how much a variable varies), is with the standard deviation\n\n\nThe standard deviation of the sampling distribution is called the standard error, or the margin of error\n\n\n\n\n\nboot_kids %&gt;% \n  summarise(mean = mean(avg_kids), \n            standard_error = sd(avg_kids))\n\n\n\n\n\nmean\nstandard_error\n\n\n1.85\n0.0319\n\n\n\n\n\n\n\n\n\nBest guess on how many kids the average American has? About 1.85 kids, +/- 2 standard errors"
  },
  {
    "objectID": "slides/17-uncertainty.html#standard-error",
    "href": "slides/17-uncertainty.html#standard-error",
    "title": "Uncertainty II",
    "section": "Standard error",
    "text": "Standard error\nThis is what you see in the news â€“ that +/- polling/margin of error"
  },
  {
    "objectID": "slides/17-uncertainty.html#varying-uncertainty",
    "href": "slides/17-uncertainty.html#varying-uncertainty",
    "title": "Uncertainty II",
    "section": "Varying uncertainty",
    "text": "Varying uncertainty\nAs our sample size increases, the standard error decreases\n\n\n\n\n\n\nSample size\nAverage (truth = 10)\nStandard error\n\n\n\n\n10.00\n9.12\n0.74\n\n\n64.44\n10.06\n0.28\n\n\n118.89\n10.11\n0.19\n\n\n173.33\n10.07\n0.16\n\n\n227.78\n9.89\n0.13\n\n\n282.22\n9.94\n0.12\n\n\n336.67\n10.00\n0.11\n\n\n391.11\n10.08\n0.10\n\n\n445.56\n9.99\n0.09\n\n\n500.00\n9.92\n0.09"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-confidence-interval-1",
    "href": "slides/17-uncertainty.html#the-confidence-interval-1",
    "title": "Uncertainty II",
    "section": "The confidence interval",
    "text": "The confidence interval\nAnother way to quantify uncertainty is to look where most estimates fall\nthis is the confidence interval: our â€œbest guessâ€ of what weâ€™re trying to estimate"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-big-to-make-the-interval",
    "href": "slides/17-uncertainty.html#how-big-to-make-the-interval",
    "title": "Uncertainty II",
    "section": "How big to make the interval?",
    "text": "How big to make the interval?\nYou could report (for example) where the middle 50% of bootstraps fall, or (for example) where the middle 95% of bootstraps fall, but there are tradeoffs!"
  },
  {
    "objectID": "slides/17-uncertainty.html#the-tradeoff",
    "href": "slides/17-uncertainty.html#the-tradeoff",
    "title": "Uncertainty II",
    "section": "The tradeoff",
    "text": "The tradeoff\n\nYou are 50% â€œconfidentâ€ that avg. number of kids could vary between 1.83 and 1.87. Narrower range! But low confidence!\nYou are 95% â€œconfidentâ€ that avg. number of kids could vary between 1.79 and 1.92. Higher range! But higher confidence!"
  },
  {
    "objectID": "slides/17-uncertainty.html#how-big-to-make-the-interval-1",
    "href": "slides/17-uncertainty.html#how-big-to-make-the-interval-1",
    "title": "Uncertainty II",
    "section": "How big to make the interval?",
    "text": "How big to make the interval?\nConvention is to look at the middle 95% of the distribution\n\nWhere do the middle 95% of the bootstrap estimates fall?\n\n\nWe can use the quantile() function to get here\n\nboot_kids %&gt;% \n  summarise(low = quantile(avg_kids, .025), # middle 95% means lower bound is .025\n            mean = mean(avg_kids), \n            high = quantile(avg_kids, .975)) # middle 95% means upper bound is .975\n\n\n\n\n\nlow\nmean\nhigh\n\n\n1.79\n1.85\n1.92\n\n\n\n\n\n\n\n\n\n\nThe 95% confidence confidence interval for the average number of kids in the US is: (1.80, 1.91)\n\ndraw on board with middle 50% of distribution"
  },
  {
    "objectID": "slides/17-uncertainty.html#mirrors-of-one-another",
    "href": "slides/17-uncertainty.html#mirrors-of-one-another",
    "title": "Uncertainty II",
    "section": "Mirrors of one another",
    "text": "Mirrors of one another\nThe standard error and confidence interval are actually telling you the same thing\n\nA 95% confidence interval is roughly equal to the Estimate +/- 1.96 \\(\\times\\) standard error\n\n\n\nboot_kids %&gt;% \n  summarise(low = quantile(avg_kids, .025),\n            mean = mean(avg_kids), \n            high = quantile(avg_kids, .975))\n\n\n\n\n\nlow\nmean\nhigh\n\n\n1.79\n1.85\n1.92\n\n\n\n\n\n\n\n\n\n\nboot_kids %&gt;% \n  summarise(mean = mean(avg_kids), standard_error = sd(avg_kids)) %&gt;% \n  mutate(low = mean - 1.96 * standard_error, \n         high = mean + 1.96 * standard_error) %&gt;% \n  select(low, mean, high)\n\n\n\n\n\nlow\nmean\nhigh\n\n\n1.79\n1.85\n1.91"
  },
  {
    "objectID": "slides/17-uncertainty.html#your-turn-polling-the-death-penalty",
    "href": "slides/17-uncertainty.html#your-turn-polling-the-death-penalty",
    "title": "Uncertainty II",
    "section": "ğŸš¨ Your turn: polling the death penalty ğŸš¨",
    "text": "ğŸš¨ Your turn: polling the death penalty ğŸš¨\nUse the issues data, and:\n\nPick a state of your choosing. What proportion of respondents support the death penalty in that state?\nOK, but how certain are you of that? Generate 1,000 bootstraps and plot the distribution.\nCalculate the standard error and the 95% confidence interval of your best guess. Convince yourself the two can be made equivalent.\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/f24/01-hello.html#most-wanted-lists",
    "href": "slides/f24/01-hello.html#most-wanted-lists",
    "title": "Hello",
    "section": "Most wanted lists",
    "text": "Most wanted lists\n\n\n\nCountries like the US spend lots of resources trying to kill, capture leaders of non-state armed groups\n\nRebel groups, terrorist orgs, organized crime\n\nThis is known in the literature as decapitation\n\nâ€œto cut off the headâ€"
  },
  {
    "objectID": "slides/f24/01-hello.html#the-data-milton-and-price-2020",
    "href": "slides/f24/01-hello.html#the-data-milton-and-price-2020",
    "title": "Hello",
    "section": "The data: Milton and Price (2020)",
    "text": "The data: Milton and Price (2020)\n\n\n\n\n\n\nName\nYear\nDecapitated?\nCollapsed?\n\n\n\n\nApril 19 Movement (M-19)\n1987\nNo\nNo\n\n\nApril 19 Movement (M-19)\n1988\nNo\nNo\n\n\nLoyalist Volunteer Force (LVF)\n1996\nNo\nNo\n\n\nLoyalist Volunteer Force (LVF)\n1997\nYes\nNo\n\n\nal-Qaeda\n1988\nNo\nNo\n\n\nal-Qaeda\n1989\nNo\nNo"
  },
  {
    "objectID": "slides/f24/01-hello.html#the-results-a-big-effect",
    "href": "slides/f24/01-hello.html#the-results-a-big-effect",
    "title": "Hello",
    "section": "The results: a big effect!",
    "text": "The results: a big effect!\n\nDecapitated terrorist groups are 3 times more likely to collapse"
  },
  {
    "objectID": "slides/f24/01-hello.html#not-so-fast",
    "href": "slides/f24/01-hello.html#not-so-fast",
    "title": "Hello",
    "section": "Not so fastâ€¦",
    "text": "Not so fastâ€¦\n\nGroups that are decapitated are different from groups that arenâ€™t decapitated\n\n\n\n\n\n\n\n\n\n\nGroups that were decapitated\n\n\n\n\nHarakat ul-Mujahidin (HuM)\n\n\nIrish National Liberation Army (INLA)\n\n\nManuel Rodriguez Patriotic Front (FPMR)\n\n\nSelf-Defense Groups of Cordoba and Uraba (ACCU)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGroups that weren't decapitated\n\n\n\n\nUlster Volunteer Force (UVF)\n\n\nEritrean Liberation Front (ELF)\n\n\nNational Socialist Council of Nagaland-Isak-Muivah (NSCN-IM)\n\n\nIslamic Movement of Uzbekistan\n\n\n\n\n\n\n\n\n\n\n\n\nThe groups that are decapitated might be the weakest ones, the ones that states especially want to destroy, ones where leaders are more important, etc.\n\n\nWe need to adjust for these differences"
  },
  {
    "objectID": "slides/f24/01-hello.html#an-emphasis-on-doing",
    "href": "slides/f24/01-hello.html#an-emphasis-on-doing",
    "title": "Hello",
    "section": "An emphasis on doing",
    "text": "An emphasis on doing\n\n\n\nNo readings\nregular, sustained practice with hands-on problem sets\n10 weeks of focused study in R, a powerful and in-demand programming language"
  },
  {
    "objectID": "slides/f24/01-hello.html#class-philosophy",
    "href": "slides/f24/01-hello.html#class-philosophy",
    "title": "Hello",
    "section": "Class philosophy:",
    "text": "Class philosophy:\nLittle to none of this:\n\\[\\sigma^2 = \\frac{\\sum_{i=1}^{n}(x_i - \\mu)^2} {n}\\]\n\nLots of this:\n\nprison |&gt; \n  # look at california\n  filter(state == \"California\") |&gt; \n  # measure variation over time\n  summarise(prison_sd = sd(incarcerated_total, na.rm = TRUE))"
  },
  {
    "objectID": "slides/f24/01-hello.html#this-class-is-practical",
    "href": "slides/f24/01-hello.html#this-class-is-practical",
    "title": "Hello",
    "section": "This class is practical",
    "text": "This class is practical\n\n\nThis class could be a couple lines on a resume:\n\nAbility to work with data â¡ï¸ marketable\nR is popular in industry\nFamiliarity with R â¡ï¸ other languages\nPrinciples learned in R can be applied elsewhere (Excel)\nProblem-solving in Slack"
  },
  {
    "objectID": "slides/f24/01-hello.html#theres-a-lot-of-work-and-coding-in-this-class",
    "href": "slides/f24/01-hello.html#theres-a-lot-of-work-and-coding-in-this-class",
    "title": "Hello",
    "section": "Thereâ€™s a lot of work (and coding) in this class",
    "text": "Thereâ€™s a lot of work (and coding) in this class\n\n\n\nI warned you!\nAnyone can do it, yes â€œevenâ€ you\nyou will be surprised at what you can do by the end\nBut you have to try your best\nIf this doesnâ€™t work for you, take another class"
  },
  {
    "objectID": "slides/f24/01-hello.html#inspiration",
    "href": "slides/f24/01-hello.html#inspiration",
    "title": "Hello",
    "section": "Inspiration",
    "text": "Inspiration\n\nItâ€™s easy when you start out programming to get really frustrated and think, â€œOh itâ€™s me, Iâ€™m really stupid,â€ or, â€œIâ€™m not made out to program.â€ But, that is absolutely not the case. Everyone gets frustrated. I still get frustrated occasionally when writing R code. Itâ€™s just a natural part of programming. So, it happens to everyone and gets less and less over time. Donâ€™t blame yourself. Just take a break, do something fun, and then come back and try again later.\n\nHadley Wickham, Chief Data Scientist at RStudio"
  },
  {
    "objectID": "slides/f24/01-hello.html#for-the-love-of-all-that-is-good",
    "href": "slides/f24/01-hello.html#for-the-love-of-all-that-is-good",
    "title": "Hello",
    "section": "For the love of all that is good",
    "text": "For the love of all that is good\n\nDo the weekly check-ins; they are free points\n\n\nGo to section, ask for help on Slack\n\n\nDo not miss homeworks in this class\n\n\nMissing one = leaving a big chunk of your final exam blank\n\n\nI want students who are working hard to do well, but I canâ€™t save you ğŸ¶"
  },
  {
    "objectID": "slides/f24/01-hello.html#grew-up-in-cali-colombia",
    "href": "slides/f24/01-hello.html#grew-up-in-cali-colombia",
    "title": "Hello",
    "section": "Grew up in Cali, Colombiaâ€¦",
    "text": "Grew up in Cali, Colombiaâ€¦"
  },
  {
    "objectID": "slides/f24/01-hello.html#and-ft.-lauderdale",
    "href": "slides/f24/01-hello.html#and-ft.-lauderdale",
    "title": "Hello",
    "section": "â€¦and Ft. Lauderdale",
    "text": "â€¦and Ft. Lauderdale\nWent to UF (go gata)â€¦"
  },
  {
    "objectID": "slides/f24/01-hello.html#north-carolina",
    "href": "slides/f24/01-hello.html#north-carolina",
    "title": "Hello",
    "section": "North Carolina",
    "text": "North Carolina\n\n\nPhD at Duke University in Durham, NCâ€¦\nI specialize in political violence, development, and Latin America"
  },
  {
    "objectID": "slides/f24/01-hello.html#south-carolina",
    "href": "slides/f24/01-hello.html#south-carolina",
    "title": "Hello",
    "section": "South Carolina",
    "text": "South Carolina"
  },
  {
    "objectID": "slides/f24/01-hello.html#the-baby",
    "href": "slides/f24/01-hello.html#the-baby",
    "title": "Hello",
    "section": "â€¦The baby",
    "text": "â€¦The baby\n\n\nDue: 10/4 (any day now)\n1st Birthday on 10/6\n2nd Birthday on 10/6"
  },
  {
    "objectID": "slides/f24/01-hello.html#what-year-are-you",
    "href": "slides/f24/01-hello.html#what-year-are-you",
    "title": "Hello",
    "section": "What year are you?",
    "text": "What year are you?"
  },
  {
    "objectID": "slides/f24/01-hello.html#where-are-you-from",
    "href": "slides/f24/01-hello.html#where-are-you-from",
    "title": "Hello",
    "section": "Where are you from?",
    "text": "Where are you from?\n\n\n\n\n\n\naptos, california\n\n\nelk grove, california\n\n\n(fairfield, california)\n\n\nSacramento\n\n\nelk grove, california\n\n\nPorterville, California\n\n\nDowney,Ca\n\n\nsanta bÃ¡rbara, california\n\n\nNew Delhi, India\n\n\nboston, massachusetts\n\n\nmoorpark, california\n\n\nLos Angeles\n\n\nSacramento, CA\n\n\nSan Jose\n\n\nsacramento, california\n\n\nLos Gatos, California\n\n\nsan mateo, california\n\n\npinole, ca\n\n\nSan Jose, California.\n\n\nSanta Rosa, California\n\n\nsan luis obispo ca\n\n\nShangrao,China\n\n\nTulare County\n\n\nstockton, CA\n\n\nimperial, california\n\n\nsan jose, california\n\n\nsan mateo, california\n\n\nChina\n\n\nPortland, Oregon\n\n\nvallejo, California"
  },
  {
    "objectID": "slides/f24/01-hello.html#everyones-in-the-same-boat",
    "href": "slides/f24/01-hello.html#everyones-in-the-same-boat",
    "title": "Hello",
    "section": "Everyoneâ€™s in the same boat",
    "text": "Everyoneâ€™s in the same boat"
  },
  {
    "objectID": "slides/f24/01-hello.html#lots-of-cool-stuff",
    "href": "slides/f24/01-hello.html#lots-of-cool-stuff",
    "title": "Hello",
    "section": "Lots of cool stuff",
    "text": "Lots of cool stuff\n\n\n\n\n\n\n\n\nSomething cool about you?\n\n\n\n\ni know portuguese\n\n\nI am learning to speak nahuatl.\n\n\nIâ€™m the first of my family to go to a 4-year university.\n\n\nI work hard\n\n\nI know nothing about coding\n\n\nHomeowner at the age of 25\n\n\nI did research on the synthesis of histone deacetylases inhbitors for cancer treatment this summer\n\n\nI once read a 700 page book in 4 days.\n\n\nI like basketball a lot.\n\n\nI have the same initials as FDR.\n\n\nIâ€™m a classically trained cellist.\n\n\nI broke my leg because my brother pushed me down the stairs with a nerf gun.\n\n\nI ran a politics club in high school where we gave people free soup for participating\n\n\nIâ€™m a second degree black belt and was an instructor at my dojo for four years.\n\n\nI can recite the alphabet backwards from memory!\n\n\nI have a black belt in karate\n\n\nI used to upcycle thrifted clothing\n\n\nI have been in choir since high school because I like to sing.\n\n\nIâ€™ve been to every asian country\n\n\nI have Spanish roots in my family tree\n\n\ni can juggle\n\n\nI can wiggle my ears on their own\n\n\nAll my clothes are thrifted.\n\n\nI know every line of The Muppets movie (2011).\n\n\nI love to sport climb outdoors\n\n\nI like to paint.\n\n\nI was born on Valentineâ€™s Day and love rock!\n\n\nI am an avid reader\n\n\nI enjoy collecting house plants as a hobby.\n\n\nI have to retake this class"
  },
  {
    "objectID": "slides/f24/01-hello.html#complete-opposite-doubt-it",
    "href": "slides/f24/01-hello.html#complete-opposite-doubt-it",
    "title": "Hello",
    "section": "Complete opposite? Doubt it",
    "text": "Complete opposite? Doubt it\nMost common answer: MOTHER"
  },
  {
    "objectID": "slides/f24/01-hello.html#divided-on-euthanasia",
    "href": "slides/f24/01-hello.html#divided-on-euthanasia",
    "title": "Hello",
    "section": "Divided on euthanasia",
    "text": "Divided on euthanasia"
  },
  {
    "objectID": "slides/f24/01-hello.html#one-shot-one-opportunity",
    "href": "slides/f24/01-hello.html#one-shot-one-opportunity",
    "title": "Hello",
    "section": "One shot, one opportunity",
    "text": "One shot, one opportunity\nIf you had one shot or one opportunity to seize everything you ever wanted in one moment. Would you capture it or just let it slip?"
  },
  {
    "objectID": "slides/f24/01-hello.html#apples",
    "href": "slides/f24/01-hello.html#apples",
    "title": "Hello",
    "section": "Apples",
    "text": "Apples\nif you heard â€œJoe ate nearly two dozen applesâ€, what would the lower bound on that expression entail?"
  },
  {
    "objectID": "slides/f24/01-hello.html#best-number",
    "href": "slides/f24/01-hello.html#best-number",
    "title": "Hello",
    "section": "Best number?",
    "text": "Best number?"
  },
  {
    "objectID": "slides/f24/01-hello.html#worst-number",
    "href": "slides/f24/01-hello.html#worst-number",
    "title": "Hello",
    "section": "Worst number?",
    "text": "Worst number?"
  },
  {
    "objectID": "slides/f24/01-hello.html#will-we-make-enough",
    "href": "slides/f24/01-hello.html#will-we-make-enough",
    "title": "Hello",
    "section": "Will we make enough?",
    "text": "Will we make enough?"
  },
  {
    "objectID": "slides/f24/01-hello.html#what-is-hair-metal",
    "href": "slides/f24/01-hello.html#what-is-hair-metal",
    "title": "Hello",
    "section": "What is hair metal?",
    "text": "What is hair metal?"
  },
  {
    "objectID": "slides/f24/01-hello.html#guns-and-roses",
    "href": "slides/f24/01-hello.html#guns-and-roses",
    "title": "Hello",
    "section": "Guns and Roses",
    "text": "Guns and Roses"
  },
  {
    "objectID": "slides/f24/01-hello.html#trash-in-someone-elses-can",
    "href": "slides/f24/01-hello.html#trash-in-someone-elses-can",
    "title": "Hello",
    "section": "Trash in someone elseâ€™s can?",
    "text": "Trash in someone elseâ€™s can?"
  },
  {
    "objectID": "slides/f24/01-hello.html#aliens",
    "href": "slides/f24/01-hello.html#aliens",
    "title": "Hello",
    "section": "Aliens",
    "text": "Aliens\nIf you saw aliens and were fairly sure of what you saw but couldnâ€™t prove it, would you tell people or keep it secret?"
  },
  {
    "objectID": "slides/f24/01-hello.html#weak-tv-consensus-riverdale",
    "href": "slides/f24/01-hello.html#weak-tv-consensus-riverdale",
    "title": "Hello",
    "section": "weak TV consensus: Riverdale",
    "text": "weak TV consensus: Riverdale"
  },
  {
    "objectID": "slides/f24/01-hello.html#but-im-a-creep",
    "href": "slides/f24/01-hello.html#but-im-a-creep",
    "title": "Hello",
    "section": "But iâ€™m a creepâ€¦",
    "text": "But iâ€™m a creepâ€¦"
  },
  {
    "objectID": "example/02-example.html#presidential-elections-code-through",
    "href": "example/02-example.html#presidential-elections-code-through",
    "title": "Data visualization",
    "section": "",
    "text": "Weâ€™re working with elections_historic from the {socviz} package. This code loads {socviz}, {tidyverse} (where ggplot() lives) and the dataset:\n\nlibrary(tidyverse)\nlibrary(socviz)\nelections_historic\n\n# A tibble: 49 Ã— 19\n   election  year winner      win_party ec_pct popular_pct popular_margin  votes\n      &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;          &lt;dbl&gt;  &lt;int&gt;\n 1       10  1824 John Quincâ€¦ D.-R.      0.322       0.309        -0.104  1.13e5\n 2       11  1828 Andrew Jacâ€¦ Dem.       0.682       0.559         0.122  6.43e5\n 3       12  1832 Andrew Jacâ€¦ Dem.       0.766       0.547         0.178  7.03e5\n 4       13  1836 Martin Vanâ€¦ Dem.       0.578       0.508         0.142  7.63e5\n 5       14  1840 William Heâ€¦ Whig       0.796       0.529         0.0605 1.28e6\n 6       15  1844 James Polk  Dem.       0.618       0.495         0.0145 1.34e6\n 7       16  1848 Zachary Taâ€¦ Whig       0.562       0.473         0.0479 1.36e6\n 8       17  1852 Franklin Pâ€¦ Dem.       0.858       0.508         0.0695 1.61e6\n 9       18  1856 James Buchâ€¦ Dem.       0.588       0.453         0.122  1.84e6\n10       19  1860 Abraham Liâ€¦ Rep.       0.594       0.396         0.101  1.86e6\n# â„¹ 39 more rows\n# â„¹ 11 more variables: margin &lt;int&gt;, runner_up &lt;chr&gt;, ru_part &lt;chr&gt;,\n#   turnout_pct &lt;dbl&gt;, winner_lname &lt;chr&gt;, winner_label &lt;chr&gt;, ru_lname &lt;chr&gt;,\n#   ru_label &lt;chr&gt;, two_term &lt;lgl&gt;, ec_votes &lt;dbl&gt;, ec_denom &lt;dbl&gt;\n\n\nWe start with ggplot():\n\nggplot()\n\n\n\n\n\n\n\n\nTell it what data we are plotting:\n\nggplot(data = elections_historic)\n\n\n\n\n\n\n\n\nMap the x and y-axis within aes():\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct))\n\n\n\n\n\n\n\n\nAdd a point geometry:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct)) + geom_point()\n\n\n\n\n\n\n\n\nGo back and map color and shape aesthetics:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term)) + geom_point()\n\n\n\n\n\n\n\n\nAdd labels by mapping the label aesthetic and adding a geom_text geometry:\n\nggplot(data = elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term,\n                               label = winner_label)) +\n  geom_point() +\n  geom_text()\n\n\n\n\n\n\n\n\nHereâ€™s the final code, all put together, changing the axis titles using labs():\n\n# load libraries\nlibrary(tidyverse)\nlibrary(socviz)\n\n# make plot\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct, color = win_party,\n                               shape = two_term, label = winner_label)) +\n  geom_point() + geom_text() + labs(x = \"Percent of popular vote\",\n                                    y = \"Percent of Electoral College vote\",\n                                    title = \"Presidential Elections (1824-2016)\",\n                                    color = NULL, size = NULL)\n\n\n\n\n\n\n\n\n\n\nHereâ€™s some other stuff Iâ€™m adding to make this graph better (that youâ€™re not responsible for):\n\n# load libraries\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(ggrepel)\n\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct,\n                               color = win_party, shape = two_term,\n                               label = winner_label)) +\n  geom_point() +\n  geom_text_repel() +\n  labs(x = \"Percent of popular vote\",\n                                    y = \"Percent of Electoral College vote\",\n                                    title = \"Presidential Elections (1824-2016)\",\n                                    color = NULL, size = NULL) +\n  scale_y_continuous(labels = scales::percent) +\n  scale_x_continuous(labels = scales::percent) +\n  scale_color_manual(values = c(yellow, red, blue, \"gray\")) +\n  geom_hline(yintercept = 0.5, size = 1.4, color = \"gray80\") +\n    geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +  theme(legend.position = \"none\")"
  },
  {
    "objectID": "slides/f24/02-viz.html#the-presidents-.visibilityhidden",
    "href": "slides/f24/02-viz.html#the-presidents-.visibilityhidden",
    "title": "Data visualization I",
    "section": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸ {.visibility=â€œhiddenâ€}",
    "text": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸ {.visibility=â€œhiddenâ€}\n\n\n\nSample of presidential elections\n\n\nyear\nwinner\nwin_party\nec_pct\npopular_pct\ntwo_term\n\n\n\n\n1824\nJohn Quincy Adams\nD.-R.\n0.32\n0.31\nFALSE\n\n\n1828\nAndrew Jackson\nDem.\n0.68\n0.56\nTRUE\n\n\n1832\nAndrew Jackson\nDem.\n0.77\n0.55\nTRUE\n\n\n1836\nMartin Van Buren\nDem.\n0.58\n0.51\nFALSE"
  },
  {
    "objectID": "slides/f24/02-viz.html#your-turn-.visibilityhidden",
    "href": "slides/f24/02-viz.html#your-turn-.visibilityhidden",
    "title": "Data visualization I",
    "section": "ğŸš¨ Your turn ğŸš¨ {.visibility=â€œhiddenâ€}",
    "text": "ğŸš¨ Your turn ğŸš¨ {.visibility=â€œhiddenâ€}\n\nMake a plot of presidential election results using the elections_historic dataset\n% of popular vote (x-axis, popular_pct) and % of electoral college vote (y-axis, ec_pct)\nmap the winnerâ€™s party to the color aesthetic, whether or not president served two terms to shape, and add labels to each point (use winner_label)\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/02-viz.html#us-presidents-.visibilityhidden",
    "href": "slides/f24/02-viz.html#us-presidents-.visibilityhidden",
    "title": "Data visualization I",
    "section": "US Presidents {.visibility=â€œhiddenâ€}",
    "text": "US Presidents {.visibility=â€œhiddenâ€}\n\n\nCode\n# libraries\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(ggrepel)\n\n# plot\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct, label = winner_label,\n                               color = win_party, shape = two_term, \n                               label = winner_label)) + \n  geom_hline(yintercept = 0.5, size = 1.4, color = \"gray80\") +\n  geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +\n  geom_point() +  \n  geom_text_repel() + \n  labs(x = \"Percent of popular vote\", \n       y = \"Percent of Electoral College vote\", \n       title = \"Presidential Elections: Popular & Electoral College Margins\",\n       subtitle = \"1824-2016\", color = NULL, size = NULL) + \n  scale_y_continuous(labels = scales::percent) + \n  scale_x_continuous(labels = scales::percent) + \n  scale_color_manual(values = c(yellow, red, blue, \"gray\")) + \n  theme(legend.position = \"none\") \n\n\n\nYou are not responsible for this fancy graph"
  },
  {
    "objectID": "slides/f24/02-viz.html#what-did-we-do-.visibilityhidden",
    "href": "slides/f24/02-viz.html#what-did-we-do-.visibilityhidden",
    "title": "Data visualization I",
    "section": "What did we do? {.visibility=â€œhiddenâ€}",
    "text": "What did we do? {.visibility=â€œhiddenâ€}\n\n\n\n\n\nData\nAesthetic\nGeometry\n\n\n\n\npopular_pct\nx\ngeom_point()\n\n\nec_pct\ny\ngeom_point()\n\n\nwin_party\ncolor\ngeom_point()\n\n\ntwo_term\nshape\ngeom_point()\n\n\nwinner_label\nlabel\ngeom_text()\n\n\n\n\n\n\n\nTake your data, map it onto an aesthetic, represent with a geometry"
  },
  {
    "objectID": "slides/f24/03-viz.html#what-kind-of-variable-do-i-have",
    "href": "slides/f24/03-viz.html#what-kind-of-variable-do-i-have",
    "title": "Data visualization II",
    "section": "What kind of variable do I have?",
    "text": "What kind of variable do I have?\n\n\n\n\nData from the General Social Survey\n\n\nid\nage\ndegree\nrace\nnum_kids\n\n\n\n\n1\n47\nBachelor\nWhite\n3\n\n\n2\n61\nHigh School\nWhite\n0\n\n\n3\n72\nBachelor\nWhite\n2\n\n\n4\n43\nHigh School\nWhite\n4\n\n\n5\n55\nGraduate\nWhite\n2\n\n\n\n\n\n\n\n\nContinuous variables take on lots of values (GDP, population, income, age, etc.)"
  },
  {
    "objectID": "slides/f24/03-viz.html#what-kind-of-variable-do-i-have-1",
    "href": "slides/f24/03-viz.html#what-kind-of-variable-do-i-have-1",
    "title": "Data visualization II",
    "section": "What kind of variable do I have?",
    "text": "What kind of variable do I have?\n\n\n\n\nData from the General Social Survey\n\n\nid\nage\ndegree\nrace\nnum_kids\n\n\n\n\n1\n47\nBachelor\nWhite\n3\n\n\n2\n61\nHigh School\nWhite\n0\n\n\n3\n72\nBachelor\nWhite\n2\n\n\n4\n43\nHigh School\nWhite\n4\n\n\n5\n55\nGraduate\nWhite\n2\n\n\n\n\n\n\n\n\nDiscrete or categorical variables takes on a few values, often â€œqualitativeâ€ (yes/no, 1/0, race, etc.)"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-1---the-scatterplot",
    "href": "slides/f24/03-viz.html#graph-1---the-scatterplot",
    "title": "Data visualization II",
    "section": "Graph 1 - the scatterplot",
    "text": "Graph 1 - the scatterplot\n\n\nThe scatterplot visualizes the relationship between two continuous variables\n\n\nShows every point in the data, reveals trends and outliers"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-grammar-of-scatterplots",
    "href": "slides/f24/03-viz.html#the-grammar-of-scatterplots",
    "title": "Data visualization II",
    "section": "The grammar of scatterplots",
    "text": "The grammar of scatterplots\n\n\n\n\n\n\nThe data\n\n\ngdpPercap\nlifeExp\n\n\n\n\n974.58\n43.83\n\n\n5937.03\n76.42\n\n\n6223.37\n72.30\n\n\n4797.23\n42.73\n\n\n12779.38\n75.32\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ngdpPercap\nx\ngeom_point()\n\n\nlifeExp\ny\ngeom_point()\n\n\n\n\n\n\n\n\n\n\n\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) + geom_point()\n\nTypically, we put the cause on the x-axis and the effect on the y-axis"
  },
  {
    "objectID": "slides/f24/03-viz.html#scatterplots-are-for-continuous-variables",
    "href": "slides/f24/03-viz.html#scatterplots-are-for-continuous-variables",
    "title": "Data visualization II",
    "section": "Scatterplots are for continuous variables",
    "text": "Scatterplots are for continuous variables\n\nPlot is uninformative because continent is discrete (i.e., a category)"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-presidents",
    "href": "slides/f24/03-viz.html#the-presidents",
    "title": "Data visualization II",
    "section": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸",
    "text": "ğŸ‡ºğŸ‡¸ The presidents ğŸ‡ºğŸ‡¸\n\n\n\nSample of presidential elections\n\n\nyear\nwinner\nwin_party\nec_pct\npopular_pct\ntwo_term\n\n\n\n\n1824\nJohn Quincy Adams\nD.-R.\n0.32\n0.31\nFALSE\n\n\n1828\nAndrew Jackson\nDem.\n0.68\n0.56\nTRUE\n\n\n1832\nAndrew Jackson\nDem.\n0.77\n0.55\nTRUE\n\n\n1836\nMartin Van Buren\nDem.\n0.58\n0.51\nFALSE"
  },
  {
    "objectID": "slides/f24/03-viz.html#your-turn",
    "href": "slides/f24/03-viz.html#your-turn",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸš¨\nUsing the elections_historic dataset:\n\nMake a scatterplot, with:\n\n% of popular vote (x-axis, popular_pct)\n% of electoral college vote (y-axis, ec_pct)\n\nif successful, add:\n\nwinnerâ€™s party to color aesthetic (win_party)\nwhether or not president served two terms to shape (two_term)\nadd labels to each point (winner_label)\n\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-2-the-time-series",
    "href": "slides/f24/03-viz.html#graph-2-the-time-series",
    "title": "Data visualization II",
    "section": "Graph 2: the time series",
    "text": "Graph 2: the time series\n\nThe time series uses a line to show you how a variable (y-axis) moves over time (x-axis)"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-grammar-of-time-series",
    "href": "slides/f24/03-viz.html#the-grammar-of-time-series",
    "title": "Data visualization II",
    "section": "The grammar of time series",
    "text": "The grammar of time series\n\n\n\n\n\n\nGapminder data (summarized).\n\n\nyear\navg_yrs\n\n\n\n\n1952\n49.06\n\n\n1957\n51.51\n\n\n1962\n53.61\n\n\n1967\n55.68\n\n\n1972\n57.65\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nyear\nx\ngeom_line()\n\n\navg_yrs\ny\ngeom_line()\n\n\n\n\n\n\n\n\n\n\n\nggplot(life_yr, aes(x = year, y = avg_yrs)) + geom_line()\n\nNotice the new geometry, geom_line()"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-time-series",
    "href": "slides/f24/03-viz.html#the-time-series",
    "title": "Data visualization II",
    "section": "The time series",
    "text": "The time series\n\nggplot(life_yr, aes(x = year, y = avg_yrs)) + geom_line()"
  },
  {
    "objectID": "slides/f24/03-viz.html#your-turn-recession",
    "href": "slides/f24/03-viz.html#your-turn-recession",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: ğŸ’¸RecessionğŸ’¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’¸RecessionğŸ’¸ ğŸš¨\nUsing the economics dataset:\n\nMake a time series, with:\n\ndate on the x-axis (date)\nunemployment rate on the y-axis (unemploy)\n\nCan you identify the recessions?\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/03-viz.html#multiple-time-series",
    "href": "slides/f24/03-viz.html#multiple-time-series",
    "title": "Data visualization II",
    "section": "Multiple time series",
    "text": "Multiple time series\nSometimes we observe multiple units over time; how can we visualize these?\n\n\n\nGapminder dataset (sample of countries).\n\n\ncountry\ncontinent\nyear\nlifeExp\npop\ngdpPercap\n\n\n\n\nBolivia\nAmericas\n1952\n40\n2883315\n2677\n\n\nBolivia\nAmericas\n1957\n42\n3211738\n2128\n\n\nChina\nAsia\n1952\n44\n556263527\n400\n\n\nChina\nAsia\n1957\n51\n637408000\n576\n\n\nDenmark\nEurope\n1952\n71\n4334000\n9692\n\n\nDenmark\nEurope\n1957\n72\n4487831\n11100"
  },
  {
    "objectID": "slides/f24/03-viz.html#start-from-scratch",
    "href": "slides/f24/03-viz.html#start-from-scratch",
    "title": "Data visualization II",
    "section": "Start from scratch",
    "text": "Start from scratch\n\nggplot(data = gapminder_sample)"
  },
  {
    "objectID": "slides/f24/03-viz.html#add-aesthetics",
    "href": "slides/f24/03-viz.html#add-aesthetics",
    "title": "Data visualization II",
    "section": "Add aesthetics",
    "text": "Add aesthetics\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp))"
  },
  {
    "objectID": "slides/f24/03-viz.html#add-geometry",
    "href": "slides/f24/03-viz.html#add-geometry",
    "title": "Data visualization II",
    "section": "Add geometry: ğŸ¤¢",
    "text": "Add geometry: ğŸ¤¢\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp)) + geom_line()"
  },
  {
    "objectID": "slides/f24/03-viz.html#using-color-to-separate-lines",
    "href": "slides/f24/03-viz.html#using-color-to-separate-lines",
    "title": "Data visualization II",
    "section": "using color to separate lines",
    "text": "using color to separate lines\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp, color = country)) + geom_line()"
  },
  {
    "objectID": "slides/f24/03-viz.html#multiple-time-series-1",
    "href": "slides/f24/03-viz.html#multiple-time-series-1",
    "title": "Data visualization II",
    "section": "Multiple time series",
    "text": "Multiple time series\n\nggplot(data = gapminder_sample, aes(x = year, y = lifeExp, color = country)) + geom_line()\n\n\nThese are useful for comparing trends across units (countries, places, people, etc)"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-3-the-histogram",
    "href": "slides/f24/03-viz.html#graph-3-the-histogram",
    "title": "Data visualization II",
    "section": "Graph 3: the histogram",
    "text": "Graph 3: the histogram\n\nA histogram shows you how a continuous variable is distributed"
  },
  {
    "objectID": "slides/f24/03-viz.html#interpreting-histograms",
    "href": "slides/f24/03-viz.html#interpreting-histograms",
    "title": "Data visualization II",
    "section": "Interpreting histograms",
    "text": "Interpreting histograms\n\n\nWhat do we see here?"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-grammar-of-histograms",
    "href": "slides/f24/03-viz.html#the-grammar-of-histograms",
    "title": "Data visualization II",
    "section": "The grammar of histograms",
    "text": "The grammar of histograms\n\n\n\n\n\n\nThe data\n\n\nlifeExp\n\n\n\n\n43.83\n\n\n76.42\n\n\n72.30\n\n\n42.73\n\n\n75.32\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\nlifeExp\nx\ngeom_histogram()\n\n\n\n\n\n\n\n\n\n\n\nggplot(gap_07, aes(x = lifeExp)) + geom_histogram()\n\nNotice the new geometry, geom_histogram(); and that a histogram only uses the x-axis!"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-histogram",
    "href": "slides/f24/03-viz.html#the-histogram",
    "title": "Data visualization II",
    "section": "The histogram",
    "text": "The histogram\n\nggplot(gap_07, aes(x = lifeExp)) + geom_histogram()"
  },
  {
    "objectID": "slides/f24/03-viz.html#your-turn-organs",
    "href": "slides/f24/03-viz.html#your-turn-organs",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨",
    "text": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨\n\n\nIn some countries, when you die it is assumed you want to donate your organs\n\nTo not donate, you have to opt out\nIn other countries, when you die it is assumed you do not want to donate your organs\nTo not donate, you have to opt in\n\n\n\n\n\n\nSample from organdata\n\n\ncountry\ndonors\nopt\n\n\n\n\nSpain\n31.5\nOut\n\n\nUnited States\n20.1\nIn\n\n\nItaly\n11.6\nIn\n\n\nFinland\n17.1\nNA\n\n\nSpain\n21.7\nOut"
  },
  {
    "objectID": "slides/f24/03-viz.html#your-turn-organs-1",
    "href": "slides/f24/03-viz.html#your-turn-organs-1",
    "title": "Data visualization II",
    "section": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨",
    "text": "ğŸš¨ Your turn: organs ğŸ«ğŸ§  ğŸš¨\nUsing the organdata dataset:\n\nMake a histogram of countryâ€™s organ donation rate (donors)\nThen set the fill aesthetic to opt, whether donors have to opt in or opt out of donating. How does the graph change?\n\n\n\n\nâˆ’+\n05:00"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-4-the-barplot",
    "href": "slides/f24/03-viz.html#graph-4-the-barplot",
    "title": "Data visualization II",
    "section": "Graph 4: the barplot",
    "text": "Graph 4: the barplot\n\n\nBarplots place a category (place, country, person, etc) on one axis and a quantity (amount, average, median, etc.) on another\n\n\nUseful for making comparisons, highlighting differences\n\nWhy would there be differences across TV consumption?"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-grammar-of-barplots",
    "href": "slides/f24/03-viz.html#the-grammar-of-barplots",
    "title": "Data visualization II",
    "section": "The grammar of barplots",
    "text": "The grammar of barplots\n\n\n\n\n\n\nThe data\n\n\nmarital\ntv\n\n\n\n\nNo answer\n2.56\n\n\nNever married\n3.11\n\n\nSeparated\n3.55\n\n\nDivorced\n3.09\n\n\nWidowed\n3.91\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ntv\nx\ngeom_col()\n\n\nmarital\ny\ngeom_col()\n\n\n\n\n\n\n\n\n\n\n\nggplot(tv, aes(y = marital, x = tv)) + geom_col()"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-barplot",
    "href": "slides/f24/03-viz.html#the-barplot",
    "title": "Data visualization II",
    "section": "The barplot",
    "text": "The barplot\n\nggplot(tv, aes(y = marital, x = tv)) + geom_col()"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-5-the-boxplot",
    "href": "slides/f24/03-viz.html#graph-5-the-boxplot",
    "title": "Data visualization II",
    "section": "Graph 5: the boxplot",
    "text": "Graph 5: the boxplot\n\n\nBoxplots compare distributions of continuous variables across groups\n\nthey show us more than the barplot which only gives us a quantity for each group"
  },
  {
    "objectID": "slides/f24/03-viz.html#compare-distributions-the-boxplot",
    "href": "slides/f24/03-viz.html#compare-distributions-the-boxplot",
    "title": "Data visualization II",
    "section": "Compare distributions: the boxplot",
    "text": "Compare distributions: the boxplot\n\n\nBoxplots contain a lot of info ğŸ¥µ:\n\nbold line is the median observation\nbox is the middle 50% of observations\nthin lines show you min and max value, exceptâ€¦\nthe dots, which are outlier observations\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ninterpret"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-grammar-of-boxplots",
    "href": "slides/f24/03-viz.html#the-grammar-of-boxplots",
    "title": "Data visualization II",
    "section": "The grammar of boxplots",
    "text": "The grammar of boxplots\n\n\n\n\n\n\nThe data\n\n\ncontinent\nlifeExp\n\n\n\n\nAsia\n43.83\n\n\nEurope\n76.42\n\n\nAfrica\n72.30\n\n\nAfrica\n42.73\n\n\nAmericas\n75.32\n\n\n\n\n\n\n\n\n\n\n\nMapping the data\n\n\nData\nAesthetic\nGeometry\n\n\n\n\ncontient\ny\ngeom_boxplot()\n\n\nlifeExp\nx\ngeom_boxplot()\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder, aes(y = continent, x = lifeExp)) + geom_boxplot()"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-boxplot",
    "href": "slides/f24/03-viz.html#the-boxplot",
    "title": "Data visualization II",
    "section": "The boxplot",
    "text": "The boxplot\n\nggplot(gapminder, aes(y = continent, x = lifeExp)) + geom_boxplot()"
  },
  {
    "objectID": "slides/f24/03-viz.html#the-five-ish-graphs",
    "href": "slides/f24/03-viz.html#the-five-ish-graphs",
    "title": "Data visualization II",
    "section": "The five(-ish) graphs",
    "text": "The five(-ish) graphs\n\n\n\n\n\n\nGraph\naes()\ngeom_\nPurpose\n\n\n\n\nScatterplot\nx = cause, y = effect\npoint()\nRelationships\n\n\nTime series\nx = date, y = variable\nline()\nTrends\n\n\nHistogram\nx = cont. variable\nhistogram()\nDistributions\n\n\nBarplot\ny = category, x = quantity\ncol()\nCompare amounts\n\n\nBoxplot\ny = category, x = cont. variable\nboxplot()\nCompare distributions\n\n\n\n\n\n\n\n\n\nKnow how and when to use which!"
  },
  {
    "objectID": "slides/f24/03-viz.html#showing-movement-using-panels",
    "href": "slides/f24/03-viz.html#showing-movement-using-panels",
    "title": "Data visualization II",
    "section": "Showing â€œmovementâ€ using panels",
    "text": "Showing â€œmovementâ€ using panels\n\n\nWe can use panels to show movement of a variable across time, space, etc.\n\nWhat is this graph showing us?"
  },
  {
    "objectID": "slides/f24/03-viz.html#using-facet_wrap",
    "href": "slides/f24/03-viz.html#using-facet_wrap",
    "title": "Data visualization II",
    "section": "Using facet_wrap",
    "text": "Using facet_wrap\n\nggplot(gapminder, aes(x = lifeExp)) + geom_histogram()\n\n\nDistribution of life expectancy across all countries and years"
  },
  {
    "objectID": "slides/f24/03-viz.html#using-facet_wrap-1",
    "href": "slides/f24/03-viz.html#using-facet_wrap-1",
    "title": "Data visualization II",
    "section": "Using facet_wrap",
    "text": "Using facet_wrap\n\nggplot(gapminder, aes(x = lifeExp)) + geom_histogram() + \n  facet_wrap(vars(year)) \n\n\nDistribution of life expectancy across all countries by year\n\n\n\n\n\n\nNote\n\n\nMake sure the facetting variable is wrapped in vars()!"
  },
  {
    "objectID": "slides/f24/03-viz.html#make-aesthetics-static",
    "href": "slides/f24/03-viz.html#make-aesthetics-static",
    "title": "Data visualization II",
    "section": "Make aesthetics static",
    "text": "Make aesthetics static\n\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) + \n  geom_point(size = 4, color = \"orange\", shape = 2) \n\n\nTake your aesthetics out of aes() and into geom() to make them static"
  },
  {
    "objectID": "slides/f24/03-viz.html#ridge-plots-better-than-grouped-histograms",
    "href": "slides/f24/03-viz.html#ridge-plots-better-than-grouped-histograms",
    "title": "Data visualization II",
    "section": "Ridge plots (better than grouped histograms)",
    "text": "Ridge plots (better than grouped histograms)\n\nlibrary(ggridges)\nggplot(gapminder, aes(y = continent, x = lifeExp)) + geom_density_ridges() \n\n\nEase visual comparison + kinda looks like the Joy Division album"
  },
  {
    "objectID": "slides/f24/03-viz.html#beeswarm-plots-alternative-boxplots",
    "href": "slides/f24/03-viz.html#beeswarm-plots-alternative-boxplots",
    "title": "Data visualization II",
    "section": "Beeswarm plots (alternative boxplots)",
    "text": "Beeswarm plots (alternative boxplots)\n\nlibrary(ggbeeswarm)\nggplot(gapminder, aes(y = continent, x = lifeExp)) +  geom_quasirandom() \n\n\nBeeswarm plots tell us something boxplots donâ€™t: the number observations by group; used recently by the NYT"
  },
  {
    "objectID": "slides/f24/03-viz.html#use-different-color-and-fill-scales",
    "href": "slides/f24/03-viz.html#use-different-color-and-fill-scales",
    "title": "Data visualization II",
    "section": "Use different color and fill scales",
    "text": "Use different color and fill scales\n\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + scale_fill_brewer(palette = \"Blues\")\n\n\nscale_fill_brewer() for fill, which we use for columns, histograms, 2D stuff"
  },
  {
    "objectID": "slides/f24/03-viz.html#my-favorite-scale-right-now",
    "href": "slides/f24/03-viz.html#my-favorite-scale-right-now",
    "title": "Data visualization II",
    "section": "My favorite scale (right now)",
    "text": "My favorite scale (right now)\n\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + scale_fill_viridis_d(option = \"magma\")\n\n\nscale_fill_viridis_d for discrete variables, scale_fill_viridis_d for continuous"
  },
  {
    "objectID": "slides/f24/03-viz.html#many-other-themes",
    "href": "slides/f24/03-viz.html#many-other-themes",
    "title": "Data visualization II",
    "section": "Many other themes",
    "text": "Many other themes\n\ntheme_spongeBob() from tvthemes package, many more online"
  },
  {
    "objectID": "slides/f24/03-viz.html#coding-challenge",
    "href": "slides/f24/03-viz.html#coding-challenge",
    "title": "Data visualization II",
    "section": "ğŸ”¥ Coding challenge ğŸ”¥",
    "text": "ğŸ”¥ Coding challenge ğŸ”¥\nRight now you probably canâ€™t make a nice graph, so:\n\nMake the ugliest graph you can\nPost it on Slack\nWinner will get a shockingly small amount of extra credit\n\n\n\n\nâˆ’+\n20:00"
  },
  {
    "objectID": "slides/f24/03-viz.html#customize-geometries",
    "href": "slides/f24/03-viz.html#customize-geometries",
    "title": "Data visualization II",
    "section": "Customize geometries",
    "text": "Customize geometries\n\nggplot(gap_07, aes(x = gdpPercap, y = lifeExp)) + geom_point(size = 4, color = \"orange\",\n    shape = 2)\n\n\nChange your geometries by adding arguments to geom_*(), like size, shape, color, etc."
  },
  {
    "objectID": "slides/f24/03-viz.html#use-different-color-and-fill-scales-1",
    "href": "slides/f24/03-viz.html#use-different-color-and-fill-scales-1",
    "title": "Data visualization II",
    "section": "Use different color and fill scales",
    "text": "Use different color and fill scales\n\nggplot(gapminder, aes(x = gdpPercap, y = lifeExp, color = continent)) + geom_point() +\n    scale_color_brewer(palette = \"Dark2\")\n\n\nscale_color_brewer() for color, which we use for points, lines, less than 2D stuff"
  },
  {
    "objectID": "slides/f24/03-viz.html#add-themes",
    "href": "slides/f24/03-viz.html#add-themes",
    "title": "Data visualization II",
    "section": "Add themes",
    "text": "Add themes\n\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + theme_dark()\n\n\nPreset themes in tidyverse include theme_dark(), theme_light(), theme_minimal(), theme_void()"
  },
  {
    "objectID": "slides/f24/03-viz.html#many-other-custom-themes",
    "href": "slides/f24/03-viz.html#many-other-custom-themes",
    "title": "Data visualization II",
    "section": "Many other custom themes",
    "text": "Many other custom themes\n\nlibrary(tvthemes)\nggplot(gapminder, aes(x = lifeExp, fill = continent)) + geom_histogram() + theme_spongeBob() +\n    scale_fill_spongeBob() + labs(title = \"So ugly\")\n\n\ntheme_spongeBob() from tvthemes package, many more online"
  },
  {
    "objectID": "slides/f24/03-viz.html#graph-1-the-scatterplot",
    "href": "slides/f24/03-viz.html#graph-1-the-scatterplot",
    "title": "Data visualization II",
    "section": "Graph 1: the scatterplot",
    "text": "Graph 1: the scatterplot\n\n\nThe scatterplot visualizes the relationship between two continuous variables\n\n\nShows every point in the data, reveals trends and outliers"
  },
  {
    "objectID": "slides/f24/03-viz.html#us-presidents",
    "href": "slides/f24/03-viz.html#us-presidents",
    "title": "Data visualization II",
    "section": "US Presidents",
    "text": "US Presidents\n\n\nCode\n# libraries\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(ggrepel)\n\n# plot\nggplot(elections_historic, aes(x = popular_pct, y = ec_pct, label = winner_label,\n    color = win_party, shape = two_term, label = winner_label)) + geom_hline(yintercept = 0.5,\n    size = 1.4, color = \"gray80\") + geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +\n    geom_point() + geom_text_repel() + labs(x = \"Percent of popular vote\", y = \"Percent of Electoral College vote\",\n    title = \"Presidential Elections: Popular & Electoral College Margins\", subtitle = \"1824-2016\",\n    color = NULL, size = NULL) + scale_y_continuous(labels = scales::percent) + scale_x_continuous(labels = scales::percent) +\n    scale_color_manual(values = c(yellow, red, blue, \"gray\")) + theme(legend.position = \"none\")"
  },
  {
    "objectID": "slides/f24/03-viz.html#what-we-want",
    "href": "slides/f24/03-viz.html#what-we-want",
    "title": "Data visualization II",
    "section": "What we want:",
    "text": "What we want:"
  },
  {
    "objectID": "slides/f24/03-viz.html#why",
    "href": "slides/f24/03-viz.html#why",
    "title": "Data visualization II",
    "section": "Why?",
    "text": "Why?\n\nIn each year we have multiple points (because multiple countries), ggplot() tries to connect them all"
  },
  {
    "objectID": "example/02-example.html#recessions",
    "href": "example/02-example.html#recessions",
    "title": "Data visualization",
    "section": "",
    "text": "The recession graph from class:\n\nggplot(data = economics, aes(x = date, y = unemploy)) +\n  geom_line()"
  },
  {
    "objectID": "example/02-example.html#organs",
    "href": "example/02-example.html#organs",
    "title": "Data visualization",
    "section": "",
    "text": "The organ data plot:\n\nggplot(data = organdata, aes(x = donors, fill = opt)) +\n  geom_histogram()"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#what-is-data-wrangling",
    "href": "slides/f24/04-wrangle.html#what-is-data-wrangling",
    "title": "Data wrangling I",
    "section": "What is data-wrangling?",
    "text": "What is data-wrangling?\n\n\nâ€¦the process of transforming and mapping data from one â€œrawâ€ data form into another format with the intent of making it more appropriate and valuable for a variety of downstream purposes such as analyticsâ€¦ Data analysts typically spend the majority of their time in the process of data wrangling compared to the actual analysis of the data. â€“ Wikipedia\n\n\n\nMost of your time working with data will be spent wrangling it into a usable form for analysis"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#pipes-connecting-data-to-functions",
    "href": "slides/f24/04-wrangle.html#pipes-connecting-data-to-functions",
    "title": "Data wrangling I",
    "section": "Pipes: connecting data to functions",
    "text": "Pipes: connecting data to functions\n\nchange_africa = gapminder |&gt;\n    # only Africa\nfilter(continent == \"Africa\") |&gt;\n    # select down to the columns we need\nselect(country, year, lifeExp) |&gt;\n    # keep first and last year only\nfilter(year == min(year) | year == max(year)) |&gt;\n    # pivot wider so years on columns\npivot_wider(id_cols = country, names_from = year, values_from = lifeExp) |&gt;\n    # change from 52 to 07\nmutate(difference = `2007` - `1952`) |&gt;\n    arrange(desc(difference))\n\nYouâ€™ve seen these beforeâ€¦"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#what-are-pipes",
    "href": "slides/f24/04-wrangle.html#what-are-pipes",
    "title": "Data wrangling I",
    "section": "What are pipes?",
    "text": "What are pipes?\n\n\n\nPipes link data to functions\nThey look like this %&gt;%, or |&gt;\nDefinitely use keyboard shortcuts\n\nOSX: Cmd + Shift + M\nWindows: Ctrl + Shift + M"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#why-pipes",
    "href": "slides/f24/04-wrangle.html#why-pipes",
    "title": "Data wrangling I",
    "section": "Why pipes?",
    "text": "Why pipes?\n\nWith pipes: ğŸ˜\n\npenguins %&gt;%\n    filter(species == \"Adelie\") %&gt;%\n    mutate(body_mass_kg = body_mass_g/1000) %&gt;%\n    select(body_mass_kg)\n\n\n\nWithout pipes: ğŸ¤¢\n\nselect(mutate(filter(penguins, species == \"Adelie\"), body_mass_kg = body_mass_g/1000),\n    body_mass_kg)\n\n\n\n\nBoth produce the same output, but pipes make code more legible"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#making-sense-of-pipes-and-then",
    "href": "slides/f24/04-wrangle.html#making-sense-of-pipes-and-then",
    "title": "Data wrangling I",
    "section": "Making sense of pipes: â€œand thenâ€¦â€",
    "text": "Making sense of pipes: â€œand thenâ€¦â€\n\nchange_africa = gapminder |&gt;\n    # only Africa\nfilter(continent == \"Africa\") |&gt;\n    # select down to the columns we need\nselect(country, year, lifeExp) |&gt;\n    # keep first and last year only\nfilter(year == min(year) | year == max(year)) |&gt;\n    # pivot wider so years on columns\npivot_wider(id_cols = country, names_from = year, values_from = lifeExp) |&gt;\n    # change from 52 to 07\nmutate(difference = `2007` - `1952`) |&gt;\n    arrange(desc(difference))\n\n\nYou can read the pipe as if it said â€œand thenâ€â€¦\n\n\n\nTake the data object gapminder, AND THEN\nfilter so continent is â€œAfricaâ€, AND THEN\nselect so thatâ€¦"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#our-first-wrangling-function-filter",
    "href": "slides/f24/04-wrangle.html#our-first-wrangling-function-filter",
    "title": "Data wrangling I",
    "section": "Our first wrangling function: filter()",
    "text": "Our first wrangling function: filter()\n\nfilter() subsets data objects based on rules\n\n\n\n\n\n\n\n\n\n\n\n\nbaby_subset &lt;- babynames %&gt;%\n    filter(name == \"Angel\")\n\nSubset babynames to only babies named Angel"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#why-filter-1",
    "href": "slides/f24/04-wrangle.html#why-filter-1",
    "title": "Data wrangling I",
    "section": "Why filter?",
    "text": "Why filter?\n\nLots of real-world applications: finding flights, addresses, IDs, etc.\n\n\nSometimes we want to focus on a specific subset of data: the South, Latin America, etc.\n\n\nUseful to deal with common problems: outliers, missing data, strange responses"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#the-earned-income-tax-credit-eitc",
    "href": "slides/f24/04-wrangle.html#the-earned-income-tax-credit-eitc",
    "title": "Data wrangling I",
    "section": "The Earned Income Tax Credit (EITC)",
    "text": "The Earned Income Tax Credit (EITC)\n\n\nThird largest welfare program in the US\nOnly people who meet certain criteria receive it\nEffects of program and its design are hotly debated\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat does this graph tell us about the criteria?"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#identifying-beneficiaries",
    "href": "slides/f24/04-wrangle.html#identifying-beneficiaries",
    "title": "Data wrangling I",
    "section": "Identifying beneficiaries",
    "text": "Identifying beneficiaries\nImagine you are the IRS, and have data on all 360+ million Americans:\n\n\n\n\n\n\n\nSex\nRace\nAge\nIncome\nMarital\nChildren\n\n\n\n\nFemale\nBlack\n49\n16509\nNot married\n6\n\n\nMale\nBlack\n59\n19626\nNot married\n4\n\n\nFemale\nWhite\n79\n18997\nNot married\n4\n\n\nMale\nHispanic\n23\n9726\nMarried\n0\n\n\nMale\nHispanic\n23\n19517\nNot married\n10\n\n\nMale\nWhite\n24\n121214\nNot married\n4\n\n\nMale\nHispanic\n35\n17973\nNot married\n1\n\n\n\n\n\n\n\n\n\n\nHow could use use these variables to identify what benefits they should receive?"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#identifying-beneficiaries-1",
    "href": "slides/f24/04-wrangle.html#identifying-beneficiaries-1",
    "title": "Data wrangling I",
    "section": "Identifying beneficiaries",
    "text": "Identifying beneficiaries\nSay we wanted to identify people in the flat part of the blue line\n\n\n\n\n\n\n\n\nIncome\nMarital\nChildren\n\n\n\n\n16509.23\nNot married\n6\n\n\n19625.74\nNot married\n4\n\n\n18996.85\nNot married\n4\n\n\n9725.74\nMarried\n0\n\n\n19517.36\nNot married\n10\n\n\n121214.23\nNot married\n4\n\n\n17973.36\nNot married\n1"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#using-filter",
    "href": "slides/f24/04-wrangle.html#using-filter",
    "title": "Data wrangling I",
    "section": "Using filter()",
    "text": "Using filter()\nTo use filter(), we need to tell R which observations we want to include (or exclude) using rules\n\n\n\ngap_africa = gapminder |&gt;\n    filter(region == \"Africa\")\n\nRule: return all observations from gapminder where the region variable is equal to â€œAfricaâ€"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#making-the-rules-logical-operators",
    "href": "slides/f24/04-wrangle.html#making-the-rules-logical-operators",
    "title": "Data wrangling I",
    "section": "Making the rules: logical operators",
    "text": "Making the rules: logical operators\n\n\n\nRules filter data based on whether variables meet certain criteria\nRules rely on logical operators:\n\nEqual to, not equal to, less than, more than, included in, etc.\nObservations that meet the rule are returned; those that are not are dropped"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#the-logical-operators",
    "href": "slides/f24/04-wrangle.html#the-logical-operators",
    "title": "Data wrangling I",
    "section": "The logical operators",
    "text": "The logical operators\n\n\n\nLogical operators.\n\n\nOperator\nmeaning\n\n\n\n\n==\nequal to\n\n\n!=\nnot equal to\n\n\n&gt;\ngreater than\n\n\n&lt;\nless than\n\n\n&gt;=\ngreater than or equal to\n\n\n&lt;=\nless than or equal to\n\n\n&\nAND (both conditions true)\n\n\n|\nOR (either condition is true)\n\n\n\n\n\n\nWhy double equal sign?"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#using-filter-1",
    "href": "slides/f24/04-wrangle.html#using-filter-1",
    "title": "Data wrangling I",
    "section": "Using filter()",
    "text": "Using filter()\nSay we have some data on ğŸ\n\n\n\nData on apples.\n\n\nname\ncolor\npounds\nsweet\n\n\n\n\nFuji\nred\n2\nTRUE\n\n\nGala\ngreen\n4\nTRUE\n\n\nMacintosh\ngreen\n8\nFALSE\n\n\nGranny Smith\nred\n3\nFALSE"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#apples",
    "href": "slides/f24/04-wrangle.html#apples",
    "title": "Data wrangling I",
    "section": "Apples",
    "text": "Apples\n\napples\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\n\nNote\n\n\nThe output reports how many rows and columns our dataset has (4 rows x 4 columns)"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#green-apples",
    "href": "slides/f24/04-wrangle.html#green-apples",
    "title": "Data wrangling I",
    "section": "Green apples",
    "text": "Green apples\n\napples |&gt;\n    filter(color == \"green\")\n\n# A tibble: 2 Ã— 4\n  name      color pounds sweet\n  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala      green      4 TRUE \n2 Macintosh green      8 FALSE\n\n\n\nNotice words are in quotations!\n\n\nNotice that the number of rows has decreased: 2 x 4"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#green-and-unsweet-apples",
    "href": "slides/f24/04-wrangle.html#green-and-unsweet-apples",
    "title": "Data wrangling I",
    "section": "Green and unsweet apples",
    "text": "Green and unsweet apples\n\napples |&gt;\n    filter(color == \"green\") |&gt;\n    filter(sweet == FALSE)\n\n# A tibble: 1 Ã— 4\n  name      color pounds sweet\n  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh green      8 FALSE\n\n\nNotice TRUE/FALSE are all-caps!"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#apples-that-arent-green",
    "href": "slides/f24/04-wrangle.html#apples-that-arent-green",
    "title": "Data wrangling I",
    "section": "Apples that arenâ€™t green",
    "text": "Apples that arenâ€™t green\n\napples |&gt;\n    filter(color != \"green\")\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Granny Smith red        3 FALSE\n\n\nThe ! symbol negates: not equal to"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#at-least-4-pounds-but-less-than-6",
    "href": "slides/f24/04-wrangle.html#at-least-4-pounds-but-less-than-6",
    "title": "Data wrangling I",
    "section": "At least 4 pounds but less than 6",
    "text": "At least 4 pounds but less than 6\n\napples |&gt;\n    filter(pounds &gt;= 4, pounds &lt; 6)\n\n# A tibble: 1 Ã— 4\n  name  color pounds sweet\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala  green      4 TRUE \n\n\nNotice: at least implies greater than or equal to\n\nI could also split this up over multiple filter calls\n\napples |&gt;\n    filter(pounds &gt;= 4) |&gt;\n    filter(pounds &lt; 6)\n\n# A tibble: 1 Ã— 4\n  name  color pounds sweet\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Gala  green      4 TRUE"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#combinations-the-or-operator",
    "href": "slides/f24/04-wrangle.html#combinations-the-or-operator",
    "title": "Data wrangling I",
    "section": "Combinations: The OR (|) operator",
    "text": "Combinations: The OR (|) operator\nâ€œObservations where either this is true OR that is trueâ€\n\nApples that are red OR green\n\napples |&gt;\n    filter(color == \"red\" | color == \"green\")\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\n\nNote\n\n\nThe | should be above your Return/Enter key"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#combinations-the-and-operator",
    "href": "slides/f24/04-wrangle.html#combinations-the-and-operator",
    "title": "Data wrangling I",
    "section": "Combinations: the AND operator (&)",
    "text": "Combinations: the AND operator (&)\nThe & operator can be used to combine rules\n\nReturns observations where both rules are true\n\n\nâ€œApples that are red AND sweet or green AND sourâ€:\n\n\n\napples |&gt;\n    filter(color == \"red\" & sweet == TRUE | color == \"green\" & sweet == FALSE)"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#what-can-i-filter-for-the-distinct-function",
    "href": "slides/f24/04-wrangle.html#what-can-i-filter-for-the-distinct-function",
    "title": "Data wrangling I",
    "section": "What can I filter for? the distinct() function",
    "text": "What can I filter for? the distinct() function\nTo subset your data, you need to know what values your variables can take; what are the continents in gapminder?\n\ndistinct() returns the unique values of a variable\n\ngapminder |&gt;\n    distinct(continent)\n\n# A tibble: 5 Ã— 1\n  continent\n  &lt;fct&gt;    \n1 Asia     \n2 Europe   \n3 Africa   \n4 Americas \n5 Oceania  \n\n\n\n\nI can then use this information to filter my data:\n\ngapminder |&gt;\n    filter(continent == \"Americas\")"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#your-turn-world-leaders",
    "href": "slides/f24/04-wrangle.html#your-turn-world-leaders",
    "title": "Data wrangling I",
    "section": "Your turn: ğŸ‘‘ World leaders ğŸ‘‘",
    "text": "Your turn: ğŸ‘‘ World leaders ğŸ‘‘\nUsing the leader dataset, identify:\n\nA Vietnamese Emperor who, in his first year in office, was 11 years old.\nLeaders with graduate degrees who in 2015 reached their 16th year in power.\nA leader who held office for more than 20 years, participated in a rebellion, and has a willingness to use force score above 1.7.\n\n\n\n\nâˆ’+\n10:00\n\n\n\n\n\n\n\n\n\nNote\n\n\nYou can use ?leader to see the codebook. The acronym for Vietnam is â€œVNMâ€"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#the-last-step-creating-objects",
    "href": "slides/f24/04-wrangle.html#the-last-step-creating-objects",
    "title": "Data wrangling I",
    "section": "The last step: creating objects",
    "text": "The last step: creating objects\nStep 1-2: the data, the pipe, the wrangling functions\n\napples |&gt;\n    filter(sweet == FALSE)\n\n\n\nStep 3: store the subsetted data as a new object for later use\n\ngreen_apples = apples |&gt;\n    filter(sweet == FALSE)"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#objects-1",
    "href": "slides/f24/04-wrangle.html#objects-1",
    "title": "Data wrangling I",
    "section": "Objects",
    "text": "Objects\nIn programming, objects can be used to store all sorts of stuff for later use\n\ndata, functions, values\n\n\nWe create objects using = or &lt;-\n\n\nLike this:\n\nnew_object = stuff |&gt;\n    filter(year == 1999)\n\n\n\nOr like this:\n\nnew_object &lt;- stuff |&gt;\n    filter(year == 1999)"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#naming-objects",
    "href": "slides/f24/04-wrangle.html#naming-objects",
    "title": "Data wrangling I",
    "section": "Naming objects",
    "text": "Naming objects\n\nThere are only two hard things in Computer Science: cache invalidation and naming things. â€“ Phil Karlton\n\n\nRecommend: keep it short, easy to type, informative, and use _ to separate words\n\n\n\n# Good\ngap_africa = gapminder |&gt;\n    filter(continent == \"Africa\")\n\n# Bad\nCountries_In_Africa_That_I_Want_To_Look_Up = gapminder |&gt;\n    filter(continent == \"Africa\")\n\n\n\nI use the excellent Tidyverse syntax guide in my work"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#failure-to-object",
    "href": "slides/f24/04-wrangle.html#failure-to-object",
    "title": "Data wrangling I",
    "section": "Failure to object",
    "text": "Failure to object\nWithout objects, your work washes away, like tears in the rain\n\n\n\nHere, we store our data wrangling\n\n\ngreen_apples = apples |&gt;\n    filter(sweet == FALSE)\n\ngreen_apples\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh    green      8 FALSE\n2 Granny Smith red        3 FALSE\n\n\n\n\nHere we didnâ€™t store\n\n\napples |&gt;\n    filter(sweet == FALSE)\n\n# A tibble: 2 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Macintosh    green      8 FALSE\n2 Granny Smith red        3 FALSE\n\napples\n\n# A tibble: 4 Ã— 4\n  name         color pounds sweet\n  &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;\n1 Fuji         red        2 TRUE \n2 Gala         green      4 TRUE \n3 Macintosh    green      8 FALSE\n4 Granny Smith red        3 FALSE\n\n\n\n\n\n\n\nNotice the original apples remains unchanged!"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#the-formula",
    "href": "slides/f24/04-wrangle.html#the-formula",
    "title": "Data wrangling I",
    "section": "The formula",
    "text": "The formula\nWrangle the data until youâ€™re satisfied with the output:\n\napples |&gt;\n    filter(sweet == FALSE)\n\n\nStore the output as a new object:\n\nsour_apples = apples |&gt;\n    filter(sweet == FALSE)\n\n\n\nUse the new object (e.g., plotting):\n\nggplot(sour_apples, aes(x = name, y = pounds)) + geom_col()"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#challenge-the-unusual-american-voter",
    "href": "slides/f24/04-wrangle.html#challenge-the-unusual-american-voter",
    "title": "Data wrangling I",
    "section": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\nThereâ€™s a Twitter bot that randomly tweet profiles of real voters from the Cooperative Election Study:"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#challenge-the-unusual-american-voter-1",
    "href": "slides/f24/04-wrangle.html#challenge-the-unusual-american-voter-1",
    "title": "Data wrangling I",
    "section": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "Challenge: ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\n\n\n\nA small sample of Americans\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nstate\nsex\nage\neduc\nrace\npid7\nideo5\nreligion\nvotechoice\nhispanic\nknow_governor\nconceal\nprochoice\ncleanair\nwall\nmandmin\naca\nminwage\nnewsint\n\n\n\n\nWashington\nMale\n57\n2-year\nWhite\nIndependent\nLiberal\nAgnostic\nJoe Biden (Democrat)\nNo\nDemocrat\nOppose\nSupport\nSupport\nOppose\nSupport\nOppose\nFavor\nMost of the time\n\n\nNew Jersey\nFemale\n70\nHigh school graduate\nWhite\nNot very strong Republican\nModerate\nJewish\nDonald J. Trump (Republican)\nNo\nDemocrat\nOppose\nSupport\nOppose\nSupport\nSupport\nOppose\nFavor\nSome of the time\n\n\nSouth Carolina\nMale\n63\n4-year\nWhite\nIndependent\nModerate\nProtestant\nDonald J. Trump (Republican)\nNo\nRepublican\nSupport\nOppose\nOppose\nSupport\nSupport\nSupport\nOppose\nMost of the time\n\n\nFlorida\nMale\n65\nHigh school graduate\nWhite\nNot very strong Democrat\nModerate\nProtestant\nJoe Biden (Democrat)\nNo\nRepublican\nSupport\nSupport\nOppose\nOppose\nSupport\nOppose\nOppose\nMost of the time\n\n\nOhio\nMale\n26\nHigh school graduate\nWhite\nLean Republican\nModerate\nProtestant\nNA\nNo\nNot sure\nOppose\nOppose\nSupport\nSupport\nSupport\nOppose\nFavor\nMost of the time"
  },
  {
    "objectID": "slides/f24/04-wrangle.html#the-unusual-american-voter",
    "href": "slides/f24/04-wrangle.html#the-unusual-american-voter",
    "title": "Data wrangling I",
    "section": "ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸",
    "text": "ğŸ—³ï¸ The (unusual) American voter ğŸ—³ï¸\nUsing bot:\n\nIdentify the most unusual subgroup of voters you can think of\nConstraint: need at least five voters in your subgroup\nStore your unusual subgroup as an object\n\n\n\n\n\n\n\nNote\n\n\nRemember you can use ?bot to look at the codebook\n\n\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-objects",
    "href": "slides/f24/05-wrangle.html#using-objects",
    "title": "Data wrangling II",
    "section": "Using objects",
    "text": "Using objects\n\nggplot(gapminder, aes(x = gdpPercap, y = lifeExp)) + geom_point()\n\n\n\nWhat if I wanted to make this same plot, but only looking at countries in Asia?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#subset-to-asia",
    "href": "slides/f24/05-wrangle.html#subset-to-asia",
    "title": "Data wrangling II",
    "section": "Subset to Asia",
    "text": "Subset to Asia\nI can use filter() to subset the data to Asia, store it as a new object gap_asia, and use that new object to make a plot\n\n\ngap_asia = gapminder |&gt;\n    filter(continent == \"Asia\")\n\nggplot(gap_asia, aes(x = gdpPercap, y = lifeExp)) + geom_point()"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-the-new-object",
    "href": "slides/f24/05-wrangle.html#using-the-new-object",
    "title": "Data wrangling II",
    "section": "Using the new object",
    "text": "Using the new object\nNotice how I need to use the new object\nthe original gapminder does not have what I want\n\n\n\n\nggplot(gap_asia, aes(x = gdpPercap, y = lifeExp)) + geom_point()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder, aes(x = gdpPercap, y = lifeExp)) + geom_point()"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#filter-and-variables-types",
    "href": "slides/f24/05-wrangle.html#filter-and-variables-types",
    "title": "Data wrangling II",
    "section": "filter() and variables types",
    "text": "filter() and variables types\nFiltering requires knowing the type of variable you are working with\n\nNumerical variables do not use quotes\n\ngapminder |&gt;\n    filter(year &gt; 2000)\n\n\n\nCategorical variables use quotes, and spelling must be exact\nâœ…\n\ngapminder |&gt;\n    filter(continent == \"Asia\")\n\n\n\nâŒ\n\ngapminder |&gt;\n    filter(continent == \"asia\")"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#homicides-in-2019",
    "href": "slides/f24/05-wrangle.html#homicides-in-2019",
    "title": "Data wrangling II",
    "section": "Homicides in 2019",
    "text": "Homicides in 2019\n\n\n\n\n\n\nstate\ncity\npopulation\nmurder_total\n\n\n\n\nAlabama\nMobile\n248431\n50\n\n\nAlaska\nAnchorage\n296188\n27\n\n\nArizona\nChandler\n249355\n5\n\n\nArizona\nGilbert\n242090\n5\n\n\nArizona\nGlendale\n249273\n12\n\n\nArizona\nMesa\n492268\n23"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#most-violent-cities-in-america",
    "href": "slides/f24/05-wrangle.html#most-violent-cities-in-america",
    "title": "Data wrangling II",
    "section": "Most violent cities in America?",
    "text": "Most violent cities in America?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#fewer-deaths-in-towns-with-less-people",
    "href": "slides/f24/05-wrangle.html#fewer-deaths-in-towns-with-less-people",
    "title": "Data wrangling II",
    "section": "Fewer deaths in towns with less people",
    "text": "Fewer deaths in towns with less people"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#normalizing-variables",
    "href": "slides/f24/05-wrangle.html#normalizing-variables",
    "title": "Data wrangling II",
    "section": "Normalizing variables",
    "text": "Normalizing variables\nTo compare across cities we need to take into account differences in population\n\nWe want to know how many murders have taken place (or drug overdoses, or crimes, or COVID cases, orâ€¦) per person in the city (per capita)\n\n\nThis is called normalizing a variable; changing it so that we can make units more comparable"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#murder-rate",
    "href": "slides/f24/05-wrangle.html#murder-rate",
    "title": "Data wrangling II",
    "section": "Murder rate",
    "text": "Murder rate\nIn math terms this is just dividing the number of murders by population:\n\\(Murders_{capita} = \\frac{Murders}{Population}\\) = â€œhow many murders per personâ€\n\n\nSince this fraction is tiny, the convention is to multiply by a number that makes sense\n\n\nfor the population of a city, say 100,000 people\n\n\n\\(Murders_{per 100k} = \\frac{Murders}{Population} \\times 100,000\\) = â€œhow many murders per 100,000 peopleâ€"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#comparing-murder-rates",
    "href": "slides/f24/05-wrangle.html#comparing-murder-rates",
    "title": "Data wrangling II",
    "section": "Comparing murder rates",
    "text": "Comparing murder rates\nIf we look at murder rates, the picture changes:"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-mutate",
    "href": "slides/f24/05-wrangle.html#using-mutate",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows\n\n\n\n\n\n\n\n\nNote\n\n\nmurder_set is the name of the homicide data"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-mutate-1",
    "href": "slides/f24/05-wrangle.html#using-mutate-1",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt;\n    mutate()\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-mutate-2",
    "href": "slides/f24/05-wrangle.html#using-mutate-2",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt;\n    mutate(murder_capita = murder_total/population)\n\n# A tibble: 100 Ã— 5\n   state      city       population murder_total murder_capita\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201 \n 2 Alaska     Anchorage      296188        27.0      0.0000912\n 3 Arizona    Chandler       249355         5.01     0.0000201\n 4 Arizona    Gilbert        242090         5.01     0.0000207\n 5 Arizona    Glendale       249273        12.0      0.0000481\n 6 Arizona    Mesa           492268        23.0      0.0000467\n 7 Arizona    Phoenix       1608139       154.       0.0000955\n 8 Arizona    Scottsdale     251840         5.01     0.0000199\n 9 Arizona    Tucson         532323        46.0      0.0000864\n10 California Anaheim        353400        10.0      0.0000283\n# â„¹ 90 more rows\n\n\nNotice that I named a new variable, murder_capita\n\nnotice tiny proportion"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#using-mutate-3",
    "href": "slides/f24/05-wrangle.html#using-mutate-3",
    "title": "Data wrangling II",
    "section": "Using mutate",
    "text": "Using mutate\n\nmurder_set |&gt;\n    mutate(murder_capita = murder_total/population, murder_rate = murder_capita *\n        1e+05)\n\n# A tibble: 100 Ã— 6\n   state      city       population murder_total murder_capita murder_rate\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201        20.1 \n 2 Alaska     Anchorage      296188        27.0      0.0000912        9.12\n 3 Arizona    Chandler       249355         5.01     0.0000201        2.01\n 4 Arizona    Gilbert        242090         5.01     0.0000207        2.07\n 5 Arizona    Glendale       249273        12.0      0.0000481        4.81\n 6 Arizona    Mesa           492268        23.0      0.0000467        4.67\n 7 Arizona    Phoenix       1608139       154.       0.0000955        9.55\n 8 Arizona    Scottsdale     251840         5.01     0.0000199        1.99\n 9 Arizona    Tucson         532323        46.0      0.0000864        8.64\n10 California Anaheim        353400        10.0      0.0000283        2.83\n# â„¹ 90 more rows\n\n\nNotice the new columns"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#forgetting-to-store",
    "href": "slides/f24/05-wrangle.html#forgetting-to-store",
    "title": "Data wrangling II",
    "section": "Forgetting to store",
    "text": "Forgetting to store\nIf you donâ€™t store your changes, they will melt away, like tears in the rain\n\nmurder_set |&gt;\n    mutate(murder_capita = murder_total/population, murder_rate = murder_capita *\n        1e+05)\n\n\n\nmurder_set\n\n# A tibble: 100 Ã— 4\n   state      city       population murder_total\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0 \n 2 Alaska     Anchorage      296188        27.0 \n 3 Arizona    Chandler       249355         5.01\n 4 Arizona    Gilbert        242090         5.01\n 5 Arizona    Glendale       249273        12.0 \n 6 Arizona    Mesa           492268        23.0 \n 7 Arizona    Phoenix       1608139       154.  \n 8 Arizona    Scottsdale     251840         5.01\n 9 Arizona    Tucson         532323        46.0 \n10 California Anaheim        353400        10.0 \n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one",
    "href": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one",
    "title": "Data wrangling II",
    "section": "New object, or overwite the old one?",
    "text": "New object, or overwite the old one?\n\nWhen you mutate(), you should overwrite the original data by naming the â€œnewâ€ object the same as the â€œoldâ€ one\n\nmurder_set = murder_set |&gt;\n    mutate(murder_capita = murder_total/population, murder_rate = murder_capita *\n        1e+05)\n\n\n\nThis way, you add columns to your original dataset\n\nmurder_set\n\n# A tibble: 100 Ã— 6\n   state      city       population murder_total murder_capita murder_rate\n   &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;\n 1 Alabama    Mobile         248431        50.0      0.000201        20.1 \n 2 Alaska     Anchorage      296188        27.0      0.0000912        9.12\n 3 Arizona    Chandler       249355         5.01     0.0000201        2.01\n 4 Arizona    Gilbert        242090         5.01     0.0000207        2.07\n 5 Arizona    Glendale       249273        12.0      0.0000481        4.81\n 6 Arizona    Mesa           492268        23.0      0.0000467        4.67\n 7 Arizona    Phoenix       1608139       154.       0.0000955        9.55\n 8 Arizona    Scottsdale     251840         5.01     0.0000199        1.99\n 9 Arizona    Tucson         532323        46.0      0.0000864        8.64\n10 California Anaheim        353400        10.0      0.0000283        2.83\n# â„¹ 90 more rows"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one-1",
    "href": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one-1",
    "title": "Data wrangling II",
    "section": "New object, or overwite the old one?",
    "text": "New object, or overwite the old one?\nWhen we filter(), we want to create a new object\n\nIf we overwrite the original object, we lose the original data\nâŒ\n\ngapminder = gapminder |&gt;\n    filter(continent == \"Africa\")\ngapminder\n\n# A tibble: 624 Ã— 6\n   country continent  year lifeExp      pop gdpPercap\n   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1 Algeria Africa     1952    43.1  9279525     2449.\n 2 Algeria Africa     1957    45.7 10270856     3014.\n 3 Algeria Africa     1962    48.3 11000948     2551.\n 4 Algeria Africa     1967    51.4 12760499     3247.\n 5 Algeria Africa     1972    54.5 14760787     4183.\n 6 Algeria Africa     1977    58.0 17152804     4910.\n 7 Algeria Africa     1982    61.4 20033753     5745.\n 8 Algeria Africa     1987    65.8 23254956     5681.\n 9 Algeria Africa     1992    67.7 26298373     5023.\n10 Algeria Africa     1997    69.2 29072015     4797.\n# â„¹ 614 more rows"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#your-turn-climate-change",
    "href": "slides/f24/05-wrangle.html#your-turn-climate-change",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨\n\n\n\n\nSample from climate dataset\n\n\ncountry\nyear\npopulation\nco2\n\n\n\n\nKyrgyzstan\n1863\n784425\n0.00\n\n\nIreland\n1879\n5186259\nNA\n\n\nGhana\n1993\n16106756\n4.31\n\n\nReunion\n1975\n484785\n0.48\n\n\nTaiwan\n1995\n21356026\n168.87"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#your-turn-climate-change-1",
    "href": "slides/f24/05-wrangle.html#your-turn-climate-change-1",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸŒ¡ï¸ Climate change ğŸŒ¡ï¸ ğŸš¨\nUsing climate, make the following two plots looking only at the United States and China:\n\nA grouped time-series of co2 emissions over time (separate country by color)\nA grouped time-series of co2 emissions per capita over time (separate country by color)\nWhoâ€™s to â€œblameâ€ for climate change? And where should we focus environmental efforts?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#creating-categories-with-case_when",
    "href": "slides/f24/05-wrangle.html#creating-categories-with-case_when",
    "title": "Data wrangling II",
    "section": "Creating categories with case_when()",
    "text": "Creating categories with case_when()\n\nSometimes we want to create categorical variables out of continuous ones\n\n\nWhy? Categories are sometimes clearer: this city is â€œhigh crimeâ€, this city is â€œlow crimeâ€\n\n\nSometimes all that matters is some outcome: who won the election?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#who-won-the-county",
    "href": "slides/f24/05-wrangle.html#who-won-the-county",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\n\n\n\n\nsample from elections dataset\n\n\nname\nstate\nper_gop_2020\nper_dem_2020\n\n\n\n\nPolk County\nAR\n0.83\n0.15\n\n\nGrant County\nNE\n0.93\n0.05\n\n\nColumbia County\nFL\n0.72\n0.27\n\n\nGraves County\nKY\n0.78\n0.21\n\n\nSan Bernardino County\nCA\n0.44\n0.54\n\n\nMcKean County\nPA\n0.72\n0.26\n\n\nGibson County\nTN\n0.73\n0.26\n\n\nHudspeth County\nTX\n0.67\n0.32\n\n\nErie County\nOH\n0.55\n0.43\n\n\nWashington County\nKS\n0.82\n0.16"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#who-won-the-county-1",
    "href": "slides/f24/05-wrangle.html#who-won-the-county-1",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections |&gt;\n    mutate(who_won = case_when(per_gop_2020 &gt; per_dem_2020 ~ \"Republicans\"))\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020 who_won    \n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;      \n 1 Autauga County  AL           0.714       0.270  Republicans\n 2 Baldwin County  AL           0.762       0.224  Republicans\n 3 Barbour County  AL           0.535       0.458  Republicans\n 4 Bibb County     AL           0.784       0.207  Republicans\n 5 Blount County   AL           0.896       0.0957 Republicans\n 6 Bullock County  AL           0.248       0.747  &lt;NA&gt;       \n 7 Butler County   AL           0.575       0.418  Republicans\n 8 Calhoun County  AL           0.688       0.298  Republicans\n 9 Chambers County AL           0.573       0.416  Republicans\n10 Cherokee County AL           0.860       0.132  Republicans\n# â„¹ 3,142 more rows\n\n\nâ€œâ€œRepublicansâ€ will be assigned to the who_won variable if per_gop_2020 is greater than per_dem_2020â€\n\npoint out the NA"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#who-won-the-county-2",
    "href": "slides/f24/05-wrangle.html#who-won-the-county-2",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections |&gt;\n    mutate(who_won = case_when(per_gop_2020 &gt; per_dem_2020 ~ \"Republicans\", per_dem_2020 &gt;\n        per_gop_2020 ~ \"Democrats\"))\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020 who_won    \n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;      \n 1 Autauga County  AL           0.714       0.270  Republicans\n 2 Baldwin County  AL           0.762       0.224  Republicans\n 3 Barbour County  AL           0.535       0.458  Republicans\n 4 Bibb County     AL           0.784       0.207  Republicans\n 5 Blount County   AL           0.896       0.0957 Republicans\n 6 Bullock County  AL           0.248       0.747  Democrats  \n 7 Butler County   AL           0.575       0.418  Republicans\n 8 Calhoun County  AL           0.688       0.298  Republicans\n 9 Chambers County AL           0.573       0.416  Republicans\n10 Cherokee County AL           0.860       0.132  Republicans\n# â„¹ 3,142 more rows\n\n\nâ€œâ€œRepublicansâ€ will be assigned to the who_won variable if per_gop_2020 is greater than per_dem_2020. â€œDemocratsâ€ will be assigned if per_dem_2020 is greater than per_gop_2020â€œ.\n\nHow would I add condition for tie?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#who-won-the-county-3",
    "href": "slides/f24/05-wrangle.html#who-won-the-county-3",
    "title": "Data wrangling II",
    "section": "Who won the county?",
    "text": "Who won the county?\nThe general formula: case_when(CONDITION ~ LABEL)\n\nsmall_elections |&gt;\n    mutate(who_won = case_when(per_gop_2020 &gt; per_dem_2020 ~ \"Republicans\", per_dem_2020 &gt;\n        per_gop_2020 ~ \"Democrats\"))\n\n# A tibble: 3,152 Ã— 5\n   name            state per_gop_2020 per_dem_2020 who_won    \n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;      \n 1 Autauga County  AL           0.714       0.270  Republicans\n 2 Baldwin County  AL           0.762       0.224  Republicans\n 3 Barbour County  AL           0.535       0.458  Republicans\n 4 Bibb County     AL           0.784       0.207  Republicans\n 5 Blount County   AL           0.896       0.0957 Republicans\n 6 Bullock County  AL           0.248       0.747  Democrats  \n 7 Butler County   AL           0.575       0.418  Republicans\n 8 Calhoun County  AL           0.688       0.298  Republicans\n 9 Chambers County AL           0.573       0.416  Republicans\n10 Cherokee County AL           0.860       0.132  Republicans\n# â„¹ 3,142 more rows\n\n\nâ€œâ€œRepublicansâ€ will be assigned to the who_won variable if per_gop_2020 is greater than per_dem_2020. â€œDemocratsâ€ will be assigned if per_dem_2020 is greater than per_gop_2020â€œ.\n\nHow would I add condition for tie?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#your-turn",
    "href": "slides/f24/05-wrangle.html#your-turn",
    "title": "Data wrangling II",
    "section": "ğŸš¨ Your turn ğŸš¨",
    "text": "ğŸš¨ Your turn ğŸš¨\nUsing the elections dataset:\n\nCreate a variable that tells you what happened in the 2016 election in each county. The variable should incorporate four possibilities:\n\nDEMS won in 2012 and in 2016 (â€œtrue blueâ€)\nREPS won in 2012 and in 2016 (â€œtrue redâ€)\nthe county flipped from blue to red (â€œblue to redâ€)\nthe county flipped from red to blue (â€œred to blueâ€)\n\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#logical-variables",
    "href": "slides/f24/05-wrangle.html#logical-variables",
    "title": "Data wrangling II",
    "section": "Logical variables",
    "text": "Logical variables\nTRUE/FALSE variables are all-caps, no quotes\n\napples |&gt;\n    filter(sweet == TRUE)"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#making-new-variables-with-mutate",
    "href": "slides/f24/05-wrangle.html#making-new-variables-with-mutate",
    "title": "Data wrangling II",
    "section": "Making new variables with mutate()",
    "text": "Making new variables with mutate()\nmutate() adds new variables to data"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one-2",
    "href": "slides/f24/05-wrangle.html#new-object-or-overwite-the-old-one-2",
    "title": "Data wrangling II",
    "section": "New object, or overwite the old one?",
    "text": "New object, or overwite the old one?\nMake a new object instead:\nâœ…\n\ngap_africa = gapminder |&gt;\n    filter(continent == \"Africa\")\ngap_africa\n\n# A tibble: 624 Ã— 6\n   country continent  year lifeExp      pop gdpPercap\n   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1 Algeria Africa     1952    43.1  9279525     2449.\n 2 Algeria Africa     1957    45.7 10270856     3014.\n 3 Algeria Africa     1962    48.3 11000948     2551.\n 4 Algeria Africa     1967    51.4 12760499     3247.\n 5 Algeria Africa     1972    54.5 14760787     4183.\n 6 Algeria Africa     1977    58.0 17152804     4910.\n 7 Algeria Africa     1982    61.4 20033753     5745.\n 8 Algeria Africa     1987    65.8 23254956     5681.\n 9 Algeria Africa     1992    67.7 26298373     5023.\n10 Algeria Africa     1997    69.2 29072015     4797.\n# â„¹ 614 more rows"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#tradeoff-clarity-vs.-complexity",
    "href": "slides/f24/05-wrangle.html#tradeoff-clarity-vs.-complexity",
    "title": "Data wrangling II",
    "section": "Tradeoff: clarity vs.Â complexity",
    "text": "Tradeoff: clarity vs.Â complexity\nTurning continuous variables into categories can make the â€œbig pictureâ€ clearer\n\nHow many counties did each party win?\n\n\n\n\nWho won the county?\n\n\nwho_won\nn\npercentage\n\n\n\n\nDemocrats\n557\n17.67132\n\n\nRepublicans\n2595\n82.32868"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#creating-categories-1",
    "href": "slides/f24/05-wrangle.html#creating-categories-1",
    "title": "Data wrangling II",
    "section": "Creating categories",
    "text": "Creating categories\n\nSometimes we want to create categorical variables out of continuous ones\n\n\nWhy? Categories are sometimes clearer: this city is â€œhigh crimeâ€, this city is â€œlow crimeâ€\n\n\nSometimes all that matters is some outcome: who won the election?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#creating-categories-2",
    "href": "slides/f24/05-wrangle.html#creating-categories-2",
    "title": "Data wrangling II",
    "section": "Creating categories",
    "text": "Creating categories\n\nWe can use case_when() in conjunction with mutate() to create categorical variables\n\n\nLike filter(), case_when() also relies on logical operators\n\n\nstart by making new variable with mutate()\n\nsmall_elections |&gt;\n    mutate()\n\n# A tibble: 3,152 Ã— 4\n   name            state per_gop_2020 per_dem_2020\n   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;\n 1 Autauga County  AL           0.714       0.270 \n 2 Baldwin County  AL           0.762       0.224 \n 3 Barbour County  AL           0.535       0.458 \n 4 Bibb County     AL           0.784       0.207 \n 5 Blount County   AL           0.896       0.0957\n 6 Bullock County  AL           0.248       0.747 \n 7 Butler County   AL           0.575       0.418 \n 8 Calhoun County  AL           0.688       0.298 \n 9 Chambers County AL           0.573       0.416 \n10 Cherokee County AL           0.860       0.132 \n# â„¹ 3,142 more rows\n\n\n\nHow would you identify who won based on this?"
  },
  {
    "objectID": "slides/f24/05-wrangle.html#tradeoff-clarity-vs.-complexity-1",
    "href": "slides/f24/05-wrangle.html#tradeoff-clarity-vs.-complexity-1",
    "title": "Data wrangling II",
    "section": "Tradeoff: clarity vs.Â complexity",
    "text": "Tradeoff: clarity vs.Â complexity\nBut we lose complexity: how much did each party win by?"
  },
  {
    "objectID": "slides/f24/06-relationships.html#data-objects-variables-1",
    "href": "slides/f24/06-relationships.html#data-objects-variables-1",
    "title": "Relationships I",
    "section": "Data, objects, variables",
    "text": "Data, objects, variables\n\ntrade is a data object that contains variables like imports\n\ntrade\n\n# A tibble: 11,493 Ã— 10\n   country          year imports exports     gdp    pop land_borders sea_borders\n   &lt;chr&gt;           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;\n 1 United States â€¦  1946    5000    9775 2.48e12 1.38e8            2           1\n 2 United States â€¦  1947    5824   15369 2.43e12 1.40e8            2           1\n 3 United States â€¦  1948    7710   12470 2.49e12 1.43e8            2           1\n 4 United States â€¦  1949    7160   11920 2.47e12 1.47e8            2           1\n 5 United States â€¦  1950    9140   10220 2.56e12 1.49e8            2           1\n 6 United States â€¦  1951   11400   14920 2.73e12 1.51e8            2           1\n 7 United States â€¦  1952   11220   14950 2.82e12 1.53e8            2           1\n 8 United States â€¦  1953   11460   15330 2.99e12 1.56e8            2           1\n 9 United States â€¦  1954   10670   14690 3.00e12 1.59e8            2           1\n10 United States â€¦  1955   11850   15410 3.10e12 1.62e8            2           1\n# â„¹ 11,483 more rows\n# â„¹ 2 more variables: min_cap_dist &lt;dbl&gt;, sum_igos &lt;dbl&gt;\n\n\n\n\ntrade_2010 and trade are both objects, year is a variable\n\ntrade_2010 = trade |&gt;\n    filter(year == 2010)"
  },
  {
    "objectID": "slides/f24/06-relationships.html#data-objects-variables-2",
    "href": "slides/f24/06-relationships.html#data-objects-variables-2",
    "title": "Relationships I",
    "section": "Data, objects, variables",
    "text": "Data, objects, variables\nA common source of confusion is giving a new variable the same name as the data object\n\nHere, imports_gdp is an object that contains a variable thatâ€™s also named imports_gdp\n\nimports_gdp = trade |&gt;\n    mutate(imports_gdp = imports/gdp)\n\n\n\nDonâ€™t do this! Itâ€™s confusing and can lead to errors"
  },
  {
    "objectID": "slides/f24/06-relationships.html#a-common-mistake",
    "href": "slides/f24/06-relationships.html#a-common-mistake",
    "title": "Data wrangling II",
    "section": "A common mistake",
    "text": "A common mistake\nSay we wanted to multiply GDP per capita by population and plot the result:\n\ngap_gdp = gapminder |&gt;\n    mutate(gdp = gdpPercap * pop)\n\n\nâŒ\n\nggplot(gapminder, aes(x = year, y = gap_gdp)) + geom_point()\n\nMistake: using the original gapminder data, treating gap_gdp as a variable\n\n\nâœ…\n\nggplot(gap_gdp, aes(x = year, y = gdp)) + geom_point()\n\nCorrect: use the new data object, which contains the newly created variable gdp"
  },
  {
    "objectID": "slides/f24/06-relationships.html#summarizing-data-1",
    "href": "slides/f24/06-relationships.html#summarizing-data-1",
    "title": "Relationships I",
    "section": "Summarizing data",
    "text": "Summarizing data\n\nOften, with data, we want to compare things\n\n\nAre democracies more peaceful than autocracies?\n\n\nDoes early-voting increase turnout?\n\n\nTo do this, we often rely on statistical summaries of our data:\n\n\nMeans, medians, minimums, maximums, variances"
  },
  {
    "objectID": "slides/f24/06-relationships.html#summary-stats",
    "href": "slides/f24/06-relationships.html#summary-stats",
    "title": "Relationships I",
    "section": "Summary stats",
    "text": "Summary stats\n\nThe mean: 3, 4, 8 \\(\\rightarrow\\) \\(\\frac{(3 + 4 + 8)}{3} = 5\\)\n\n\nThe median: 3, 4, 8 \\(\\rightarrow\\) 4\n\n\nThe minimum: 3, 4, 8 \\(\\rightarrow\\) 3\n\n\nThe maximum: 3, 4, 8 \\(\\rightarrow\\) 8"
  },
  {
    "objectID": "slides/f24/06-relationships.html#example-an-experiment",
    "href": "slides/f24/06-relationships.html#example-an-experiment",
    "title": "Relationships I",
    "section": "Example: an experiment",
    "text": "Example: an experiment\nSome counties let people vote early; others donâ€™t\n\nDo counties with early provisions have higher turnout?"
  },
  {
    "objectID": "slides/f24/06-relationships.html#the-data",
    "href": "slides/f24/06-relationships.html#the-data",
    "title": "Relationships I",
    "section": "The data",
    "text": "The data\n\n\n\nFake data on early voting and turnout\n\n\nVote early?\nTurnout (%)\n\n\n\n\nYes\n54.7\n\n\nYes\n56.7\n\n\nNo\n37.3\n\n\nNo\n44.1\n\n\nNo\n40.6\n\n\nNo\n38.6\n\n\nYes\n46.7\n\n\nNo\n35.4\n\n\nYes\n51.8\n\n\nYes\n50.1"
  },
  {
    "objectID": "slides/f24/06-relationships.html#quantifying-higher",
    "href": "slides/f24/06-relationships.html#quantifying-higher",
    "title": "Relationships I",
    "section": "Quantifying â€œhigherâ€",
    "text": "Quantifying â€œhigherâ€\nWe can compare the averages of counties that do have early voting against those that donâ€™t:\n\n\n\n\n\n\nVote early?\nAvg. turnout %\n\n\n\n\nNo\n40.1\n\n\nYes\n50.2\n\n\n\n\n\n\n\nCounties with early voting have, on average, 10 percentage points higher turnout"
  },
  {
    "objectID": "slides/f24/06-relationships.html#mean-vs.-median",
    "href": "slides/f24/06-relationships.html#mean-vs.-median",
    "title": "Relationships I",
    "section": "Mean vs.Â median",
    "text": "Mean vs.Â median\nWe almost always compare averages, but medians are helpful in some cases:\n\n\n\n\n\n\n\n\n\n\n\nWhatâ€™s happening here?"
  },
  {
    "objectID": "slides/f24/06-relationships.html#one-more-stat-variation",
    "href": "slides/f24/06-relationships.html#one-more-stat-variation",
    "title": "Relationships I",
    "section": "One more stat: variation",
    "text": "One more stat: variation\n\nAnother way to compare data is by how much a variable varies\n\n\nSome distributions are very narrow, others are very wide\n\n\nNarrow = observations are similar; wide = observations are not similar"
  },
  {
    "objectID": "slides/f24/06-relationships.html#measuring-variation-the-standard-deviation",
    "href": "slides/f24/06-relationships.html#measuring-variation-the-standard-deviation",
    "title": "Relationships I",
    "section": "Measuring variation: the standard deviation",
    "text": "Measuring variation: the standard deviation\nThe formula:\n\\[ s = \\sqrt{\\frac{1}{N-1} \\sum_{i=1}^N (x_i - \\overline{x})^2}\\]\n\nAll the movement is here, the sum of the differences between each observation \\(x_i\\) and the average observation \\(\\overline{x}\\)\n\\[\\sum_{i=1}^N (x_i - \\overline{x})^2\\]"
  },
  {
    "objectID": "slides/f24/06-relationships.html#variance-intuition",
    "href": "slides/f24/06-relationships.html#variance-intuition",
    "title": "Relationships I",
    "section": "Variance intuition",
    "text": "Variance intuition\n\n\n\n\n\n\n\nData with wide distribution\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age - \\overline{age}\\)\n\\(\\ (age - \\overline{age})^2 \\)\n\n\n\n\n87\n55.3\n31.7\n1003.6\n\n\n41\n55.3\n-14.3\n205.1\n\n\n23\n55.3\n-32.3\n1044.6\n\n\n45\n55.3\n-10.3\n106.5\n\n\n58\n55.3\n2.7\n7.2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nData with narrow distribution\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age - \\overline{age}\\)\n\\(\\ (age - \\overline{age})^2 \\)\n\n\n\n\n48\n49.9\n-1.9\n3.8\n\n\n48\n49.9\n-1.9\n3.8\n\n\n52\n49.9\n2.1\n4.2\n\n\n48\n49.9\n-1.9\n3.8\n\n\n50\n49.9\n0.1\n0.0\n\n\n\n\n\n\n\n\n\n\n\n\\[\\sum_{i=1}^N (age_i - \\overline{age})^2\\]\n\nThe farther observations are from the mean, the larger the standard deviation"
  },
  {
    "objectID": "slides/f24/06-relationships.html#measuring-variation",
    "href": "slides/f24/06-relationships.html#measuring-variation",
    "title": "Relationships I",
    "section": "Measuring variation",
    "text": "Measuring variation\nSame average (~$50,000), different standard deviations\n\n\nWhat could we measure with sd? Can we use standard deviation to measure equality?"
  },
  {
    "objectID": "slides/f24/06-relationships.html#summary-statistics-with-summarize",
    "href": "slides/f24/06-relationships.html#summary-statistics-with-summarize",
    "title": "Relationships I",
    "section": "Summary statistics with summarize()",
    "text": "Summary statistics with summarize()\nWe can use summarize() to calculate things like the mean, median, etc.\n\n\nSummarizing condenses data into statistics"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize",
    "href": "slides/f24/06-relationships.html#using-summarize",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nSay I want to know the average life expectancy in the world in 2007:\n\n\ngapminder %&gt;%\n    filter(year == 2007)\n\n# A tibble: 142 Ã— 6\n   country     continent  year lifeExp       pop gdpPercap\n   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;\n 1 Afghanistan Asia       2007    43.8  31889923      975.\n 2 Albania     Europe     2007    76.4   3600523     5937.\n 3 Algeria     Africa     2007    72.3  33333216     6223.\n 4 Angola      Africa     2007    42.7  12420476     4797.\n 5 Argentina   Americas   2007    75.3  40301927    12779.\n 6 Australia   Oceania    2007    81.2  20434176    34435.\n 7 Austria     Europe     2007    79.8   8199783    36126.\n 8 Bahrain     Asia       2007    75.6    708573    29796.\n 9 Bangladesh  Asia       2007    64.1 150448339     1391.\n10 Belgium     Europe     2007    79.4  10392226    33693.\n# â„¹ 132 more rows"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-1",
    "href": "slides/f24/06-relationships.html#using-summarize-1",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize()\n\n# A tibble: 1 Ã— 0"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-2",
    "href": "slides/f24/06-relationships.html#using-summarize-2",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize(avg_life = mean(lifeExp))\n\n# A tibble: 1 Ã— 1\n  avg_life\n     &lt;dbl&gt;\n1     67.0\n\n\nNotice how the data has been summarized: only one row\n\nNotice that Iâ€™ve named the summary statistic avg_life"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-3",
    "href": "slides/f24/06-relationships.html#using-summarize-3",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the median life expectancy?\n\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize(avg_life = mean(lifeExp), med_life = median(lifeExp))\n\n# A tibble: 1 Ã— 2\n  avg_life med_life\n     &lt;dbl&gt;    &lt;dbl&gt;\n1     67.0     71.9\n\n\nNotice! how similar this looks to mutate()"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-4",
    "href": "slides/f24/06-relationships.html#using-summarize-4",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the min and max life expectancy?\n\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize(avg_life = mean(lifeExp), med_life = median(lifeExp), min_life = min(lifeExp),\n        max_life = max(lifeExp))\n\n# A tibble: 1 Ã— 4\n  avg_life med_life min_life max_life\n     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n1     67.0     71.9     39.6     82.6"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-5",
    "href": "slides/f24/06-relationships.html#using-summarize-5",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\nWhat if I also wanted to know the standard deviation of life expectancy?\n\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize(avg_life = mean(lifeExp), med_life = median(lifeExp), min_life = min(lifeExp),\n        max_life = max(lifeExp), sd_life = sd(lifeExp))\n\n# A tibble: 1 Ã— 5\n  avg_life med_life min_life max_life sd_life\n     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n1     67.0     71.9     39.6     82.6    12.1"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-summarize-6",
    "href": "slides/f24/06-relationships.html#using-summarize-6",
    "title": "Relationships I",
    "section": "Using summarize()",
    "text": "Using summarize()\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    summarize(avg_life = mean(lifeExp), med_life = median(lifeExp), min_life = min(lifeExp),\n        max_life = max(lifeExp), sd_life = sd(lifeExp))\n\n\nsummarize() is like mutate() in that you are creating new variables\n\n\nSo note that you have to name the new variables!"
  },
  {
    "objectID": "slides/f24/06-relationships.html#we-can-use-summary-functions-in-filter",
    "href": "slides/f24/06-relationships.html#we-can-use-summary-functions-in-filter",
    "title": "Relationships I",
    "section": "We can use summary functions in filter",
    "text": "We can use summary functions in filter\nwhich country had the lowest life expectancy in 2007?\n\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    filter(lifeExp == min(lifeExp))\n\n# A tibble: 1 Ã— 6\n  country   continent  year lifeExp     pop gdpPercap\n  &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n1 Swaziland Africa     2007    39.6 1133066     4513."
  },
  {
    "objectID": "slides/f24/06-relationships.html#we-can-use-summary-functions-in-filter-1",
    "href": "slides/f24/06-relationships.html#we-can-use-summary-functions-in-filter-1",
    "title": "Relationships I",
    "section": "We can use summary functions in filter",
    "text": "We can use summary functions in filter\nwhich countries had above average GPD but below average health?\n\n\ngapminder %&gt;%\n    filter(year == 2007) %&gt;%\n    filter(gdpPercap &gt; mean(gdpPercap), lifeExp &lt; mean(lifeExp))\n\n# A tibble: 3 Ã— 6\n  country           continent  year lifeExp     pop gdpPercap\n  &lt;fct&gt;             &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n1 Botswana          Africa     2007    50.7 1639131    12570.\n2 Equatorial Guinea Africa     2007    51.6  551201    12154.\n3 Gabon             Africa     2007    56.7 1454867    13206.\n\n\nRemember Gabon from Week 1!"
  },
  {
    "objectID": "slides/f24/06-relationships.html#woe-unto-us-missing-data",
    "href": "slides/f24/06-relationships.html#woe-unto-us-missing-data",
    "title": "Relationships I",
    "section": "Woe unto us: missing data",
    "text": "Woe unto us: missing data\n\nIn life, sometimes data is missing\n\n\nrespondent doesnâ€™t answer a question, no one knows Afghanistanâ€™s GDP in 1943, etc.\n\n\nR represents missing data as NA\n\n\n\n\n\n\n\nname\ntype1\ntype2\nheight_m\nweight_kg\n\n\n\n\nLycanroc\nrock\nNA\nNA\nNA\n\n\nVulpix\nfire\nice\nNA\nNA\n\n\nMuk\npoison\npoison\nNA\nNA\n\n\nPersian\nnormal\ndark\nNA\nNA\n\n\nMarowak\nground\nfire\nNA\nNA\n\n\nGraveler\nrock\nground\nNA\nNA"
  },
  {
    "objectID": "slides/f24/06-relationships.html#summarizing-with-missing-data",
    "href": "slides/f24/06-relationships.html#summarizing-with-missing-data",
    "title": "Relationships I",
    "section": "Summarizing with missing data",
    "text": "Summarizing with missing data\nIf you try to summarize data that has missing values, R will return NA:\n\n\npokemon %&gt;%\n    summarise(average_height = mean(height_m))\n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1             NA\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nAny math operation with NA will return NA (.e.g, 3 + NA = NA)"
  },
  {
    "objectID": "slides/f24/06-relationships.html#what-to-do",
    "href": "slides/f24/06-relationships.html#what-to-do",
    "title": "Relationships I",
    "section": "What to do?",
    "text": "What to do?\n\nThere are whole classes on what to do with missing data (impute, simulate, model, etc.)\n\n\nIn this class we will tell R to ignore missing observations\n\n\nWe can do this by adding the na.rm = TRUE argument to summary\n\npokemon %&gt;%\n    summarise(average_height = mean(height_m, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1           1.16"
  },
  {
    "objectID": "slides/f24/06-relationships.html#remember",
    "href": "slides/f24/06-relationships.html#remember",
    "title": "Relationships I",
    "section": "Rememberâ€¦",
    "text": "Rememberâ€¦\n\nIf youâ€™re trying to calculate a summary statistic and keep getting NAâ€¦\n\n\n99.99999% of the time you need to add na.rm = TRUE to your function!\n\n\n\npokemon %&gt;%\n    summarise(average_height = mean(height_m, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  average_height\n           &lt;dbl&gt;\n1           1.16"
  },
  {
    "objectID": "slides/f24/06-relationships.html#your-turn-trade",
    "href": "slides/f24/06-relationships.html#your-turn-trade",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨\nDataset from juanr on international trade:\n\n\n\nTrade patterns around the world\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncountry\nyear\nimports\nexports\ngdp\npop\nland_borders\nsea_borders\nmin_cap_dist\nsum_igos\n\n\n\n\nUnited States of America\n1946\n5000\n9775\n2.479307e+12\n138170640\n2\n1\n0\n44\n\n\nUnited States of America\n1947\n5824\n15369\n2.430213e+12\n139838676\n2\n1\n0\n47\n\n\nUnited States of America\n1948\n7710\n12470\n2.494227e+12\n143378709\n2\n1\n0\n52\n\n\nUnited States of America\n1949\n7160\n11920\n2.466941e+12\n146714635\n2\n1\n0\n57\n\n\nUnited States of America\n1950\n9140\n10220\n2.562489e+12\n149230105\n2\n1\n0\n59\n\n\nUnited States of America\n1951\n11400\n14920\n2.729119e+12\n150880698\n2\n1\n0\n60"
  },
  {
    "objectID": "slides/f24/06-relationships.html#your-turn-trade-1",
    "href": "slides/f24/06-relationships.html#your-turn-trade-1",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸš¢ trade ğŸš¢ ğŸš¨\nUsing the trade dataset:\n\nHow has Inter-Governmental Organizations (IGOs) membership expanded over time?\n\nCalculate the median number of IGOs that countries belonged to in 1960.\nRepeat for 2010. About how much has IGO membership grown in 50 years?\n\nWhat is having a sea border worth?\n\nLook only at countries that have at least one sea border in the year 2010. What is the average value of exports among these countries?\nDo the same for countries with no sea borders. About how much more do countries with sea borders export than countries without?\n\n\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/f24/06-relationships.html#relationships",
    "href": "slides/f24/06-relationships.html#relationships",
    "title": "Relationships I",
    "section": "Relationships",
    "text": "Relationships\n\nsummarize() lets us calculate statistics for the whole dataset\n\n\nBut what if we want to do this for different groups within the data?\n\n\nThis is at the heart of making comparisons"
  },
  {
    "objectID": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way",
    "href": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way",
    "title": "Relationships I",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nHow much do country imports vary for each country over time?\n\nTedious approach: filter() to country 1, then calculate standard deviation of imports\n\n\nStarting with China\n\ntrade %&gt;%\n    filter(country == \"China\") %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1   659178."
  },
  {
    "objectID": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way-1",
    "href": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way-1",
    "title": "Relationships I",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nI could go on to another country:\n\ntrade %&gt;%\n    filter(country == \"Algeria\") %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1    14819.\n\n\n\nAnd so on for all countriesâ€¦ but this is brutally tedious\n\ntrade %&gt;%\n    filter(country == \"Nepal\") %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1     2096."
  },
  {
    "objectID": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way-2",
    "href": "slides/f24/06-relationships.html#variation-in-trade-over-time-the-brutal-way-2",
    "title": "Data wrangling II",
    "section": "Variation in trade over time: the brutal way",
    "text": "Variation in trade over time: the brutal way\nAnd so on for all countriesâ€¦ but this is brutally tedious\n\ntrade %&gt;%\n    filter(country == \"Nepal\") %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  var_trade\n      &lt;dbl&gt;\n1     2096."
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-group_by",
    "href": "slides/f24/06-relationships.html#using-group_by",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can use group_by() in combination with summarize() to calculate some stat across or by another variable in the data:\n\n\ntrade %&gt;%\n    group_by(country) %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\n# A tibble: 202 Ã— 2\n   country           var_trade\n   &lt;chr&gt;                 &lt;dbl&gt;\n 1 Afghanistan           2485.\n 2 Albania               1754.\n 3 Algeria              14819.\n 4 Andorra                 NA \n 5 Angola                7584.\n 6 Antigua & Barbuda       NA \n 7 Argentina            19530.\n 8 Armenia               1575.\n 9 Australia            72784.\n10 Austria              58474.\n# â„¹ 192 more rows"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-group_by-1",
    "href": "slides/f24/06-relationships.html#using-group_by-1",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nLike with anything else, we can store our results as a new object:\n\nvar_time = trade %&gt;%\n    group_by(country) %&gt;%\n    summarise(var_trade = sd(imports, na.rm = TRUE))\n\nvar_time\n\n# A tibble: 202 Ã— 2\n   country           var_trade\n   &lt;chr&gt;                 &lt;dbl&gt;\n 1 Afghanistan           2485.\n 2 Albania               1754.\n 3 Algeria              14819.\n 4 Andorra                 NA \n 5 Angola                7584.\n 6 Antigua & Barbuda       NA \n 7 Argentina            19530.\n 8 Armenia               1575.\n 9 Australia            72784.\n10 Austria              58474.\n# â„¹ 192 more rows"
  },
  {
    "objectID": "slides/f24/06-relationships.html#variation-in-trade-over-time",
    "href": "slides/f24/06-relationships.html#variation-in-trade-over-time",
    "title": "Relationships I",
    "section": "Variation in trade over time",
    "text": "Variation in trade over time\nAnd use our object to make plots:\n\n\nWhat does this graph tell us?"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-group_by-2",
    "href": "slides/f24/06-relationships.html#using-group_by-2",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can even group_by() multiple variables ğŸ¤¯\n\nAverage life expectancy in the world per year:\n\n\n\ngapminder %&gt;%\n    group_by(year) %&gt;%\n    summarise(avg_life = mean(lifeExp))\n\n# A tibble: 12 Ã— 2\n    year avg_life\n   &lt;int&gt;    &lt;dbl&gt;\n 1  1952     49.1\n 2  1957     51.5\n 3  1962     53.6\n 4  1967     55.7\n 5  1972     57.6\n 6  1977     59.6\n 7  1982     61.5\n 8  1987     63.2\n 9  1992     64.2\n10  1997     65.0\n11  2002     65.7\n12  2007     67.0"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-group_by-3",
    "href": "slides/f24/06-relationships.html#using-group_by-3",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nWe can even group_by() multiple variables ğŸ¤¯\n\nAverage life expectancy per year per continent:\n\n\n\ngapminder %&gt;%\n    group_by(year, continent) %&gt;%\n    summarise(avg_life = mean(lifeExp))\n\n# A tibble: 60 Ã— 3\n# Groups:   year [12]\n    year continent avg_life\n   &lt;int&gt; &lt;fct&gt;        &lt;dbl&gt;\n 1  1952 Africa        39.1\n 2  1952 Americas      53.3\n 3  1952 Asia          46.3\n 4  1952 Europe        64.4\n 5  1952 Oceania       69.3\n 6  1957 Africa        41.3\n 7  1957 Americas      56.0\n 8  1957 Asia          49.3\n 9  1957 Europe        66.7\n10  1957 Oceania       70.3\n# â„¹ 50 more rows"
  },
  {
    "objectID": "slides/f24/06-relationships.html#using-group_by-4",
    "href": "slides/f24/06-relationships.html#using-group_by-4",
    "title": "Relationships I",
    "section": "Using group_by()",
    "text": "Using group_by()\nStore as object:\n\nlife_continent_year = gapminder %&gt;%\n    group_by(year, continent) %&gt;%\n    summarise(avg_life = mean(lifeExp))"
  },
  {
    "objectID": "slides/f24/06-relationships.html#make-the-plot",
    "href": "slides/f24/06-relationships.html#make-the-plot",
    "title": "Relationships I",
    "section": "Make the plot",
    "text": "Make the plot\n\nggplot(life_continent_year, aes(x = year, y = avg_life, color = continent)) + geom_line(size = 2,\n    alpha = 0.8) + labs(x = \"Year\", y = \"Average life expectancy\")"
  },
  {
    "objectID": "slides/f24/06-relationships.html#your-turn-ugly-prejudice",
    "href": "slides/f24/06-relationships.html#your-turn-ugly-prejudice",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\n\nResearchers use feeling thermometers to measure how people feel about different groups\n\n\nğŸŒ¡ goes from zero (strong dislike) to 100 (strong like)\n\n\n\n\n\nSample of respondents from {therm}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbirth_year\nsex\nrace\nparty_id\neduc\nft_black\nft_white\nft_hisp\nft_asian\nft_muslim\nft_jew\nft_christ\nft_fem\nft_immig\nft_gays\nft_unions\nft_police\nft_altright\nft_evang\nft_dem\nft_rep\n\n\n\n\n1931\nFemale\nWhite\nDemocrat\n4-year\n51\n50\n79\n50\n50\n50\n50\n99\n95\n50\n80\n76\n1\n50\n88\n21\n\n\n1952\nFemale\nWhite\nRepublican\n2-year\n98\n90\n95\n100\n61\n100\n98\n65\n96\n82\n62\n95\n50\n96\n86\n96\n\n\n1931\nMale\nWhite\nIndependent\nHigh school graduate\n87\n90\n91\n88\n49\n25\n50\n74\n77\n77\n100\n78\n0\n2\n91\n20\n\n\n1952\nMale\nWhite\nRepublican\n4-year\n90\n85\n90\n96\n80\n91\n94\n25\n91\n71\n20\n94\n50\n70\n22\n83\n\n\n1939\nFemale\nWhite\nDemocrat\n2-year\n100\n50\n100\n100\n100\n100\n28\n100\n100\n100\n100\n28\nNA\nNA\n99\nNA\n\n\n1959\nFemale\nBlack\nDemocrat\nPost-grad\n98\n70\n99\n100\n100\n100\n100\n73\n100\n54\n80\n24\n4\n53\n53\n4"
  },
  {
    "objectID": "slides/f24/06-relationships.html#your-turn-ugly-prejudice-1",
    "href": "slides/f24/06-relationships.html#your-turn-ugly-prejudice-1",
    "title": "Relationships I",
    "section": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\nUsing the therm dataset:\n\nCalculate average ğŸŒ¡ towards two groups of your choosing\nBreak those averages down across one respondent characteristic. Make sense of the patterns\nBreak those averages down across two (ğŸ¤¯ğŸ¤¯ğŸ¤¯) respondent characteristics. Make sense of the patterns\n\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/f24/06-relationships.html#how-americans-feel-about-different-groups",
    "href": "slides/f24/06-relationships.html#how-americans-feel-about-different-groups",
    "title": "Relationships I",
    "section": "How Americans feel about different groups",
    "text": "How Americans feel about different groups\n\n\nCode\ntherm_long = therm %&gt;%\n    filter(party_id %in% c(\"Democrat\", \"Republican\")) %&gt;%\n    pivot_longer(cols = contains(\"ft_\"), names_to = \"group\", values_to = \"thermometer\",\n        names_pattern = \"ft_?(.*)\") %&gt;%\n    group_by(party_id, group) %&gt;%\n    summarise(avg = mean(thermometer, na.rm = TRUE))\n\n\nggplot(therm_long, aes(x = group, y = avg, color = party_id)) + geom_point(size = 2,\n    alpha = 0.7) + coord_flip() + theme_bw(base_family = \"Fira Sans\", base_size = 14) +\n    labs(x = NULL, y = \"Average thermometer rating (%)\", color = \"Party self-ID:\") +\n    scale_color_manual(values = c(\"blue\", \"red\")) + theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\nNote\n\n\nYouâ€™re not responsible for this graph"
  },
  {
    "objectID": "slides/f24/06-relationships.html#math-in-r",
    "href": "slides/f24/06-relationships.html#math-in-r",
    "title": "Relationships I",
    "section": "Math in R",
    "text": "Math in R\nFor reference, the math operations:\n\n\n\nMath symbols in R\n\n\nkeyboard\noperation\nexample\n\n\n\n\n-\nMinus\nmutate(profit = gross - budget)\n\n\n+\nPlus\nmutate(total = part1 + part2)\n\n\n/\nDivide\nmutate(gdp_capita = gdp / capita)\n\n\n*\nMultiply\nmutate(gdp = gdp_capita * population)\n\n\n^\nRaise to power\nmutate(age_2 = age^2)"
  },
  {
    "objectID": "slides/f24/07-relationships.html#ugly-prejudice",
    "href": "slides/f24/07-relationships.html#ugly-prejudice",
    "title": "Relationships II",
    "section": "ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\n\nResearchers use feeling thermometers to measure how people feel about different groups\n\n\nğŸŒ¡ goes from zero (strong dislike) to 100 (strong like)\n\nwhat does it mean?"
  },
  {
    "objectID": "slides/f24/07-relationships.html#how-do-americans-feel-about",
    "href": "slides/f24/07-relationships.html#how-do-americans-feel-about",
    "title": "Relationships II",
    "section": "How do Americans feel aboutâ€¦",
    "text": "How do Americans feel aboutâ€¦\nThe police?\n\ntherm |&gt; \n  summarise(avg_police = mean(ft_police, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  avg_police\n       &lt;dbl&gt;\n1       75.7\n\n\n\nUnions?\n\ntherm |&gt; \n  summarise(avg_unions = mean(ft_unions, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  avg_unions\n       &lt;dbl&gt;\n1       53.4"
  },
  {
    "objectID": "slides/f24/07-relationships.html#making-comparisons",
    "href": "slides/f24/07-relationships.html#making-comparisons",
    "title": "Relationships II",
    "section": "Making comparisons",
    "text": "Making comparisons\nWe can compare which groups are viewed more (or less) favorably:\n\ntherm %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 6\n  avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n       &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1       75.7       50.0      76.1      61.9    52.1      71.3"
  },
  {
    "objectID": "slides/f24/07-relationships.html#the-partisan-breakdown",
    "href": "slides/f24/07-relationships.html#the-partisan-breakdown",
    "title": "Relationships II",
    "section": "The partisan breakdown",
    "text": "The partisan breakdown\nWe can look for patterns by using group_by() to separate average support by respondent characteristics:\n\nHow do partisans feel about each group?\n\ntherm %&gt;% \n  # grouped summaries\n  group_by(party_id) %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE))\n\n# A tibble: 5 Ã— 7\n  party_id    avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n  &lt;fct&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1 Democrat          67.8       64.6      74.1      71.7    73.9      78.3\n2 Republican        87.6       33.3      81.7      50.2    30.3      65.6\n3 Independent       74.2       49.0      74.1      61.5    48.3      69.1\n4 Other             72.7       45.1      71.1      65.4    40.7      70.2\n5 Not sure          70.1       47.1      70.8      56.9    54.0      66.7\n\n\n\ntake code and iteratively change it"
  },
  {
    "objectID": "slides/f24/07-relationships.html#breaking-down-support",
    "href": "slides/f24/07-relationships.html#breaking-down-support",
    "title": "Relationships II",
    "section": "Breaking down support",
    "text": "Breaking down support\nWe can use filter() to focus our comparison on fewer party ID categories:\n\n\ntherm_by_party = therm %&gt;% \n  # look only at Democrats and Republicans\n  filter(party_id == \"Democrat\" | party_id == \"Republican\") %&gt;% \n  # grouped summaries\n  group_by(party_id) %&gt;% \n  summarise(avg_police = mean(ft_police, na.rm = TRUE), \n            avg_muslim = mean(ft_muslim, na.rm = TRUE), \n            avg_white = mean(ft_white, na.rm = TRUE), \n            avg_immig = mean(ft_immig, na.rm = TRUE), \n            avg_fem = mean(ft_fem, na.rm = TRUE), \n            avg_black = mean(ft_black, na.rm = TRUE))\ntherm_by_party\n\n# A tibble: 2 Ã— 7\n  party_id   avg_police avg_muslim avg_white avg_immig avg_fem avg_black\n  &lt;fct&gt;           &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1 Democrat         67.8       64.6      74.1      71.7    73.9      78.3\n2 Republican       87.6       33.3      81.7      50.2    30.3      65.6\n\n\n\nWhere are the biggest partisan gaps? Whatâ€™s going on with immigrants? Is this really an apples-to-apples comparison?"
  },
  {
    "objectID": "slides/f24/07-relationships.html#the-immigration-gap",
    "href": "slides/f24/07-relationships.html#the-immigration-gap",
    "title": "Relationships II",
    "section": "The immigration gap",
    "text": "The immigration gap\n\nWhat explains this gap? How much is it about each partyâ€™s ideology and how much is about who is in each party?\n\n\nImmigrants in the USA are more likely to identify as Democrat\n\n\nCould it be that the big gap we see is all because immigrants are both more likely to be Democrats and have more positive views of own community?\n\n\nOne test: compare non-migrants in each party to see if the gap persists"
  },
  {
    "objectID": "slides/f24/07-relationships.html#making-sense-of-the-immigration-gap",
    "href": "slides/f24/07-relationships.html#making-sense-of-the-immigration-gap",
    "title": "Relationships II",
    "section": "Making sense of the immigration gap",
    "text": "Making sense of the immigration gap\nWe want an apples to apples comparison: White Dems vs.Â White Reps, Asian Dems vs.Â Asian Reps, and so on\n\nWe can â€œtestâ€ this concern by breaking the data down further, by race:\n\n\n\ntherm %&gt;% \n  filter(party_id == \"Democrat\" | party_id == \"Republican\") %&gt;% \n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))\n\n# A tibble: 14 Ã— 3\n# Groups:   party_id [2]\n   party_id   race            avg_imm\n   &lt;fct&gt;      &lt;fct&gt;             &lt;dbl&gt;\n 1 Democrat   White              71.2\n 2 Democrat   Black              71.1\n 3 Democrat   Hispanic           76.2\n 4 Democrat   Asian              75.5\n 5 Democrat   Native American    62.9\n 6 Democrat   Mixed              74.6\n 7 Democrat   Other              84.1\n 8 Republican White              49.8\n 9 Republican Black              54.6\n10 Republican Hispanic           58.0\n11 Republican Asian              54.7\n12 Republican Native American    47.4\n13 Republican Mixed              51.4\n14 Republican Other              42.3"
  },
  {
    "objectID": "slides/f24/07-relationships.html#making-sense-of-the-immigration-gap-1",
    "href": "slides/f24/07-relationships.html#making-sense-of-the-immigration-gap-1",
    "title": "Relationships II",
    "section": "Making sense of the immigration gap",
    "text": "Making sense of the immigration gap\nWe can filter to focus on fewer races:\n\n\ntherm %&gt;% \n  filter(party_id == \"Democrat\" | party_id == \"Republican\") %&gt;% \n  filter(race %in% c(\"White\", \"Black\", \"Hispanic\", \"Asian\")) |&gt; \n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))\n\n# A tibble: 8 Ã— 3\n# Groups:   party_id [2]\n  party_id   race     avg_imm\n  &lt;fct&gt;      &lt;fct&gt;      &lt;dbl&gt;\n1 Democrat   White       71.2\n2 Democrat   Black       71.1\n3 Democrat   Hispanic    76.2\n4 Democrat   Asian       75.5\n5 Republican White       49.8\n6 Republican Black       54.6\n7 Republican Hispanic    58.0\n8 Republican Asian       54.7"
  },
  {
    "objectID": "slides/f24/07-relationships.html#visualizing-the-pattern",
    "href": "slides/f24/07-relationships.html#visualizing-the-pattern",
    "title": "Relationships II",
    "section": "Visualizing the pattern",
    "text": "Visualizing the pattern\nWe can create a new object to make a nice plot:\n\ntherm_party_immig = therm %&gt;% \n  filter(party_id == \"Democrat\" | party_id == \"Republican\") %&gt;% \n  filter(race %in% c(\"White\", \"Black\", \"Hispanic\", \"Asian\")) |&gt; \n  group_by(party_id, race) %&gt;%\n  summarise(avg_imm = mean(ft_immig, na.rm = TRUE))"
  },
  {
    "objectID": "slides/f24/07-relationships.html#the-immigration-attitudes-gap",
    "href": "slides/f24/07-relationships.html#the-immigration-attitudes-gap",
    "title": "Relationships II",
    "section": "The immigration attitudes gap",
    "text": "The immigration attitudes gap\n\n\nCode\nggplot(therm_party_immig, aes(y = avg_imm, \n                              x = race, fill = party_id)) + \n  geom_col(position = \"dodge\") + \n  labs(x = \"Respondent race\", y = \"Average thermometer level\\nfor immigrants\", \n       fill = \"Respondent race:\") + \n  theme(legend.position = \"none\") + \n  geom_label(aes(label = party_id), position = position_dodge(1), color = \"white\") + \n  scale_fill_manual(values = c(blue, red))\n\n\n\n\ncomparing apples to apples, the gap persists"
  },
  {
    "objectID": "slides/f24/07-relationships.html#non-differences-can-be-surprsing-too",
    "href": "slides/f24/07-relationships.html#non-differences-can-be-surprsing-too",
    "title": "Relationships II",
    "section": "Non-differences can be surprsing too",
    "text": "Non-differences can be surprsing too\n\ntherm %&gt;% \n  summarise(avg_dems = mean(ft_dem, na.rm = TRUE), \n            avg_reps = mean(ft_rep, na.rm = TRUE))\n\n# A tibble: 1 Ã— 2\n  avg_dems avg_reps\n     &lt;dbl&gt;    &lt;dbl&gt;\n1     49.4     43.3\n\n\n\nPretty neutral feelings; mass polarization is dead!"
  },
  {
    "objectID": "slides/f24/07-relationships.html#oh",
    "href": "slides/f24/07-relationships.html#oh",
    "title": "Relationships II",
    "section": "Ohâ€¦",
    "text": "Ohâ€¦\nBreaking down data says something different\n\n\ntherm %&gt;% \n  group_by(party_id) %&gt;%\n  summarise(dems = mean(ft_dem, na.rm = TRUE), \n            reps = mean(ft_rep, na.rm = TRUE))\n\n# A tibble: 5 Ã— 3\n  party_id     dems  reps\n  &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Democrat     79.9  22.1\n2 Republican   21.5  72.4\n3 Independent  41.2  39.6\n4 Other        31.9  38.7\n5 Not sure     43.2  42.3"
  },
  {
    "objectID": "slides/f24/07-relationships.html#negative-polarization",
    "href": "slides/f24/07-relationships.html#negative-polarization",
    "title": "Relationships II",
    "section": "Negative polarization",
    "text": "Negative polarization"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dummy-variables-1",
    "href": "slides/f24/07-relationships.html#dummy-variables-1",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nOften, categorical variables are coded 0/1 to represent â€œyes/noâ€ or â€œpresence/absenceâ€\n\n\n\n\nsample from leaders dataset\n\n\ncountry\nleader\nmil_service\ncombat\n\n\n\n\nNEW\nHolland\n1\n1\n\n\nLEB\nElias Hrawi\n0\n0\n\n\nPER\nBenavides\n1\n1\n\n\nIRE\nHaughey\n0\n0\n\n\nBOT\nIan Khama\nNA\nNA\n\n\n\n\n\n\n\n\nmil_service is a dummy variable: 1 if leader has military service, 0 otherwise; combat is the same but for combat experience"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dummy-proportions",
    "href": "slides/f24/07-relationships.html#dummy-proportions",
    "title": "Relationships II",
    "section": "Dummy proportions",
    "text": "Dummy proportions\nDummy variables are useful for lots of reasons\n\nOne is that when you take the average of a dummy variable you get a proportion\n\n\nCoffee today? 1, 0, 0, 0, 1\n\n\nAverage of coffee = \\(\\frac{1 + 0 + 0 + 0 + 1}{5} = .40\\)\n\n\nWe can think about that proportion as a probability or likelihood\n\n\nWhat is the probability a random student in class has had coffee? 2/5 = 40%"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dummy-variables-2",
    "href": "slides/f24/07-relationships.html#dummy-variables-2",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nWhen you take the average of a dummy variable you get a proportion:\n\nleader %&gt;% \n  summarise(combat = mean(combat, na.rm = TRUE)) \n\n# A tibble: 1 Ã— 1\n  combat\n   &lt;dbl&gt;\n1  0.246\n\n\nApproximately 24% of world leaders have combat experience, or\n\nthereâ€™s a 24% chance a randomly selected leader has combat experience"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dummy-variables-3",
    "href": "slides/f24/07-relationships.html#dummy-variables-3",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nLike with anything else, we can take averages by groups\n\nFor example, combat experience by country\n\n\n\nleader %&gt;% \n  group_by(country) %&gt;%\n  summarise(combat = mean(combat, na.rm = TRUE))\n\n# A tibble: 189 Ã— 2\n   country combat\n   &lt;chr&gt;    &lt;dbl&gt;\n 1 AFG      0.479\n 2 ALB      0.255\n 3 ALG      0.403\n 4 ANG      0    \n 5 ARG      0.362\n 6 ARM      0    \n 7 AUH      0.958\n 8 AUL      0.110\n 9 AUS      0.234\n10 AZE      0    \n# â„¹ 179 more rows"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dummy-variables-4",
    "href": "slides/f24/07-relationships.html#dummy-variables-4",
    "title": "Relationships II",
    "section": "Dummy variables",
    "text": "Dummy variables\nWe can store as an object, to make a plot:\n\n\nCode\ncombat_country = leader %&gt;% \n  group_by(country) %&gt;%\n  # proportion who've seen combat\n  summarise(combat = mean(combat, na.rm = TRUE)) |&gt; \n  # subset to just the top 10 in terms of combat experience\n  slice_max(order_by = combat, n = 10)\n\nggplot(combat_country, aes(y = reorder(country, combat),\n                           x = combat)) + \n  geom_col(fill = \"#213772\") + \n  labs(x = \"Proportion of leaders with combat experience\", \n       y = \"Country\", title = \"Top 10 countries with leaders who have seen combat\")"
  },
  {
    "objectID": "slides/f24/07-relationships.html#your-turn-bob-ross",
    "href": "slides/f24/07-relationships.html#your-turn-bob-ross",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nepisode\nseason\nepisode_num\ntitle\napple_frame\naurora_borealis\nbarn\nbeach\nboat\nbridge\nbuilding\nbushes\ncabin\ncactus\ncircle_frame\ncirrus\ncliff\nclouds\nconifer\ncumulus\ndeciduous\ndiane_andre\ndock\ndouble_oval_frame\nfarm\nfence\nfire\nflorida_frame\nflowers\nfog\nframed\ngrass\nguest\nhalf_circle_frame\nhalf_oval_frame\nhills\nlake\nlakes\nlighthouse\nmill\nmoon\nmountain\nmountains\nnight\nocean\noval_frame\npalm_trees\npath\nperson\nportrait\nrectangle_3d_frame\nrectangular_frame\nriver\nrocks\nseashell_frame\nsnow\nsnowy_mountain\nsplit_frame\nsteve_ross\nstructure\nsun\ntomb_frame\ntree\ntrees\ntriple_frame\nwaterfall\nwaves\nwindmill\nwindow_frame\nwinter\nwood_framed\n\n\n\n\nS01E01\n1\n1\nA WALK IN THE WOODS\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E02\n1\n2\nMT. MCKINLEY\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0\n\n\nS01E03\n1\n3\nEBONY SUNSET\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0\n\n\nS01E04\n1\n4\nWINTER MIST\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E05\n1\n5\nQUIET STREAM\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n\n\nS01E06\n1\n6\nWINTER MOON\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n0\n1\n0\n0\n1\n1\n0\n0\n0\n0\n0\n1\n0"
  },
  {
    "objectID": "slides/f24/07-relationships.html#your-turn-bob-ross-1",
    "href": "slides/f24/07-relationships.html#your-turn-bob-ross-1",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ¨ Bob Ross ğŸ¨ ğŸš¨\nUsing the bob_ross data from fivethirtyeight package\n\nHow likely was Bob Ross to include a happy little tree in one of his paintings?\nHow has the frequency with which Bob Ross included clouds in his paintings changed across the showâ€™s seasons? Make a time series to illustrate.\nIf there is a mountain in a Bob Ross painting, how likely is it that mountain is snowy (snowy_mountain)?\nHow much more likely was Steve Ross (steve) to paint a lake (lake) than his dad?\n\n\n\n\nâˆ’+\n10:00"
  },
  {
    "objectID": "slides/f24/07-relationships.html#analyzing-categorical-data-1",
    "href": "slides/f24/07-relationships.html#analyzing-categorical-data-1",
    "title": "Relationships II",
    "section": "Analyzing categorical data",
    "text": "Analyzing categorical data\n\nSome variables have values that are categories (race, sex, etc.)\n\n\nCanâ€™t take the mean of a category!\n\n\nBut we can look at the proportions of observations in each category, and look for patterns there"
  },
  {
    "objectID": "slides/f24/07-relationships.html#pokemon-types",
    "href": "slides/f24/07-relationships.html#pokemon-types",
    "title": "Relationships II",
    "section": "Pokemon types",
    "text": "Pokemon types\nHow many Pokemon are there of each type? What are the most and least common types?\n\n\n\n\n\nname\ntype1\n\n\n\n\nAipom\nnormal\n\n\nClaydol\nground\n\n\nLitwick\nghost\n\n\nNinetales\nfire\n\n\nSawk\nfighting\n\n\nHitmonchan\nfighting\n\n\nScizor\nbug"
  },
  {
    "objectID": "slides/f24/07-relationships.html#counting-categories",
    "href": "slides/f24/07-relationships.html#counting-categories",
    "title": "Relationships II",
    "section": "Counting categories",
    "text": "Counting categories\nWe can use a new function count(), to count how many observations are in each category:\n\npokemon\n\n# A tibble: 801 Ã— 14\n   name       type1 type2  height_m weight_kg capture_rate    hp attack defense\n   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1 Bulbasaur  grass poison      0.7       6.9           45    45     49      49\n 2 Ivysaur    grass poison      1        13             45    60     62      63\n 3 Venusaur   grass poison      2       100             45    80    100     123\n 4 Charmander fire  &lt;NA&gt;        0.6       8.5           45    39     52      43\n 5 Charmeleon fire  &lt;NA&gt;        1.1      19             45    58     64      58\n 6 Charizard  fire  flying      1.7      90.5           45    78    104      78\n 7 Squirtle   water &lt;NA&gt;        0.5       9             45    44     48      65\n 8 Wartortle  water &lt;NA&gt;        1        22.5           45    59     63      80\n 9 Blastoise  water &lt;NA&gt;        1.6      85.5           45    79    103     120\n10 Caterpie   bug   &lt;NA&gt;        0.3       2.9          255    45     30      35\n# â„¹ 791 more rows\n# â„¹ 5 more variables: sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,\n#   generation &lt;dbl&gt;, is_legendary &lt;dbl&gt;"
  },
  {
    "objectID": "slides/f24/07-relationships.html#counting-categories-1",
    "href": "slides/f24/07-relationships.html#counting-categories-1",
    "title": "Relationships II",
    "section": "Counting categories",
    "text": "Counting categories\nWe can use a new function count(), to count how many observations are in each category:\n\npokemon %&gt;% \n  count(type1) \n\n# A tibble: 18 Ã— 2\n   type1        n\n   &lt;chr&gt;    &lt;int&gt;\n 1 bug         72\n 2 dark        29\n 3 dragon      27\n 4 electric    39\n 5 fairy       18\n 6 fighting    28\n 7 fire        52\n 8 flying       3\n 9 ghost       27\n10 grass       78\n11 ground      32\n12 ice         23\n13 normal     105\n14 poison      32\n15 psychic     53\n16 rock        45\n17 steel       24\n18 water      114"
  },
  {
    "objectID": "slides/f24/07-relationships.html#from-counts-to-percents",
    "href": "slides/f24/07-relationships.html#from-counts-to-percents",
    "title": "Relationships II",
    "section": "From counts to percents",
    "text": "From counts to percents\nWe can can then use mutate() to calculate the percent in each group:\n\npokemon %&gt;% \n  count(type1) %&gt;% \n  mutate(percent = n / sum(n) * 100) \n\n# A tibble: 18 Ã— 3\n   type1        n percent\n   &lt;chr&gt;    &lt;int&gt;   &lt;dbl&gt;\n 1 bug         72   8.99 \n 2 dark        29   3.62 \n 3 dragon      27   3.37 \n 4 electric    39   4.87 \n 5 fairy       18   2.25 \n 6 fighting    28   3.50 \n 7 fire        52   6.49 \n 8 flying       3   0.375\n 9 ghost       27   3.37 \n10 grass       78   9.74 \n11 ground      32   4.00 \n12 ice         23   2.87 \n13 normal     105  13.1  \n14 poison      32   4.00 \n15 psychic     53   6.62 \n16 rock        45   5.62 \n17 steel       24   3.00 \n18 water      114  14.2  \n\n\n\nstop to show the n/sum(n)"
  },
  {
    "objectID": "slides/f24/07-relationships.html#dont-forget",
    "href": "slides/f24/07-relationships.html#dont-forget",
    "title": "Relationships II",
    "section": "Donâ€™t forget!",
    "text": "Donâ€™t forget!\nWe can then store as object for plotting:\n\ntype_pct = pokemon %&gt;% \n  count(type1) %&gt;% \n  mutate(percent = n/sum(n) * 100)"
  },
  {
    "objectID": "slides/f24/07-relationships.html#the-plot",
    "href": "slides/f24/07-relationships.html#the-plot",
    "title": "Relationships II",
    "section": "The plot",
    "text": "The plot\n\n\nCode\nggplot(type_pct, aes(y = reorder(type1, percent), \n                     x = percent)) + \n  geom_col(color = \"white\", fill = \"darkblue\") + \n  theme(legend.position = \"none\") +\n  labs(x = \"Percent of Pokemon\", \n       y = \"Type\", \n       title = \"Distribution of Pokemon types\")"
  },
  {
    "objectID": "slides/f24/07-relationships.html#your-turn-flying-etiquette",
    "href": "slides/f24/07-relationships.html#your-turn-flying-etiquette",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ’º Flying etiquette ğŸ’º ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’º Flying etiquette ğŸ’º ğŸš¨\nA survey of whatâ€™s rude to do on a plane:\n\n\n\n\n\nSample from the flying dataset\n\n\ngender\nage\nheight\nchildren_under_18\nhousehold_income\neducation\nlocation\nfrequency\nrecline_frequency\nrecline_obligation\nrecline_rude\nrecline_eliminate\nswitch_seats_friends\nswitch_seats_family\nwake_up_bathroom\nwake_up_walk\nbaby\nunruly_child\ntwo_arm_rests\nmiddle_arm_rest\nshade\nunsold_seat\ntalk_stranger\nget_up\nelectronics\nsmoked\n\n\n\n\nMale\n45-60\n6'5\"\nTRUE\n$50,000 - $99,999\nBachelor degree\nSouth Atlantic\nA few times per week\nAlways\nFALSE\nNo\nFALSE\nNo\nNo\nNo\nNo\nNo\nNo\nOther (please specify)\nOther (please specify)\nEveryone in the row should have some say\nNo\nNo\nMore than five times times\nTRUE\nTRUE\n\n\nFemale\n30-44\n5'4\"\nFALSE\n$25,000 - $49,999\nSome college or Associate degree\nPacific\nOnce a year or less\nAlways\nFALSE\nNo\nFALSE\nSomewhat\nSomewhat\nNo\nSomewhat\nNo\nVery\nThe person in the middle seat gets both arm rests\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nVery\nSomewhat\nOnce\nFALSE\nFALSE\n\n\nMale\n&gt; 60\n6'0\"\nFALSE\n$50,000 - $99,999\nBachelor degree\nWest South Central\nOnce a year or less\nUsually\nTRUE\nNo\nFALSE\nNo\nNo\nNo\nNo\nNo\nSomewhat\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nNo\nNo\nThree times\nFALSE\nFALSE\n\n\nFemale\n&gt; 60\n5'3\"\nFALSE\nNA\nSome college or Associate degree\nWest South Central\nOnce a month or less\nAbout half the time\nFALSE\nNo\nFALSE\nSomewhat\nNo\nNo\nNo\nNo\nSomewhat\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nNo\nNo\nThree times\nTRUE\nFALSE\n\n\nFemale\n&gt; 60\n5'5\"\nFALSE\nNA\nLess than high school degree\nWest North Central\nOnce a year or less\nUsually\nTRUE\nNo\nFALSE\nNo\nNo\nSomewhat\nVery\nNo\nVery\nWhoever puts their arm on the arm rest first\nWhoever puts their arm on the arm rest first\nEveryone in the row should have some say\nNo\nNo\nThree times\nTRUE\nFALSE\n\n\nFemale\n&gt; 60\n5'6\"\nFALSE\n$25,000 - $49,999\nHigh school degree\nNew England\nOnce a year or less\nAbout half the time\nTRUE\nSomewhat\nFALSE\nNo\nNo\nSomewhat\nSomewhat\nNo\nNo\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nSomewhat\nNo\nThree times\nFALSE\nFALSE\n\n\nMale\n30-44\n5'7\"\nTRUE\n$50,000 - $99,999\nBachelor degree\nSouth Atlantic\nOnce a year or less\nOnce in a while\nFALSE\nNo\nFALSE\nNo\nNo\nSomewhat\nVery\nNo\nVery\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nSomewhat\nNo\nTwice\nFALSE\nFALSE\n\n\nMale\n18-29\n5'2\"\nFALSE\n$50,000 - $99,999\nBachelor degree\nWest South Central\nOnce a year or less\nOnce in a while\nFALSE\nSomewhat\nFALSE\nSomewhat\nNo\nVery\nVery\nSomewhat\nSomewhat\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nNo\nNo\nTwice\nFALSE\nFALSE\n\n\nMale\n30-44\n5'6\"\nFALSE\n$50,000 - $99,999\nBachelor degree\nWest South Central\nOnce a month or less\nAbout half the time\nFALSE\nNo\nFALSE\nSomewhat\nSomewhat\nSomewhat\nSomewhat\nSomewhat\nVery\nThe arm rests should be shared\nThe arm rests should be shared\nEveryone in the row should have some say\nSomewhat\nNo\nTwice\nFALSE\nFALSE\n\n\nFemale\n18-29\n5'7\"\nFALSE\n$0 - $24,999\nBachelor degree\nEast South Central\nOnce a year or less\nNever\nTRUE\nSomewhat\nTRUE\nNo\nNo\nSomewhat\nVery\nNo\nVery\nThe arm rests should be shared\nThe arm rests should be shared\nThe person in the window seat should have exclusive control\nNo\nNo\nTwice\nFALSE\nFALSE"
  },
  {
    "objectID": "slides/f24/07-relationships.html#your-turn-flying-etiquette-1",
    "href": "slides/f24/07-relationships.html#your-turn-flying-etiquette-1",
    "title": "Relationships II",
    "section": "ğŸš¨ Your turn: ğŸ’º flying etiquette ğŸ’º ğŸš¨",
    "text": "ğŸš¨ Your turn: ğŸ’º flying etiquette ğŸ’º ğŸš¨\nUsing the flying data from fivethirtyeight\n\nIn a row of three seats, who should get to use the middle arm rest (two_arm_rests)? Make a barplot of the percent of respondents who gave each answer.\nIn general, is it rude to knowingly bring unruly children on a plane? Make a barplot of the percent who gave each answer, but separated by whether the respondent has a kid or not.\nMake a barplot of responses to an etiquette dilemma of your liking. Bonus points if you break it down by a respondent characteristic.\n\n\n\n\nâˆ’+\n15:00"
  },
  {
    "objectID": "slides/f24/07-relationships.html#ugly-prejudice-1",
    "href": "slides/f24/07-relationships.html#ugly-prejudice-1",
    "title": "Relationships II",
    "section": "ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨",
    "text": "ğŸŒ¡ï¸ ugly prejudice ğŸŒ¡ï¸ ğŸš¨\n\n\n\nSample of respondents from {therm}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbirth_year\nsex\nrace\nparty_id\neduc\nft_black\nft_white\nft_hisp\nft_asian\nft_muslim\nft_jew\nft_christ\nft_fem\nft_immig\nft_gays\nft_unions\nft_police\nft_altright\nft_evang\nft_dem\nft_rep\n\n\n\n\n1931\nFemale\nWhite\nDemocrat\n4-year\n51\n50\n79\n50\n50\n50\n50\n99\n95\n50\n80\n76\n1\n50\n88\n21\n\n\n1952\nFemale\nWhite\nRepublican\n2-year\n98\n90\n95\n100\n61\n100\n98\n65\n96\n82\n62\n95\n50\n96\n86\n96\n\n\n1931\nMale\nWhite\nIndependent\nHigh school graduate\n87\n90\n91\n88\n49\n25\n50\n74\n77\n77\n100\n78\n0\n2\n91\n20\n\n\n1952\nMale\nWhite\nRepublican\n4-year\n90\n85\n90\n96\n80\n91\n94\n25\n91\n71\n20\n94\n50\n70\n22\n83\n\n\n1939\nFemale\nWhite\nDemocrat\n2-year\n100\n50\n100\n100\n100\n100\n28\n100\n100\n100\n100\n28\nNA\nNA\n99\nNA\n\n\n1959\nFemale\nBlack\nDemocrat\nPost-grad\n98\n70\n99\n100\n100\n100\n100\n73\n100\n54\n80\n24\n4\n53\n53\n4"
  },
  {
    "objectID": "example/04-example.html#class-bob_ross",
    "href": "example/04-example.html#class-bob_ross",
    "title": "Relationships",
    "section": "Class: bob_ross",
    "text": "Class: bob_ross\nHow likely to include a tree?\n\nlibrary(fivethirtyeight)\n\nbob_ross |&gt;\n  summarise(tree_pct = mean(tree, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  tree_pct\n     &lt;dbl&gt;\n1    0.896\n\n\nFrequency of clouds over seasons?\n\nclouds_season = bob_ross |&gt;\n  group_by(season) |&gt;\n  summarise(clouds_pct = mean(clouds, na.rm = TRUE))\n\nggplot(clouds_season, aes(x = season, y = clouds_pct)) + geom_line()\n\n\n\n\n\n\n\n\nIf there is a mountain in a Bob Ross painting, how likely is it that mountain is snowy (snowy_mountain)?\n\nbob_ross |&gt;\n  filter(mountain == 1) |&gt;\n  summarise(snowy_pct = mean(snowy_mountain, na.rm = TRUE))\n\n# A tibble: 1 Ã— 1\n  snowy_pct\n      &lt;dbl&gt;\n1     0.681"
  },
  {
    "objectID": "example/04-example.html#class-flying-etiquette",
    "href": "example/04-example.html#class-flying-etiquette",
    "title": "Relationships",
    "section": "class: flying etiquette",
    "text": "class: flying etiquette\nIn a row of three seats, who should get to use the middle arm rest (two_arm_rests)? Make a barplot of the percent of respondents who gave each answer.\n\narms = flying |&gt;\n  group_by(two_arm_rests) |&gt;\n  tally() |&gt;\n  mutate(percent = n / sum(n) * 100)\n\nggplot(arms, aes(y = two_arm_rests, x = percent)) + geom_col()\n\n\n\n\n\n\n\n\nIn general, is it rude to knowingly bring unruly children on a plane? Make a barplot of the percent who gave each answer, but separated by whether the respondent has a kid or not.\n\nchild = flying |&gt;\n  group_by(unruly_child, children_under_18) |&gt;\n  tally() |&gt;\n  mutate(percent = n / sum(n) * 100)\n\nggplot(child, aes(y = unruly_child, x = percent,\n                  fill = children_under_18)) + geom_col()"
  },
  {
    "objectID": "slides/f24/08-modeling.html#patterns-in-the-data",
    "href": "slides/f24/08-modeling.html#patterns-in-the-data",
    "title": "Modeling I",
    "section": "Patterns in the data",
    "text": "Patterns in the data\n\n\n\nSo far: wrangling and visualizing data\nLooking for patterns (hopefully real)\nExamples?"
  },
  {
    "objectID": "slides/f24/08-modeling.html#patterns-and-correlations",
    "href": "slides/f24/08-modeling.html#patterns-and-correlations",
    "title": "Modeling I",
    "section": "Patterns and correlations",
    "text": "Patterns and correlations\n\nA useful way to talk about these patterns is in terms of correlations\n\nWhen we see a pattern between two (or more) variables, we say they are correlated; when we donâ€™t see one, we say they are uncorrelated\n\n\nCorrelations can be strong or weak, positive or negative"
  },
  {
    "objectID": "slides/f24/08-modeling.html#correlations-strength",
    "href": "slides/f24/08-modeling.html#correlations-strength",
    "title": "Modeling I",
    "section": "Correlations: strength",
    "text": "Correlations: strength\nWhen two variables â€œmove togetherâ€, the correlation is strong\nWhen they donâ€™t â€œmove togetherâ€, the correlation is weak"
  },
  {
    "objectID": "slides/f24/08-modeling.html#correlations-strength-1",
    "href": "slides/f24/08-modeling.html#correlations-strength-1",
    "title": "Modeling I",
    "section": "Correlations: strength",
    "text": "Correlations: strength\nBetter heuristic: knowing about one variable tells you something about the other\n\n\n\nStrong: if you know how a county voted in 2012, you have a good guess for 2016\nWeak: if you know a countyâ€™s average commute time, you know almost nothing about how it votes"
  },
  {
    "objectID": "slides/f24/08-modeling.html#correlation-strength",
    "href": "slides/f24/08-modeling.html#correlation-strength",
    "title": "Modeling I",
    "section": "Correlation: strength",
    "text": "Correlation: strength\nWe also talk (informally) about correlations that include categorical variables\nBig gaps between groups \\(\\rightarrow\\) correlated"
  },
  {
    "objectID": "slides/f24/08-modeling.html#correlation-direction",
    "href": "slides/f24/08-modeling.html#correlation-direction",
    "title": "Modeling I",
    "section": "Correlation: direction",
    "text": "Correlation: direction\nâ•: When two variables move â€œin the same directionâ€\nâ–: When two variables move â€œin opposite directionsâ€"
  },
  {
    "objectID": "slides/f24/08-modeling.html#quantifying-correlation",
    "href": "slides/f24/08-modeling.html#quantifying-correlation",
    "title": "Modeling I",
    "section": "Quantifying correlation",
    "text": "Quantifying correlation\nWhen the two variables are continuous, we can quantify the correlation\n\\[r =\n  \\frac{ \\sum_{i=1}^{n}(x_i-\\bar{x})(y_i-\\bar{y}) }{\\sqrt{\\sum_{i=1}^{n}(x_i-\\bar{x})^2\\sum_{i=1}^{n}(y_i-\\bar{y})^2}}\\]\n\nCorrelation coefficient, r:\nranges from -1 to 1,\nperfectly correlated = 1 or -1,\nperfectly uncorrelated = 0\n\n\nAll of the movement is here: \\(\\sum_{i=1}^{n}(x_i-\\bar{x})(y_i-\\bar{y})\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#quantifying-correlation-1",
    "href": "slides/f24/08-modeling.html#quantifying-correlation-1",
    "title": "Modeling I",
    "section": "Quantifying correlation",
    "text": "Quantifying correlation\n\n\n\n\n\n\nage\n\\(\\overline{age}\\)\n\\(\\ age_{i} - \\overline{age}\\)\nchild\n\\(\\overline{child}\\)\n\\(\\ child_{i} - \\overline{child}\\)\nproduct\n\n\n\n\n80\n49.16\n30.84\n5\n1.85\n3.15\n97.10\n\n\n57\n49.16\n7.84\n2\n1.85\n0.15\n1.16\n\n\n26\n49.16\n-23.16\n1\n1.85\n-0.85\n19.73\n\n\n\n\n\n\n\n\n\\[\\sum_{i=1}^{n}(age_i-\\overline{age})(child_i-\\overline{child})\\]\n\nLots of big, positive products \\(\\rightarrow\\) strong positive correlation\n\n\nLots of big, negative products \\(\\rightarrow\\) strong negative correlation\n\n\nA mix of positive and negative products \\(\\rightarrow\\) weak correlation"
  },
  {
    "objectID": "slides/f24/08-modeling.html#interpreting-the-coefficient",
    "href": "slides/f24/08-modeling.html#interpreting-the-coefficient",
    "title": "Modeling I",
    "section": "Interpreting the coefficient",
    "text": "Interpreting the coefficient\n\n\n\n\n\n\n\nCorrelation coefficient\nRough meaning\n\n\n\n\n+/- 0.1 - 0.3\nModest\n\n\n+/- 0.3 - 0.5\nModerate\n\n\n+/- 0.5 - 0.8\nStrong\n\n\n+/- 0.8 - 0.9\nVery strong"
  },
  {
    "objectID": "slides/f24/08-modeling.html#correlation-coefficient-just-a-number",
    "href": "slides/f24/08-modeling.html#correlation-coefficient-just-a-number",
    "title": "Modeling I",
    "section": "Correlation coefficient: just a number",
    "text": "Correlation coefficient: just a number\n\nItâ€™s useful in a narrow range of situations\n\n\nThe underlying concepts are more broadly applicable\n\n\n\n\n\n\n\n\nStrength\nDirection\nMeaning\n\n\n\n\nStrong\nPositive\nAs X goes up, Y goes up *a lot*\n\n\nStrong\nNegative\nAs X goes up, Y goes down *a lot*\n\n\nWeak\nPositve\nAs X goes up, Y goes up *a little*\n\n\nWeak\nNegative\nAs X goes up, Y goes down *a little*"
  },
  {
    "objectID": "slides/f24/08-modeling.html#our-turn-correlations",
    "href": "slides/f24/08-modeling.html#our-turn-correlations",
    "title": "Modeling I",
    "section": "ğŸš¨ Our turn: correlations ğŸš¨",
    "text": "ğŸš¨ Our turn: correlations ğŸš¨\nWhat do these pair-wise correlations from elections tell us?"
  },
  {
    "objectID": "slides/f24/08-modeling.html#models-1",
    "href": "slides/f24/08-modeling.html#models-1",
    "title": "Modeling I",
    "section": "Models",
    "text": "Models\n\n\n\nModels are everywhere in social science (and industry)\nBeneath what ads you see, movie recs, election forecasts, social science research \\(\\rightarrow\\) a model\nIn the social sciences, we use models to describe how an outcome changes in response to a treatment"
  },
  {
    "objectID": "slides/f24/08-modeling.html#the-moving-parts",
    "href": "slides/f24/08-modeling.html#the-moving-parts",
    "title": "Modeling I",
    "section": "The moving parts",
    "text": "The moving parts\n\n\n\nThe things we want to study in the social sciences are complex\nWhy do people vote? We can think of lots of factors that go into this decision\nVoted = Age + Interest in politics + Free time + Social networks + . . .\nModels break up (decompose) the variance in an outcome into a set of explanatory variables"
  },
  {
    "objectID": "slides/f24/08-modeling.html#speaking-the-language",
    "href": "slides/f24/08-modeling.html#speaking-the-language",
    "title": "Modeling I",
    "section": "Speaking the language",
    "text": "Speaking the language\n\n\n\n\n\n\nY\nX\n\n\n\n\nOutcome variable\nTreatment variable\n\n\nResponse variable\nExplanatory variable\n\n\nDependent variable\nIndependent variable\n\n\nWhat is being changed\nWhat is causing the change in Y\n\n\n\n\n\n\n\n\nMaybe youâ€™ve seen some of these terms before; hereâ€™s what we will use"
  },
  {
    "objectID": "slides/f24/08-modeling.html#model-cars",
    "href": "slides/f24/08-modeling.html#model-cars",
    "title": "Modeling I",
    "section": "Model cars",
    "text": "Model cars\nSay we want to model how changing a carâ€™s weight (treatment) affects its fuel efficiency (outcome)\n\n\n\n\nSample from mtcars\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.62\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.88\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.32\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258\n110\n3.08\n3.21\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360\n175\n3.15\n3.44\n17.02\n0\n0\n3\n2"
  },
  {
    "objectID": "slides/f24/08-modeling.html#modeling-weight-and-fuel-efficiency",
    "href": "slides/f24/08-modeling.html#modeling-weight-and-fuel-efficiency",
    "title": "Modeling I",
    "section": "Modeling weight and fuel efficiency",
    "text": "Modeling weight and fuel efficiency\nVery strong, negative correlation (r = -.9)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#why-a-model",
    "href": "slides/f24/08-modeling.html#why-a-model",
    "title": "Modeling I",
    "section": "Why a model?",
    "text": "Why a model?\n\nGraph + correlation just gives us direction and strength of relationship\n\n\nWhat if we wanted to know what fuel efficiency to expect if a car weighs 3 tons, or 6.2?"
  },
  {
    "objectID": "slides/f24/08-modeling.html#lines-as-models",
    "href": "slides/f24/08-modeling.html#lines-as-models",
    "title": "Modeling I",
    "section": "Lines as models",
    "text": "Lines as models\n\nThereâ€™s many ways to model relationships between variables\n\n\nA simple model is a line that â€œfitsâ€ the data â€œwellâ€\n\n\nThe line of best fit describes how fuel efficiency changes as weight changes"
  },
  {
    "objectID": "slides/f24/08-modeling.html#strength-of-relationship",
    "href": "slides/f24/08-modeling.html#strength-of-relationship",
    "title": "Modeling I",
    "section": "Strength of relationship",
    "text": "Strength of relationship\nThe slope of the line quantifies the strength of the relationship\n\nSlope: -5.3 \\(\\rightarrow\\) for every ton of weight you add to a car, you lose 5 miles per gallon"
  },
  {
    "objectID": "slides/f24/08-modeling.html#guessing-where-theres-no-data",
    "href": "slides/f24/08-modeling.html#guessing-where-theres-no-data",
    "title": "Modeling I",
    "section": "Guessing where thereâ€™s no data",
    "text": "Guessing where thereâ€™s no data\nLine also gives us â€œbest guessâ€ for the fuel efficiency of a car with a given weight\n\neven where we have no data\n\n\nbest guess for 4.5 ton car \\(\\rightarrow\\) 13 mpg"
  },
  {
    "objectID": "slides/f24/08-modeling.html#drawing-lines-in-r",
    "href": "slides/f24/08-modeling.html#drawing-lines-in-r",
    "title": "Modeling I",
    "section": "Drawing lines in R",
    "text": "Drawing lines in R\nWe can add a trend-line to a graph using geom_smooth(method = \"lm\")\n\n\nggplot(mtcars, aes(x = wt, y = mpg)) + geom_point() + geom_smooth(method = \"lm\")"
  },
  {
    "objectID": "slides/f24/08-modeling.html#where-does-this-line-come-from",
    "href": "slides/f24/08-modeling.html#where-does-this-line-come-from",
    "title": "Modeling I",
    "section": "Where does this line come from?",
    "text": "Where does this line come from?\n\n\n\n6th grade algebra notation:\n\\(Y = b + mx\\)\nY = a number\nx = a number\nm = the slope \\(\\frac{rise}{run}\\)\nb = the intercept\n\n\n\nStatistical notation:\n\\(Y = \\beta_0 + \\beta_{1} x\\)\n\\(Y\\) = a number\n\\(x1\\) = a number\n\\(\\beta_1\\) = the slope \\(\\frac{rise}{run}\\)\n\\(\\beta_0\\) = the intercept\n\n\n\n\nIf you know \\(\\beta_0\\) (intercept) and \\(\\beta_1\\) (slope) you can draw a line"
  },
  {
    "objectID": "slides/f24/08-modeling.html#some-lines",
    "href": "slides/f24/08-modeling.html#some-lines",
    "title": "Modeling I",
    "section": "Some lines",
    "text": "Some lines"
  },
  {
    "objectID": "slides/f24/08-modeling.html#which-line-to-draw",
    "href": "slides/f24/08-modeling.html#which-line-to-draw",
    "title": "Modeling I",
    "section": "Which line to draw?",
    "text": "Which line to draw?\nWe could draw many lines through this data; which is â€œbestâ€?"
  },
  {
    "objectID": "slides/f24/08-modeling.html#drawing-the-line",
    "href": "slides/f24/08-modeling.html#drawing-the-line",
    "title": "Modeling I",
    "section": "Drawing the line",
    "text": "Drawing the line\nWe need to find the intercept (\\(\\beta_0\\)) and slope (\\(\\beta_1\\)) that will â€œfitâ€ the data â€œwellâ€\n\\(mpg_{i} = \\beta_0 + \\beta_1 \\times weight_{i}\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#what-does-it-mean-to-fit-well",
    "href": "slides/f24/08-modeling.html#what-does-it-mean-to-fit-well",
    "title": "Modeling I",
    "section": "What does it mean to â€œfit wellâ€?",
    "text": "What does it mean to â€œfit wellâ€?\n\n\n\nModels use a rule for defining what it means to fit the data â€œwellâ€\nThis rule is called a loss function\nDifferent models use different loss functions\nWeâ€™ll look at the most popular modeling approach:\nordinary least squares (OLS)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#the-loss-function-for-ols",
    "href": "slides/f24/08-modeling.html#the-loss-function-for-ols",
    "title": "Modeling I",
    "section": "The loss function for OLS",
    "text": "The loss function for OLS\n\nThe loss function for OLS (roughly!) says:\n\n\na line fits the data well if the sum of all the squared distances between the line and each data point is as small as possible\n\n\n\\(Y_i\\) is the data point \\(\\rightarrow\\) value of observation \\(i\\) \\(\\rightarrow\\) the mpg of car \\(i\\)\n\n\n\\(\\widehat{Y_i}\\) is the line \\(\\rightarrow\\) the mpg our line predicts for a car with that weight \\(\\rightarrow\\)\n\n\n\\(\\beta_0 + \\beta_1 \\times weight\\)\n\n\nDistance between each point and line = \\((Y_i - \\widehat{Y_i})\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line",
    "href": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(Y_i\\) = actual MPG for the Toyota Corolla"
  },
  {
    "objectID": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line-1",
    "href": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line-1",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(\\widehat{Y_i}\\) = our modelâ€™s predicted MPG (\\(\\beta_0\\) + \\(\\beta_1 \\times weight\\)) for the Corolla"
  },
  {
    "objectID": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line-2",
    "href": "slides/f24/08-modeling.html#distance-between-each-point-and-the-line-2",
    "title": "Modeling I",
    "section": "Distance between each point and the line",
    "text": "Distance between each point and the line\n\\(Y_i - \\widehat{Y_i}\\) = the distance between the data point and the line"
  },
  {
    "objectID": "slides/f24/08-modeling.html#back-to-the-loss-function",
    "href": "slides/f24/08-modeling.html#back-to-the-loss-function",
    "title": "Modeling I",
    "section": "Back to the loss function",
    "text": "Back to the loss function\n\\(Y_i - \\widehat{Y_i}\\) is the distance between the point and the line\n\nOLS uses the squared distances: \\((Y_i - \\widehat{Y_i})^2\\)\n\n\nThe sum of the squared distances: \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2}\\)\n\n\nRemember that \\(\\widehat{Y_i} = \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight\\)\n\n\nSo can rewrite: \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} = \\sum_i^n{(Y_i - \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight)^2}\\)\n\n\nSo we need to pick \\(\\beta_0\\) and \\(\\beta_1\\) to make this as small as possible (minimize):\n\\(\\sum_i^n{(Y_i - \\widehat{\\beta_0} + \\widehat{\\beta_{1}} \\times weight)^2}\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#estimating-the-parameters",
    "href": "slides/f24/08-modeling.html#estimating-the-parameters",
    "title": "Modeling I",
    "section": "Estimating the parameters",
    "text": "Estimating the parameters\n\nHow do we find the specific \\(\\beta_0\\) and \\(\\beta_1\\) that minimize the loss function?\n\n\nZooming out (not just OLS): in modeling there are two kinds of approaches\n\n\n\n\n\nStatistical theory: make some assumptions and use math to find \\(\\beta_0\\) and \\(\\beta_1\\)\n\n\n\nComputational: make some assumptions and use brute force smart guessing to find \\(\\beta_0\\) and \\(\\beta_1\\)\n\n\n\n\n\nSometimes (1) and (2) will produce the same answer; other times only (1) or (2) is possible"
  },
  {
    "objectID": "slides/f24/08-modeling.html#computational-approach",
    "href": "slides/f24/08-modeling.html#computational-approach",
    "title": "Modeling I",
    "section": "Computational approach",
    "text": "Computational approach\nImagine an algorithm that:\n\nDraws a line through the data by picking values of \\(\\beta_0\\) and \\(\\beta_1\\)\nSees how far each point is from the line\nSum up all the squared distances for that line (remember OLS calls for squaring!)\nRinse, repeat with a new line\n\n\nThe pair of \\(\\beta_0\\) and \\(\\beta_1\\) that produce the line with the smallest sum of squared distances is our OLS estimator"
  },
  {
    "objectID": "slides/f24/08-modeling.html#strawman-comparison",
    "href": "slides/f24/08-modeling.html#strawman-comparison",
    "title": "Modeling I",
    "section": "Strawman comparison",
    "text": "Strawman comparison\nWhich line fits the data better? (Duh)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#first-candidate-fit-the-line",
    "href": "slides/f24/08-modeling.html#first-candidate-fit-the-line",
    "title": "Modeling I",
    "section": "First candidate: fit the line",
    "text": "First candidate: fit the line\nRough guess: what is \\(\\beta_0\\) and \\(\\beta_1\\) here?"
  },
  {
    "objectID": "slides/f24/08-modeling.html#first-candidate-the-residuals",
    "href": "slides/f24/08-modeling.html#first-candidate-the-residuals",
    "title": "Modeling I",
    "section": "First candidate: the residuals",
    "text": "First candidate: the residuals\nHow far is each point from the line? This is \\((Y_i - \\widehat{Y_i})\\)\n\nAlso known as the residual \\(\\approx\\) how wrong the line is about each point"
  },
  {
    "objectID": "slides/f24/08-modeling.html#how-good-is-line-1",
    "href": "slides/f24/08-modeling.html#how-good-is-line-1",
    "title": "Modeling I",
    "section": "How good is line 1?",
    "text": "How good is line 1?\nRemember, our loss function says that a good line has small \\((Y_i - \\widehat{Y_i})^2\\)\n\n\n\n\n\n\n\n\nmpg\n\\(\\ \\widehat{mpg}\\)\nresidual\nsquared_residual\n\n\n\n\nMazda RX4\n21.0\n23.28\n-2.28\n5.21\n\n\nMazda RX4 Wag\n21.0\n21.92\n-0.92\n0.85\n\n\nDatsun 710\n22.8\n24.89\n-2.09\n4.35\n\n\nHornet 4 Drive\n21.4\n20.10\n1.30\n1.68\n\n\nHornet Sportabout\n18.7\n18.90\n-0.20\n0.04\n\n\n\n\n\n\n\n\n\n\nWe sum up the squared residuals to measure how good (or bad) the line is overall = \\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} \\approx 278.3\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#second-candidate-the-residuals",
    "href": "slides/f24/08-modeling.html#second-candidate-the-residuals",
    "title": "Modeling I",
    "section": "Second candidate: the residuals",
    "text": "Second candidate: the residuals"
  },
  {
    "objectID": "slides/f24/08-modeling.html#how-good-is-line-2",
    "href": "slides/f24/08-modeling.html#how-good-is-line-2",
    "title": "Modeling I",
    "section": "How good is line 2?",
    "text": "How good is line 2?\n\n\n\n\n\n\n\nmpg\n\\(\\ \\widehat{mpg}\\)\nresidual\nsquared_residual\n\n\n\n\nFerrari Dino\n19.7\n22.48\n-0.39\n0.15\n\n\nMerc 450SL\n17.3\n17.35\n-2.79\n7.78\n\n\nChrysler Imperial\n14.7\n8.72\n-5.39\n29.05\n\n\nPorsche 914-2\n26.0\n25.85\n5.91\n34.93\n\n\nCadillac Fleetwood\n10.4\n9.23\n-9.69\n93.90\n\n\n\n\n\n\n\n\n\n\\(\\sum_i^n{(Y_i - \\widehat{Y_i})^2} \\approx 1,126\\)\nSo line 2 is a much worse fit for the data than line 1"
  },
  {
    "objectID": "slides/f24/08-modeling.html#the-best-line",
    "href": "slides/f24/08-modeling.html#the-best-line",
    "title": "Modeling I",
    "section": "The best line",
    "text": "The best line\n\nThis is what geom_smooth() is doing under-the-hood (sorry)\n\n\nItâ€™s using math to figure out which line fits the data best\n\n\nConceptual best = the line that is closest to all the points\n\n\nMath best = the smallest sum of squared residuals"
  },
  {
    "objectID": "slides/f24/08-modeling.html#so-who-are-the-winning-betas",
    "href": "slides/f24/08-modeling.html#so-who-are-the-winning-betas",
    "title": "Modeling I",
    "section": "So who are the winning Betas?",
    "text": "So who are the winning Betas?\n\n\n\\(Y = \\beta_0 + \\beta1x_1\\)\n\\(mpg = \\beta_0 + \\beta_1 \\times weight\\)\n\\(mpg = 37 + -5 \\times weight\\)"
  },
  {
    "objectID": "slides/f24/08-modeling.html#what-does-this-model-get-us",
    "href": "slides/f24/08-modeling.html#what-does-this-model-get-us",
    "title": "Modeling I",
    "section": "What does this model get us?",
    "text": "What does this model get us?\n\\[mpg = 37 + -5weight\\]\n\nA lot\n\n\nWe can describe the overall rate of change with the slope\n\n\nfor every ton of weight we add to a car we lose 5 miles per gallon\n\n\nWe can also plug in whatever weight we want and get an estimate\n\n\nWhatâ€™s the fuel efficiency of a car that weighs exactly 2 tons?\n\n\n\\(mpg = 37 + -5 \\times weight\\)\n\\(mpg = 37 + -5 \\times 2 = 27\\)"
  }
]